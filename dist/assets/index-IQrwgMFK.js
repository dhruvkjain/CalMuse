(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function r(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(a){if(a.ep)return;a.ep=!0;const u=r(a);fetch(a.href,u)}})();var Tr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Nh={exports:{}},Ks={},Dh={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ro=Symbol.for("react.element"),Dp=Symbol.for("react.portal"),zp=Symbol.for("react.fragment"),Fp=Symbol.for("react.strict_mode"),Lp=Symbol.for("react.profiler"),Up=Symbol.for("react.provider"),Vp=Symbol.for("react.context"),jp=Symbol.for("react.forward_ref"),Hp=Symbol.for("react.suspense"),qp=Symbol.for("react.memo"),Wp=Symbol.for("react.lazy"),uc=Symbol.iterator;function Gp(e){return e===null||typeof e!="object"?null:(e=uc&&e[uc]||e["@@iterator"],typeof e=="function"?e:null)}var zh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Fh=Object.assign,Lh={};function Bi(e,t,r){this.props=e,this.context=t,this.refs=Lh,this.updater=r||zh}Bi.prototype.isReactComponent={};Bi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Bi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Uh(){}Uh.prototype=Bi.prototype;function rl(e,t,r){this.props=e,this.context=t,this.refs=Lh,this.updater=r||zh}var il=rl.prototype=new Uh;il.constructor=rl;Fh(il,Bi.prototype);il.isPureReactComponent=!0;var lc=Array.isArray,Vh=Object.prototype.hasOwnProperty,ol={current:null},jh={key:!0,ref:!0,__self:!0,__source:!0};function Hh(e,t,r){var i,a={},u=null,c=null;if(t!=null)for(i in t.ref!==void 0&&(c=t.ref),t.key!==void 0&&(u=""+t.key),t)Vh.call(t,i)&&!jh.hasOwnProperty(i)&&(a[i]=t[i]);var g=arguments.length-2;if(g===1)a.children=r;else if(1<g){for(var m=Array(g),C=0;C<g;C++)m[C]=arguments[C+2];a.children=m}if(e&&e.defaultProps)for(i in g=e.defaultProps,g)a[i]===void 0&&(a[i]=g[i]);return{$$typeof:Ro,type:e,key:u,ref:c,props:a,_owner:ol.current}}function Xp(e,t){return{$$typeof:Ro,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function sl(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ro}function $p(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var cc=/\/+/g;function Ta(e,t){return typeof e=="object"&&e!==null&&e.key!=null?$p(""+e.key):t.toString(36)}function ps(e,t,r,i,a){var u=typeof e;(u==="undefined"||u==="boolean")&&(e=null);var c=!1;if(e===null)c=!0;else switch(u){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case Ro:case Dp:c=!0}}if(c)return c=e,a=a(c),e=i===""?"."+Ta(c,0):i,lc(a)?(r="",e!=null&&(r=e.replace(cc,"$&/")+"/"),ps(a,t,r,"",function(C){return C})):a!=null&&(sl(a)&&(a=Xp(a,r+(!a.key||c&&c.key===a.key?"":(""+a.key).replace(cc,"$&/")+"/")+e)),t.push(a)),1;if(c=0,i=i===""?".":i+":",lc(e))for(var g=0;g<e.length;g++){u=e[g];var m=i+Ta(u,g);c+=ps(u,t,r,m,a)}else if(m=Gp(e),typeof m=="function")for(e=m.call(e),g=0;!(u=e.next()).done;)u=u.value,m=i+Ta(u,g++),c+=ps(u,t,r,m,a);else if(u==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function Qo(e,t,r){if(e==null)return e;var i=[],a=0;return ps(e,i,"","",function(u){return t.call(r,u,a++)}),i}function Yp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Et={current:null},vs={transition:null},Qp={ReactCurrentDispatcher:Et,ReactCurrentBatchConfig:vs,ReactCurrentOwner:ol};we.Children={map:Qo,forEach:function(e,t,r){Qo(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Qo(e,function(){t++}),t},toArray:function(e){return Qo(e,function(t){return t})||[]},only:function(e){if(!sl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};we.Component=Bi;we.Fragment=zp;we.Profiler=Lp;we.PureComponent=rl;we.StrictMode=Fp;we.Suspense=Hp;we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qp;we.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=Fh({},e.props),a=e.key,u=e.ref,c=e._owner;if(t!=null){if(t.ref!==void 0&&(u=t.ref,c=ol.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var g=e.type.defaultProps;for(m in t)Vh.call(t,m)&&!jh.hasOwnProperty(m)&&(i[m]=t[m]===void 0&&g!==void 0?g[m]:t[m])}var m=arguments.length-2;if(m===1)i.children=r;else if(1<m){g=Array(m);for(var C=0;C<m;C++)g[C]=arguments[C+2];i.children=g}return{$$typeof:Ro,type:e.type,key:a,ref:u,props:i,_owner:c}};we.createContext=function(e){return e={$$typeof:Vp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Up,_context:e},e.Consumer=e};we.createElement=Hh;we.createFactory=function(e){var t=Hh.bind(null,e);return t.type=e,t};we.createRef=function(){return{current:null}};we.forwardRef=function(e){return{$$typeof:jp,render:e}};we.isValidElement=sl;we.lazy=function(e){return{$$typeof:Wp,_payload:{_status:-1,_result:e},_init:Yp}};we.memo=function(e,t){return{$$typeof:qp,type:e,compare:t===void 0?null:t}};we.startTransition=function(e){var t=vs.transition;vs.transition={};try{e()}finally{vs.transition=t}};we.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};we.useCallback=function(e,t){return Et.current.useCallback(e,t)};we.useContext=function(e){return Et.current.useContext(e)};we.useDebugValue=function(){};we.useDeferredValue=function(e){return Et.current.useDeferredValue(e)};we.useEffect=function(e,t){return Et.current.useEffect(e,t)};we.useId=function(){return Et.current.useId()};we.useImperativeHandle=function(e,t,r){return Et.current.useImperativeHandle(e,t,r)};we.useInsertionEffect=function(e,t){return Et.current.useInsertionEffect(e,t)};we.useLayoutEffect=function(e,t){return Et.current.useLayoutEffect(e,t)};we.useMemo=function(e,t){return Et.current.useMemo(e,t)};we.useReducer=function(e,t,r){return Et.current.useReducer(e,t,r)};we.useRef=function(e){return Et.current.useRef(e)};we.useState=function(e){return Et.current.useState(e)};we.useSyncExternalStore=function(e,t,r){return Et.current.useSyncExternalStore(e,t,r)};we.useTransition=function(){return Et.current.useTransition()};we.version="18.2.0";Dh.exports=we;var Gt=Dh.exports;const pe=Bo(Gt);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kp=Gt,Zp=Symbol.for("react.element"),Jp=Symbol.for("react.fragment"),e0=Object.prototype.hasOwnProperty,t0=Kp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n0={key:!0,ref:!0,__self:!0,__source:!0};function qh(e,t,r){var i,a={},u=null,c=null;r!==void 0&&(u=""+r),t.key!==void 0&&(u=""+t.key),t.ref!==void 0&&(c=t.ref);for(i in t)e0.call(t,i)&&!n0.hasOwnProperty(i)&&(a[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)a[i]===void 0&&(a[i]=t[i]);return{$$typeof:Zp,type:e,key:u,ref:c,props:a,_owner:t0.current}}Ks.Fragment=Jp;Ks.jsx=qh;Ks.jsxs=qh;Nh.exports=Ks;var ne=Nh.exports,au={},Wh={exports:{}},Qt={},Gh={exports:{}},Xh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(X,te){var U=X.length;X.push(te);e:for(;0<U;){var de=U-1>>>1,Re=X[de];if(0<a(Re,te))X[de]=te,X[U]=Re,U=de;else break e}}function r(X){return X.length===0?null:X[0]}function i(X){if(X.length===0)return null;var te=X[0],U=X.pop();if(U!==te){X[0]=U;e:for(var de=0,Re=X.length,Lt=Re>>>1;de<Lt;){var h=2*(de+1)-1,p=X[h],x=h+1,B=X[x];if(0>a(p,U))x<Re&&0>a(B,p)?(X[de]=B,X[x]=U,de=x):(X[de]=p,X[h]=U,de=h);else if(x<Re&&0>a(B,U))X[de]=B,X[x]=U,de=x;else break e}}return te}function a(X,te){var U=X.sortIndex-te.sortIndex;return U!==0?U:X.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var c=Date,g=c.now();e.unstable_now=function(){return c.now()-g}}var m=[],C=[],S=1,M=null,f=3,w=!1,E=!1,O=!1,q=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(X){for(var te=r(C);te!==null;){if(te.callback===null)i(C);else if(te.startTime<=X)i(C),te.sortIndex=te.expirationTime,t(m,te);else break;te=r(C)}}function F(X){if(O=!1,P(X),!E)if(r(m)!==null)E=!0,Pt(G);else{var te=r(C);te!==null&&We(F,te.startTime-X)}}function G(X,te){E=!1,O&&(O=!1,T($),$=-1),w=!0;var U=f;try{for(P(te),M=r(m);M!==null&&(!(M.expirationTime>te)||X&&!fe());){var de=M.callback;if(typeof de=="function"){M.callback=null,f=M.priorityLevel;var Re=de(M.expirationTime<=te);te=e.unstable_now(),typeof Re=="function"?M.callback=Re:M===r(m)&&i(m),P(te)}else i(m);M=r(m)}if(M!==null)var Lt=!0;else{var h=r(C);h!==null&&We(F,h.startTime-te),Lt=!1}return Lt}finally{M=null,f=U,w=!1}}var Z=!1,J=null,$=-1,V=5,j=-1;function fe(){return!(e.unstable_now()-j<V)}function Ie(){if(J!==null){var X=e.unstable_now();j=X;var te=!0;try{te=J(!0,X)}finally{te?qe():(Z=!1,J=null)}}else Z=!1}var qe;if(typeof b=="function")qe=function(){b(Ie)};else if(typeof MessageChannel<"u"){var et=new MessageChannel,ge=et.port2;et.port1.onmessage=Ie,qe=function(){ge.postMessage(null)}}else qe=function(){q(Ie,0)};function Pt(X){J=X,Z||(Z=!0,qe())}function We(X,te){$=q(function(){X(e.unstable_now())},te)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(X){X.callback=null},e.unstable_continueExecution=function(){E||w||(E=!0,Pt(G))},e.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<X?Math.floor(1e3/X):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(m)},e.unstable_next=function(X){switch(f){case 1:case 2:case 3:var te=3;break;default:te=f}var U=f;f=te;try{return X()}finally{f=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(X,te){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var U=f;f=X;try{return te()}finally{f=U}},e.unstable_scheduleCallback=function(X,te,U){var de=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?de+U:de):U=de,X){case 1:var Re=-1;break;case 2:Re=250;break;case 5:Re=1073741823;break;case 4:Re=1e4;break;default:Re=5e3}return Re=U+Re,X={id:S++,callback:te,priorityLevel:X,startTime:U,expirationTime:Re,sortIndex:-1},U>de?(X.sortIndex=U,t(C,X),r(m)===null&&X===r(C)&&(O?(T($),$=-1):O=!0,We(F,U-de))):(X.sortIndex=Re,t(m,X),E||w||(E=!0,Pt(G))),X},e.unstable_shouldYield=fe,e.unstable_wrapCallback=function(X){var te=f;return function(){var U=f;f=te;try{return X.apply(this,arguments)}finally{f=U}}}})(Xh);Gh.exports=Xh;var r0=Gh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $h=Gt,Yt=r0;function K(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Yh=new Set,vo={};function Qr(e,t){Si(e,t),Si(e+"Capture",t)}function Si(e,t){for(vo[e]=t,e=0;e<t.length;e++)Yh.add(t[e])}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uu=Object.prototype.hasOwnProperty,i0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hc={},fc={};function o0(e){return uu.call(fc,e)?!0:uu.call(hc,e)?!1:i0.test(e)?fc[e]=!0:(hc[e]=!0,!1)}function s0(e,t,r,i){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function a0(e,t,r,i){if(t===null||typeof t>"u"||s0(e,t,r,i))return!0;if(i)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function St(e,t,r,i,a,u,c){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=u,this.removeEmptyString=c}var ut={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ut[e]=new St(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ut[t]=new St(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ut[e]=new St(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ut[e]=new St(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ut[e]=new St(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ut[e]=new St(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ut[e]=new St(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ut[e]=new St(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ut[e]=new St(e,5,!1,e.toLowerCase(),null,!1,!1)});var al=/[\-:]([a-z])/g;function ul(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(al,ul);ut[t]=new St(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(al,ul);ut[t]=new St(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(al,ul);ut[t]=new St(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ut[e]=new St(e,1,!1,e.toLowerCase(),null,!1,!1)});ut.xlinkHref=new St("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ut[e]=new St(e,1,!1,e.toLowerCase(),null,!0,!0)});function ll(e,t,r,i){var a=ut.hasOwnProperty(t)?ut[t]:null;(a!==null?a.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(a0(t,r,a,i)&&(r=null),i||a===null?o0(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,i=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,i?e.setAttributeNS(i,t,r):e.setAttribute(t,r))))}var tr=$h.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ko=Symbol.for("react.element"),si=Symbol.for("react.portal"),ai=Symbol.for("react.fragment"),cl=Symbol.for("react.strict_mode"),lu=Symbol.for("react.profiler"),Qh=Symbol.for("react.provider"),Kh=Symbol.for("react.context"),hl=Symbol.for("react.forward_ref"),cu=Symbol.for("react.suspense"),hu=Symbol.for("react.suspense_list"),fl=Symbol.for("react.memo"),pr=Symbol.for("react.lazy"),Zh=Symbol.for("react.offscreen"),dc=Symbol.iterator;function Wi(e){return e===null||typeof e!="object"?null:(e=dc&&e[dc]||e["@@iterator"],typeof e=="function"?e:null)}var Le=Object.assign,Ma;function eo(e){if(Ma===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ma=t&&t[1]||""}return`
`+Ma+e}var Ia=!1;function Aa(e,t){if(!e||Ia)return"";Ia=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(C){var i=C}Reflect.construct(e,[],t)}else{try{t.call()}catch(C){i=C}e.call(t.prototype)}else{try{throw Error()}catch(C){i=C}e()}}catch(C){if(C&&i&&typeof C.stack=="string"){for(var a=C.stack.split(`
`),u=i.stack.split(`
`),c=a.length-1,g=u.length-1;1<=c&&0<=g&&a[c]!==u[g];)g--;for(;1<=c&&0<=g;c--,g--)if(a[c]!==u[g]){if(c!==1||g!==1)do if(c--,g--,0>g||a[c]!==u[g]){var m=`
`+a[c].replace(" at new "," at ");return e.displayName&&m.includes("<anonymous>")&&(m=m.replace("<anonymous>",e.displayName)),m}while(1<=c&&0<=g);break}}}finally{Ia=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?eo(e):""}function u0(e){switch(e.tag){case 5:return eo(e.type);case 16:return eo("Lazy");case 13:return eo("Suspense");case 19:return eo("SuspenseList");case 0:case 2:case 15:return e=Aa(e.type,!1),e;case 11:return e=Aa(e.type.render,!1),e;case 1:return e=Aa(e.type,!0),e;default:return""}}function fu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ai:return"Fragment";case si:return"Portal";case lu:return"Profiler";case cl:return"StrictMode";case cu:return"Suspense";case hu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Kh:return(e.displayName||"Context")+".Consumer";case Qh:return(e._context.displayName||"Context")+".Provider";case hl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case fl:return t=e.displayName||null,t!==null?t:fu(e.type)||"Memo";case pr:t=e._payload,e=e._init;try{return fu(e(t))}catch{}}return null}function l0(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fu(t);case 8:return t===cl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Mr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Jh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function c0(e){var t=Jh(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,u=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(c){i=""+c,u.call(this,c)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(c){i=""+c},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Zo(e){e._valueTracker||(e._valueTracker=c0(e))}function ef(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),i="";return e&&(i=Jh(e)?e.checked?"true":"false":e.value),e=i,e!==r?(t.setValue(e),!0):!1}function Ps(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function du(e,t){var r=t.checked;return Le({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function pc(e,t){var r=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;r=Mr(t.value!=null?t.value:r),e._wrapperState={initialChecked:i,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function tf(e,t){t=t.checked,t!=null&&ll(e,"checked",t,!1)}function pu(e,t){tf(e,t);var r=Mr(t.value),i=t.type;if(r!=null)i==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?vu(e,t.type,r):t.hasOwnProperty("defaultValue")&&vu(e,t.type,Mr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function vc(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function vu(e,t,r){(t!=="number"||Ps(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var to=Array.isArray;function mi(e,t,r,i){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&i&&(e[r].defaultSelected=!0)}else{for(r=""+Mr(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,i&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function yu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(K(91));return Le({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function yc(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(K(92));if(to(r)){if(1<r.length)throw Error(K(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Mr(r)}}function nf(e,t){var r=Mr(t.value),i=Mr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),i!=null&&(e.defaultValue=""+i)}function gc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function rf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?rf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Jo,of=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,i,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,i,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Jo=Jo||document.createElement("div"),Jo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Jo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function yo(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var io={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},h0=["Webkit","ms","Moz","O"];Object.keys(io).forEach(function(e){h0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),io[t]=io[e]})});function sf(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||io.hasOwnProperty(e)&&io[e]?(""+t).trim():t+"px"}function af(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var i=r.indexOf("--")===0,a=sf(r,t[r],i);r==="float"&&(r="cssFloat"),i?e.setProperty(r,a):e[r]=a}}var f0=Le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mu(e,t){if(t){if(f0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(K(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(K(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(K(61))}if(t.style!=null&&typeof t.style!="object")throw Error(K(62))}}function _u(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wu=null;function dl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xu=null,_i=null,wi=null;function mc(e){if(e=Do(e)){if(typeof xu!="function")throw Error(K(280));var t=e.stateNode;t&&(t=na(t),xu(e.stateNode,e.type,t))}}function uf(e){_i?wi?wi.push(e):wi=[e]:_i=e}function lf(){if(_i){var e=_i,t=wi;if(wi=_i=null,mc(e),t)for(e=0;e<t.length;e++)mc(t[e])}}function cf(e,t){return e(t)}function hf(){}var Ba=!1;function ff(e,t,r){if(Ba)return e(t,r);Ba=!0;try{return cf(e,t,r)}finally{Ba=!1,(_i!==null||wi!==null)&&(hf(),lf())}}function go(e,t){var r=e.stateNode;if(r===null)return null;var i=na(r);if(i===null)return null;r=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(K(231,t,typeof r));return r}var Cu=!1;if(Kn)try{var Gi={};Object.defineProperty(Gi,"passive",{get:function(){Cu=!0}}),window.addEventListener("test",Gi,Gi),window.removeEventListener("test",Gi,Gi)}catch{Cu=!1}function d0(e,t,r,i,a,u,c,g,m){var C=Array.prototype.slice.call(arguments,3);try{t.apply(r,C)}catch(S){this.onError(S)}}var oo=!1,bs=null,Ts=!1,ku=null,p0={onError:function(e){oo=!0,bs=e}};function v0(e,t,r,i,a,u,c,g,m){oo=!1,bs=null,d0.apply(p0,arguments)}function y0(e,t,r,i,a,u,c,g,m){if(v0.apply(this,arguments),oo){if(oo){var C=bs;oo=!1,bs=null}else throw Error(K(198));Ts||(Ts=!0,ku=C)}}function Kr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function df(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _c(e){if(Kr(e)!==e)throw Error(K(188))}function g0(e){var t=e.alternate;if(!t){if(t=Kr(e),t===null)throw Error(K(188));return t!==e?null:e}for(var r=e,i=t;;){var a=r.return;if(a===null)break;var u=a.alternate;if(u===null){if(i=a.return,i!==null){r=i;continue}break}if(a.child===u.child){for(u=a.child;u;){if(u===r)return _c(a),e;if(u===i)return _c(a),t;u=u.sibling}throw Error(K(188))}if(r.return!==i.return)r=a,i=u;else{for(var c=!1,g=a.child;g;){if(g===r){c=!0,r=a,i=u;break}if(g===i){c=!0,i=a,r=u;break}g=g.sibling}if(!c){for(g=u.child;g;){if(g===r){c=!0,r=u,i=a;break}if(g===i){c=!0,i=u,r=a;break}g=g.sibling}if(!c)throw Error(K(189))}}if(r.alternate!==i)throw Error(K(190))}if(r.tag!==3)throw Error(K(188));return r.stateNode.current===r?e:t}function pf(e){return e=g0(e),e!==null?vf(e):null}function vf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=vf(e);if(t!==null)return t;e=e.sibling}return null}var yf=Yt.unstable_scheduleCallback,wc=Yt.unstable_cancelCallback,m0=Yt.unstable_shouldYield,_0=Yt.unstable_requestPaint,Ge=Yt.unstable_now,w0=Yt.unstable_getCurrentPriorityLevel,pl=Yt.unstable_ImmediatePriority,gf=Yt.unstable_UserBlockingPriority,Ms=Yt.unstable_NormalPriority,x0=Yt.unstable_LowPriority,mf=Yt.unstable_IdlePriority,Zs=null,Ln=null;function C0(e){if(Ln&&typeof Ln.onCommitFiberRoot=="function")try{Ln.onCommitFiberRoot(Zs,e,void 0,(e.current.flags&128)===128)}catch{}}var xn=Math.clz32?Math.clz32:S0,k0=Math.log,E0=Math.LN2;function S0(e){return e>>>=0,e===0?32:31-(k0(e)/E0|0)|0}var es=64,ts=4194304;function no(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Is(e,t){var r=e.pendingLanes;if(r===0)return 0;var i=0,a=e.suspendedLanes,u=e.pingedLanes,c=r&268435455;if(c!==0){var g=c&~a;g!==0?i=no(g):(u&=c,u!==0&&(i=no(u)))}else c=r&~a,c!==0?i=no(c):u!==0&&(i=no(u));if(i===0)return 0;if(t!==0&&t!==i&&!(t&a)&&(a=i&-i,u=t&-t,a>=u||a===16&&(u&4194240)!==0))return t;if(i&4&&(i|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)r=31-xn(t),a=1<<r,i|=e[r],t&=~a;return i}function P0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function b0(e,t){for(var r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,u=e.pendingLanes;0<u;){var c=31-xn(u),g=1<<c,m=a[c];m===-1?(!(g&r)||g&i)&&(a[c]=P0(g,t)):m<=t&&(e.expiredLanes|=g),u&=~g}}function Eu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function _f(){var e=es;return es<<=1,!(es&4194240)&&(es=64),e}function Ra(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Oo(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-xn(t),e[t]=r}function T0(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-xn(r),u=1<<a;t[a]=0,i[a]=-1,e[a]=-1,r&=~u}}function vl(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var i=31-xn(r),a=1<<i;a&t|e[i]&t&&(e[i]|=t),r&=~a}}var Pe=0;function wf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var xf,yl,Cf,kf,Ef,Su=!1,ns=[],wr=null,xr=null,Cr=null,mo=new Map,_o=new Map,yr=[],M0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xc(e,t){switch(e){case"focusin":case"focusout":wr=null;break;case"dragenter":case"dragleave":xr=null;break;case"mouseover":case"mouseout":Cr=null;break;case"pointerover":case"pointerout":mo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_o.delete(t.pointerId)}}function Xi(e,t,r,i,a,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:r,eventSystemFlags:i,nativeEvent:u,targetContainers:[a]},t!==null&&(t=Do(t),t!==null&&yl(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function I0(e,t,r,i,a){switch(t){case"focusin":return wr=Xi(wr,e,t,r,i,a),!0;case"dragenter":return xr=Xi(xr,e,t,r,i,a),!0;case"mouseover":return Cr=Xi(Cr,e,t,r,i,a),!0;case"pointerover":var u=a.pointerId;return mo.set(u,Xi(mo.get(u)||null,e,t,r,i,a)),!0;case"gotpointercapture":return u=a.pointerId,_o.set(u,Xi(_o.get(u)||null,e,t,r,i,a)),!0}return!1}function Sf(e){var t=Ur(e.target);if(t!==null){var r=Kr(t);if(r!==null){if(t=r.tag,t===13){if(t=df(r),t!==null){e.blockedOn=t,Ef(e.priority,function(){Cf(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ys(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Pu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var i=new r.constructor(r.type,r);wu=i,r.target.dispatchEvent(i),wu=null}else return t=Do(r),t!==null&&yl(t),e.blockedOn=r,!1;t.shift()}return!0}function Cc(e,t,r){ys(e)&&r.delete(t)}function A0(){Su=!1,wr!==null&&ys(wr)&&(wr=null),xr!==null&&ys(xr)&&(xr=null),Cr!==null&&ys(Cr)&&(Cr=null),mo.forEach(Cc),_o.forEach(Cc)}function $i(e,t){e.blockedOn===t&&(e.blockedOn=null,Su||(Su=!0,Yt.unstable_scheduleCallback(Yt.unstable_NormalPriority,A0)))}function wo(e){function t(a){return $i(a,e)}if(0<ns.length){$i(ns[0],e);for(var r=1;r<ns.length;r++){var i=ns[r];i.blockedOn===e&&(i.blockedOn=null)}}for(wr!==null&&$i(wr,e),xr!==null&&$i(xr,e),Cr!==null&&$i(Cr,e),mo.forEach(t),_o.forEach(t),r=0;r<yr.length;r++)i=yr[r],i.blockedOn===e&&(i.blockedOn=null);for(;0<yr.length&&(r=yr[0],r.blockedOn===null);)Sf(r),r.blockedOn===null&&yr.shift()}var xi=tr.ReactCurrentBatchConfig,As=!0;function B0(e,t,r,i){var a=Pe,u=xi.transition;xi.transition=null;try{Pe=1,gl(e,t,r,i)}finally{Pe=a,xi.transition=u}}function R0(e,t,r,i){var a=Pe,u=xi.transition;xi.transition=null;try{Pe=4,gl(e,t,r,i)}finally{Pe=a,xi.transition=u}}function gl(e,t,r,i){if(As){var a=Pu(e,t,r,i);if(a===null)Ha(e,t,i,Bs,r),xc(e,i);else if(I0(a,e,t,r,i))i.stopPropagation();else if(xc(e,i),t&4&&-1<M0.indexOf(e)){for(;a!==null;){var u=Do(a);if(u!==null&&xf(u),u=Pu(e,t,r,i),u===null&&Ha(e,t,i,Bs,r),u===a)break;a=u}a!==null&&i.stopPropagation()}else Ha(e,t,i,null,r)}}var Bs=null;function Pu(e,t,r,i){if(Bs=null,e=dl(i),e=Ur(e),e!==null)if(t=Kr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=df(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Bs=e,null}function Pf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(w0()){case pl:return 1;case gf:return 4;case Ms:case x0:return 16;case mf:return 536870912;default:return 16}default:return 16}}var mr=null,ml=null,gs=null;function bf(){if(gs)return gs;var e,t=ml,r=t.length,i,a="value"in mr?mr.value:mr.textContent,u=a.length;for(e=0;e<r&&t[e]===a[e];e++);var c=r-e;for(i=1;i<=c&&t[r-i]===a[u-i];i++);return gs=a.slice(e,1<i?1-i:void 0)}function ms(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function rs(){return!0}function kc(){return!1}function Kt(e){function t(r,i,a,u,c){this._reactName=r,this._targetInst=a,this.type=i,this.nativeEvent=u,this.target=c,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(r=e[g],this[g]=r?r(u):u[g]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?rs:kc,this.isPropagationStopped=kc,this}return Le(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=rs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=rs)},persist:function(){},isPersistent:rs}),t}var Ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_l=Kt(Ri),No=Le({},Ri,{view:0,detail:0}),O0=Kt(No),Oa,Na,Yi,Js=Le({},No,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yi&&(Yi&&e.type==="mousemove"?(Oa=e.screenX-Yi.screenX,Na=e.screenY-Yi.screenY):Na=Oa=0,Yi=e),Oa)},movementY:function(e){return"movementY"in e?e.movementY:Na}}),Ec=Kt(Js),N0=Le({},Js,{dataTransfer:0}),D0=Kt(N0),z0=Le({},No,{relatedTarget:0}),Da=Kt(z0),F0=Le({},Ri,{animationName:0,elapsedTime:0,pseudoElement:0}),L0=Kt(F0),U0=Le({},Ri,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),V0=Kt(U0),j0=Le({},Ri,{data:0}),Sc=Kt(j0),H0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},q0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},W0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function G0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=W0[e])?!!t[e]:!1}function wl(){return G0}var X0=Le({},No,{key:function(e){if(e.key){var t=H0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ms(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?q0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wl,charCode:function(e){return e.type==="keypress"?ms(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ms(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$0=Kt(X0),Y0=Le({},Js,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pc=Kt(Y0),Q0=Le({},No,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wl}),K0=Kt(Q0),Z0=Le({},Ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),J0=Kt(Z0),ev=Le({},Js,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),tv=Kt(ev),nv=[9,13,27,32],xl=Kn&&"CompositionEvent"in window,so=null;Kn&&"documentMode"in document&&(so=document.documentMode);var rv=Kn&&"TextEvent"in window&&!so,Tf=Kn&&(!xl||so&&8<so&&11>=so),bc=" ",Tc=!1;function Mf(e,t){switch(e){case"keyup":return nv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function If(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ui=!1;function iv(e,t){switch(e){case"compositionend":return If(t);case"keypress":return t.which!==32?null:(Tc=!0,bc);case"textInput":return e=t.data,e===bc&&Tc?null:e;default:return null}}function ov(e,t){if(ui)return e==="compositionend"||!xl&&Mf(e,t)?(e=bf(),gs=ml=mr=null,ui=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Tf&&t.locale!=="ko"?null:t.data;default:return null}}var sv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!sv[e.type]:t==="textarea"}function Af(e,t,r,i){uf(i),t=Rs(t,"onChange"),0<t.length&&(r=new _l("onChange","change",null,r,i),e.push({event:r,listeners:t}))}var ao=null,xo=null;function av(e){jf(e,0)}function ea(e){var t=hi(e);if(ef(t))return e}function uv(e,t){if(e==="change")return t}var Bf=!1;if(Kn){var za;if(Kn){var Fa="oninput"in document;if(!Fa){var Ic=document.createElement("div");Ic.setAttribute("oninput","return;"),Fa=typeof Ic.oninput=="function"}za=Fa}else za=!1;Bf=za&&(!document.documentMode||9<document.documentMode)}function Ac(){ao&&(ao.detachEvent("onpropertychange",Rf),xo=ao=null)}function Rf(e){if(e.propertyName==="value"&&ea(xo)){var t=[];Af(t,xo,e,dl(e)),ff(av,t)}}function lv(e,t,r){e==="focusin"?(Ac(),ao=t,xo=r,ao.attachEvent("onpropertychange",Rf)):e==="focusout"&&Ac()}function cv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ea(xo)}function hv(e,t){if(e==="click")return ea(t)}function fv(e,t){if(e==="input"||e==="change")return ea(t)}function dv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kn=typeof Object.is=="function"?Object.is:dv;function Co(e,t){if(kn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var a=r[i];if(!uu.call(t,a)||!kn(e[a],t[a]))return!1}return!0}function Bc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Rc(e,t){var r=Bc(e);e=0;for(var i;r;){if(r.nodeType===3){if(i=e+r.textContent.length,e<=t&&i>=t)return{node:r,offset:t-e};e=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Bc(r)}}function Of(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Of(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Nf(){for(var e=window,t=Ps();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ps(e.document)}return t}function Cl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function pv(e){var t=Nf(),r=e.focusedElem,i=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Of(r.ownerDocument.documentElement,r)){if(i!==null&&Cl(r)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,u=Math.min(i.start,a);i=i.end===void 0?u:Math.min(i.end,a),!e.extend&&u>i&&(a=i,i=u,u=a),a=Rc(r,u);var c=Rc(r,i);a&&c&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==c.node||e.focusOffset!==c.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),u>i?(e.addRange(t),e.extend(c.node,c.offset)):(t.setEnd(c.node,c.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vv=Kn&&"documentMode"in document&&11>=document.documentMode,li=null,bu=null,uo=null,Tu=!1;function Oc(e,t,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Tu||li==null||li!==Ps(i)||(i=li,"selectionStart"in i&&Cl(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),uo&&Co(uo,i)||(uo=i,i=Rs(bu,"onSelect"),0<i.length&&(t=new _l("onSelect","select",null,t,r),e.push({event:t,listeners:i}),t.target=li)))}function is(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ci={animationend:is("Animation","AnimationEnd"),animationiteration:is("Animation","AnimationIteration"),animationstart:is("Animation","AnimationStart"),transitionend:is("Transition","TransitionEnd")},La={},Df={};Kn&&(Df=document.createElement("div").style,"AnimationEvent"in window||(delete ci.animationend.animation,delete ci.animationiteration.animation,delete ci.animationstart.animation),"TransitionEvent"in window||delete ci.transitionend.transition);function ta(e){if(La[e])return La[e];if(!ci[e])return e;var t=ci[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Df)return La[e]=t[r];return e}var zf=ta("animationend"),Ff=ta("animationiteration"),Lf=ta("animationstart"),Uf=ta("transitionend"),Vf=new Map,Nc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){Vf.set(e,t),Qr(t,[e])}for(var Ua=0;Ua<Nc.length;Ua++){var Va=Nc[Ua],yv=Va.toLowerCase(),gv=Va[0].toUpperCase()+Va.slice(1);Ar(yv,"on"+gv)}Ar(zf,"onAnimationEnd");Ar(Ff,"onAnimationIteration");Ar(Lf,"onAnimationStart");Ar("dblclick","onDoubleClick");Ar("focusin","onFocus");Ar("focusout","onBlur");Ar(Uf,"onTransitionEnd");Si("onMouseEnter",["mouseout","mouseover"]);Si("onMouseLeave",["mouseout","mouseover"]);Si("onPointerEnter",["pointerout","pointerover"]);Si("onPointerLeave",["pointerout","pointerover"]);Qr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mv=new Set("cancel close invalid load scroll toggle".split(" ").concat(ro));function Dc(e,t,r){var i=e.type||"unknown-event";e.currentTarget=r,y0(i,t,void 0,e),e.currentTarget=null}function jf(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var i=e[r],a=i.event;i=i.listeners;e:{var u=void 0;if(t)for(var c=i.length-1;0<=c;c--){var g=i[c],m=g.instance,C=g.currentTarget;if(g=g.listener,m!==u&&a.isPropagationStopped())break e;Dc(a,g,C),u=m}else for(c=0;c<i.length;c++){if(g=i[c],m=g.instance,C=g.currentTarget,g=g.listener,m!==u&&a.isPropagationStopped())break e;Dc(a,g,C),u=m}}}if(Ts)throw e=ku,Ts=!1,ku=null,e}function Oe(e,t){var r=t[Ru];r===void 0&&(r=t[Ru]=new Set);var i=e+"__bubble";r.has(i)||(Hf(t,e,2,!1),r.add(i))}function ja(e,t,r){var i=0;t&&(i|=4),Hf(r,e,i,t)}var os="_reactListening"+Math.random().toString(36).slice(2);function ko(e){if(!e[os]){e[os]=!0,Yh.forEach(function(r){r!=="selectionchange"&&(mv.has(r)||ja(r,!1,e),ja(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[os]||(t[os]=!0,ja("selectionchange",!1,t))}}function Hf(e,t,r,i){switch(Pf(t)){case 1:var a=B0;break;case 4:a=R0;break;default:a=gl}r=a.bind(null,t,r,e),a=void 0,!Cu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),i?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Ha(e,t,r,i,a){var u=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var c=i.tag;if(c===3||c===4){var g=i.stateNode.containerInfo;if(g===a||g.nodeType===8&&g.parentNode===a)break;if(c===4)for(c=i.return;c!==null;){var m=c.tag;if((m===3||m===4)&&(m=c.stateNode.containerInfo,m===a||m.nodeType===8&&m.parentNode===a))return;c=c.return}for(;g!==null;){if(c=Ur(g),c===null)return;if(m=c.tag,m===5||m===6){i=u=c;continue e}g=g.parentNode}}i=i.return}ff(function(){var C=u,S=dl(r),M=[];e:{var f=Vf.get(e);if(f!==void 0){var w=_l,E=e;switch(e){case"keypress":if(ms(r)===0)break e;case"keydown":case"keyup":w=$0;break;case"focusin":E="focus",w=Da;break;case"focusout":E="blur",w=Da;break;case"beforeblur":case"afterblur":w=Da;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=Ec;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=D0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=K0;break;case zf:case Ff:case Lf:w=L0;break;case Uf:w=J0;break;case"scroll":w=O0;break;case"wheel":w=tv;break;case"copy":case"cut":case"paste":w=V0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=Pc}var O=(t&4)!==0,q=!O&&e==="scroll",T=O?f!==null?f+"Capture":null:f;O=[];for(var b=C,P;b!==null;){P=b;var F=P.stateNode;if(P.tag===5&&F!==null&&(P=F,T!==null&&(F=go(b,T),F!=null&&O.push(Eo(b,F,P)))),q)break;b=b.return}0<O.length&&(f=new w(f,E,null,r,S),M.push({event:f,listeners:O}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",f&&r!==wu&&(E=r.relatedTarget||r.fromElement)&&(Ur(E)||E[Zn]))break e;if((w||f)&&(f=S.window===S?S:(f=S.ownerDocument)?f.defaultView||f.parentWindow:window,w?(E=r.relatedTarget||r.toElement,w=C,E=E?Ur(E):null,E!==null&&(q=Kr(E),E!==q||E.tag!==5&&E.tag!==6)&&(E=null)):(w=null,E=C),w!==E)){if(O=Ec,F="onMouseLeave",T="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(O=Pc,F="onPointerLeave",T="onPointerEnter",b="pointer"),q=w==null?f:hi(w),P=E==null?f:hi(E),f=new O(F,b+"leave",w,r,S),f.target=q,f.relatedTarget=P,F=null,Ur(S)===C&&(O=new O(T,b+"enter",E,r,S),O.target=P,O.relatedTarget=q,F=O),q=F,w&&E)t:{for(O=w,T=E,b=0,P=O;P;P=oi(P))b++;for(P=0,F=T;F;F=oi(F))P++;for(;0<b-P;)O=oi(O),b--;for(;0<P-b;)T=oi(T),P--;for(;b--;){if(O===T||T!==null&&O===T.alternate)break t;O=oi(O),T=oi(T)}O=null}else O=null;w!==null&&zc(M,f,w,O,!1),E!==null&&q!==null&&zc(M,q,E,O,!0)}}e:{if(f=C?hi(C):window,w=f.nodeName&&f.nodeName.toLowerCase(),w==="select"||w==="input"&&f.type==="file")var G=uv;else if(Mc(f))if(Bf)G=fv;else{G=cv;var Z=lv}else(w=f.nodeName)&&w.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(G=hv);if(G&&(G=G(e,C))){Af(M,G,r,S);break e}Z&&Z(e,f,C),e==="focusout"&&(Z=f._wrapperState)&&Z.controlled&&f.type==="number"&&vu(f,"number",f.value)}switch(Z=C?hi(C):window,e){case"focusin":(Mc(Z)||Z.contentEditable==="true")&&(li=Z,bu=C,uo=null);break;case"focusout":uo=bu=li=null;break;case"mousedown":Tu=!0;break;case"contextmenu":case"mouseup":case"dragend":Tu=!1,Oc(M,r,S);break;case"selectionchange":if(vv)break;case"keydown":case"keyup":Oc(M,r,S)}var J;if(xl)e:{switch(e){case"compositionstart":var $="onCompositionStart";break e;case"compositionend":$="onCompositionEnd";break e;case"compositionupdate":$="onCompositionUpdate";break e}$=void 0}else ui?Mf(e,r)&&($="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&($="onCompositionStart");$&&(Tf&&r.locale!=="ko"&&(ui||$!=="onCompositionStart"?$==="onCompositionEnd"&&ui&&(J=bf()):(mr=S,ml="value"in mr?mr.value:mr.textContent,ui=!0)),Z=Rs(C,$),0<Z.length&&($=new Sc($,e,null,r,S),M.push({event:$,listeners:Z}),J?$.data=J:(J=If(r),J!==null&&($.data=J)))),(J=rv?iv(e,r):ov(e,r))&&(C=Rs(C,"onBeforeInput"),0<C.length&&(S=new Sc("onBeforeInput","beforeinput",null,r,S),M.push({event:S,listeners:C}),S.data=J))}jf(M,t)})}function Eo(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Rs(e,t){for(var r=t+"Capture",i=[];e!==null;){var a=e,u=a.stateNode;a.tag===5&&u!==null&&(a=u,u=go(e,r),u!=null&&i.unshift(Eo(e,u,a)),u=go(e,t),u!=null&&i.push(Eo(e,u,a))),e=e.return}return i}function oi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function zc(e,t,r,i,a){for(var u=t._reactName,c=[];r!==null&&r!==i;){var g=r,m=g.alternate,C=g.stateNode;if(m!==null&&m===i)break;g.tag===5&&C!==null&&(g=C,a?(m=go(r,u),m!=null&&c.unshift(Eo(r,m,g))):a||(m=go(r,u),m!=null&&c.push(Eo(r,m,g)))),r=r.return}c.length!==0&&e.push({event:t,listeners:c})}var _v=/\r\n?/g,wv=/\u0000|\uFFFD/g;function Fc(e){return(typeof e=="string"?e:""+e).replace(_v,`
`).replace(wv,"")}function ss(e,t,r){if(t=Fc(t),Fc(e)!==t&&r)throw Error(K(425))}function Os(){}var Mu=null,Iu=null;function Au(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Bu=typeof setTimeout=="function"?setTimeout:void 0,xv=typeof clearTimeout=="function"?clearTimeout:void 0,Lc=typeof Promise=="function"?Promise:void 0,Cv=typeof queueMicrotask=="function"?queueMicrotask:typeof Lc<"u"?function(e){return Lc.resolve(null).then(e).catch(kv)}:Bu;function kv(e){setTimeout(function(){throw e})}function qa(e,t){var r=t,i=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(i===0){e.removeChild(a),wo(t);return}i--}else r!=="$"&&r!=="$?"&&r!=="$!"||i++;r=a}while(r);wo(t)}function kr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Uc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Oi=Math.random().toString(36).slice(2),Fn="__reactFiber$"+Oi,So="__reactProps$"+Oi,Zn="__reactContainer$"+Oi,Ru="__reactEvents$"+Oi,Ev="__reactListeners$"+Oi,Sv="__reactHandles$"+Oi;function Ur(e){var t=e[Fn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Zn]||r[Fn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Uc(e);e!==null;){if(r=e[Fn])return r;e=Uc(e)}return t}e=r,r=e.parentNode}return null}function Do(e){return e=e[Fn]||e[Zn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function hi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(K(33))}function na(e){return e[So]||null}var Ou=[],fi=-1;function Br(e){return{current:e}}function Ne(e){0>fi||(e.current=Ou[fi],Ou[fi]=null,fi--)}function Be(e,t){fi++,Ou[fi]=e.current,e.current=t}var Ir={},gt=Br(Ir),Ot=Br(!1),Wr=Ir;function Pi(e,t){var r=e.type.contextTypes;if(!r)return Ir;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var a={},u;for(u in r)a[u]=t[u];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Nt(e){return e=e.childContextTypes,e!=null}function Ns(){Ne(Ot),Ne(gt)}function Vc(e,t,r){if(gt.current!==Ir)throw Error(K(168));Be(gt,t),Be(Ot,r)}function qf(e,t,r){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return r;i=i.getChildContext();for(var a in i)if(!(a in t))throw Error(K(108,l0(e)||"Unknown",a));return Le({},r,i)}function Ds(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ir,Wr=gt.current,Be(gt,e),Be(Ot,Ot.current),!0}function jc(e,t,r){var i=e.stateNode;if(!i)throw Error(K(169));r?(e=qf(e,t,Wr),i.__reactInternalMemoizedMergedChildContext=e,Ne(Ot),Ne(gt),Be(gt,e)):Ne(Ot),Be(Ot,r)}var Gn=null,ra=!1,Wa=!1;function Wf(e){Gn===null?Gn=[e]:Gn.push(e)}function Pv(e){ra=!0,Wf(e)}function Rr(){if(!Wa&&Gn!==null){Wa=!0;var e=0,t=Pe;try{var r=Gn;for(Pe=1;e<r.length;e++){var i=r[e];do i=i(!0);while(i!==null)}Gn=null,ra=!1}catch(a){throw Gn!==null&&(Gn=Gn.slice(e+1)),yf(pl,Rr),a}finally{Pe=t,Wa=!1}}return null}var di=[],pi=0,zs=null,Fs=0,on=[],sn=0,Gr=null,$n=1,Yn="";function Fr(e,t){di[pi++]=Fs,di[pi++]=zs,zs=e,Fs=t}function Gf(e,t,r){on[sn++]=$n,on[sn++]=Yn,on[sn++]=Gr,Gr=e;var i=$n;e=Yn;var a=32-xn(i)-1;i&=~(1<<a),r+=1;var u=32-xn(t)+a;if(30<u){var c=a-a%5;u=(i&(1<<c)-1).toString(32),i>>=c,a-=c,$n=1<<32-xn(t)+a|r<<a|i,Yn=u+e}else $n=1<<u|r<<a|i,Yn=e}function kl(e){e.return!==null&&(Fr(e,1),Gf(e,1,0))}function El(e){for(;e===zs;)zs=di[--pi],di[pi]=null,Fs=di[--pi],di[pi]=null;for(;e===Gr;)Gr=on[--sn],on[sn]=null,Yn=on[--sn],on[sn]=null,$n=on[--sn],on[sn]=null}var $t=null,Xt=null,De=!1,wn=null;function Xf(e,t){var r=an(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Hc(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,$t=e,Xt=kr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,$t=e,Xt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Gr!==null?{id:$n,overflow:Yn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=an(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,$t=e,Xt=null,!0):!1;default:return!1}}function Nu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Du(e){if(De){var t=Xt;if(t){var r=t;if(!Hc(e,t)){if(Nu(e))throw Error(K(418));t=kr(r.nextSibling);var i=$t;t&&Hc(e,t)?Xf(i,r):(e.flags=e.flags&-4097|2,De=!1,$t=e)}}else{if(Nu(e))throw Error(K(418));e.flags=e.flags&-4097|2,De=!1,$t=e}}}function qc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;$t=e}function as(e){if(e!==$t)return!1;if(!De)return qc(e),De=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Au(e.type,e.memoizedProps)),t&&(t=Xt)){if(Nu(e))throw $f(),Error(K(418));for(;t;)Xf(e,t),t=kr(t.nextSibling)}if(qc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(K(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Xt=kr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Xt=null}}else Xt=$t?kr(e.stateNode.nextSibling):null;return!0}function $f(){for(var e=Xt;e;)e=kr(e.nextSibling)}function bi(){Xt=$t=null,De=!1}function Sl(e){wn===null?wn=[e]:wn.push(e)}var bv=tr.ReactCurrentBatchConfig;function mn(e,t){if(e&&e.defaultProps){t=Le({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var Ls=Br(null),Us=null,vi=null,Pl=null;function bl(){Pl=vi=Us=null}function Tl(e){var t=Ls.current;Ne(Ls),e._currentValue=t}function zu(e,t,r){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===r)break;e=e.return}}function Ci(e,t){Us=e,Pl=vi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Rt=!0),e.firstContext=null)}function ln(e){var t=e._currentValue;if(Pl!==e)if(e={context:e,memoizedValue:t,next:null},vi===null){if(Us===null)throw Error(K(308));vi=e,Us.dependencies={lanes:0,firstContext:e}}else vi=vi.next=e;return t}var Vr=null;function Ml(e){Vr===null?Vr=[e]:Vr.push(e)}function Yf(e,t,r,i){var a=t.interleaved;return a===null?(r.next=r,Ml(t)):(r.next=a.next,a.next=r),t.interleaved=r,Jn(e,i)}function Jn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var vr=!1;function Il(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Qn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Er(e,t,r){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,Ce&2){var a=i.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),i.pending=t,Jn(e,r)}return a=i.interleaved,a===null?(t.next=t,Ml(i)):(t.next=a.next,a.next=t),i.interleaved=t,Jn(e,r)}function _s(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,vl(e,r)}}function Wc(e,t){var r=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var a=null,u=null;if(r=r.firstBaseUpdate,r!==null){do{var c={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};u===null?a=u=c:u=u.next=c,r=r.next}while(r!==null);u===null?a=u=t:u=u.next=t}else a=u=t;r={baseState:i.baseState,firstBaseUpdate:a,lastBaseUpdate:u,shared:i.shared,effects:i.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Vs(e,t,r,i){var a=e.updateQueue;vr=!1;var u=a.firstBaseUpdate,c=a.lastBaseUpdate,g=a.shared.pending;if(g!==null){a.shared.pending=null;var m=g,C=m.next;m.next=null,c===null?u=C:c.next=C,c=m;var S=e.alternate;S!==null&&(S=S.updateQueue,g=S.lastBaseUpdate,g!==c&&(g===null?S.firstBaseUpdate=C:g.next=C,S.lastBaseUpdate=m))}if(u!==null){var M=a.baseState;c=0,S=C=m=null,g=u;do{var f=g.lane,w=g.eventTime;if((i&f)===f){S!==null&&(S=S.next={eventTime:w,lane:0,tag:g.tag,payload:g.payload,callback:g.callback,next:null});e:{var E=e,O=g;switch(f=t,w=r,O.tag){case 1:if(E=O.payload,typeof E=="function"){M=E.call(w,M,f);break e}M=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=O.payload,f=typeof E=="function"?E.call(w,M,f):E,f==null)break e;M=Le({},M,f);break e;case 2:vr=!0}}g.callback!==null&&g.lane!==0&&(e.flags|=64,f=a.effects,f===null?a.effects=[g]:f.push(g))}else w={eventTime:w,lane:f,tag:g.tag,payload:g.payload,callback:g.callback,next:null},S===null?(C=S=w,m=M):S=S.next=w,c|=f;if(g=g.next,g===null){if(g=a.shared.pending,g===null)break;f=g,g=f.next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}while(!0);if(S===null&&(m=M),a.baseState=m,a.firstBaseUpdate=C,a.lastBaseUpdate=S,t=a.shared.interleaved,t!==null){a=t;do c|=a.lane,a=a.next;while(a!==t)}else u===null&&(a.shared.lanes=0);$r|=c,e.lanes=c,e.memoizedState=M}}function Gc(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],a=i.callback;if(a!==null){if(i.callback=null,i=r,typeof a!="function")throw Error(K(191,a));a.call(i)}}}var Kf=new $h.Component().refs;function Fu(e,t,r,i){t=e.memoizedState,r=r(i,t),r=r==null?t:Le({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ia={isMounted:function(e){return(e=e._reactInternals)?Kr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var i=kt(),a=Pr(e),u=Qn(i,a);u.payload=t,r!=null&&(u.callback=r),t=Er(e,u,a),t!==null&&(Cn(t,e,a,i),_s(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var i=kt(),a=Pr(e),u=Qn(i,a);u.tag=1,u.payload=t,r!=null&&(u.callback=r),t=Er(e,u,a),t!==null&&(Cn(t,e,a,i),_s(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=kt(),i=Pr(e),a=Qn(r,i);a.tag=2,t!=null&&(a.callback=t),t=Er(e,a,i),t!==null&&(Cn(t,e,i,r),_s(t,e,i))}};function Xc(e,t,r,i,a,u,c){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,u,c):t.prototype&&t.prototype.isPureReactComponent?!Co(r,i)||!Co(a,u):!0}function Zf(e,t,r){var i=!1,a=Ir,u=t.contextType;return typeof u=="object"&&u!==null?u=ln(u):(a=Nt(t)?Wr:gt.current,i=t.contextTypes,u=(i=i!=null)?Pi(e,a):Ir),t=new t(r,u),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ia,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=u),t}function $c(e,t,r,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,i),t.state!==e&&ia.enqueueReplaceState(t,t.state,null)}function Lu(e,t,r,i){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs=Kf,Il(e);var u=t.contextType;typeof u=="object"&&u!==null?a.context=ln(u):(u=Nt(t)?Wr:gt.current,a.context=Pi(e,u)),a.state=e.memoizedState,u=t.getDerivedStateFromProps,typeof u=="function"&&(Fu(e,t,u,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&ia.enqueueReplaceState(a,a.state,null),Vs(e,r,a,i),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Qi(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(K(309));var i=r.stateNode}if(!i)throw Error(K(147,e));var a=i,u=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===u?t.ref:(t=function(c){var g=a.refs;g===Kf&&(g=a.refs={}),c===null?delete g[u]:g[u]=c},t._stringRef=u,t)}if(typeof e!="string")throw Error(K(284));if(!r._owner)throw Error(K(290,e))}return e}function us(e,t){throw e=Object.prototype.toString.call(t),Error(K(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Yc(e){var t=e._init;return t(e._payload)}function Jf(e){function t(T,b){if(e){var P=T.deletions;P===null?(T.deletions=[b],T.flags|=16):P.push(b)}}function r(T,b){if(!e)return null;for(;b!==null;)t(T,b),b=b.sibling;return null}function i(T,b){for(T=new Map;b!==null;)b.key!==null?T.set(b.key,b):T.set(b.index,b),b=b.sibling;return T}function a(T,b){return T=br(T,b),T.index=0,T.sibling=null,T}function u(T,b,P){return T.index=P,e?(P=T.alternate,P!==null?(P=P.index,P<b?(T.flags|=2,b):P):(T.flags|=2,b)):(T.flags|=1048576,b)}function c(T){return e&&T.alternate===null&&(T.flags|=2),T}function g(T,b,P,F){return b===null||b.tag!==6?(b=Za(P,T.mode,F),b.return=T,b):(b=a(b,P),b.return=T,b)}function m(T,b,P,F){var G=P.type;return G===ai?S(T,b,P.props.children,F,P.key):b!==null&&(b.elementType===G||typeof G=="object"&&G!==null&&G.$$typeof===pr&&Yc(G)===b.type)?(F=a(b,P.props),F.ref=Qi(T,b,P),F.return=T,F):(F=Ss(P.type,P.key,P.props,null,T.mode,F),F.ref=Qi(T,b,P),F.return=T,F)}function C(T,b,P,F){return b===null||b.tag!==4||b.stateNode.containerInfo!==P.containerInfo||b.stateNode.implementation!==P.implementation?(b=Ja(P,T.mode,F),b.return=T,b):(b=a(b,P.children||[]),b.return=T,b)}function S(T,b,P,F,G){return b===null||b.tag!==7?(b=qr(P,T.mode,F,G),b.return=T,b):(b=a(b,P),b.return=T,b)}function M(T,b,P){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Za(""+b,T.mode,P),b.return=T,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ko:return P=Ss(b.type,b.key,b.props,null,T.mode,P),P.ref=Qi(T,null,b),P.return=T,P;case si:return b=Ja(b,T.mode,P),b.return=T,b;case pr:var F=b._init;return M(T,F(b._payload),P)}if(to(b)||Wi(b))return b=qr(b,T.mode,P,null),b.return=T,b;us(T,b)}return null}function f(T,b,P,F){var G=b!==null?b.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return G!==null?null:g(T,b,""+P,F);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Ko:return P.key===G?m(T,b,P,F):null;case si:return P.key===G?C(T,b,P,F):null;case pr:return G=P._init,f(T,b,G(P._payload),F)}if(to(P)||Wi(P))return G!==null?null:S(T,b,P,F,null);us(T,P)}return null}function w(T,b,P,F,G){if(typeof F=="string"&&F!==""||typeof F=="number")return T=T.get(P)||null,g(b,T,""+F,G);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Ko:return T=T.get(F.key===null?P:F.key)||null,m(b,T,F,G);case si:return T=T.get(F.key===null?P:F.key)||null,C(b,T,F,G);case pr:var Z=F._init;return w(T,b,P,Z(F._payload),G)}if(to(F)||Wi(F))return T=T.get(P)||null,S(b,T,F,G,null);us(b,F)}return null}function E(T,b,P,F){for(var G=null,Z=null,J=b,$=b=0,V=null;J!==null&&$<P.length;$++){J.index>$?(V=J,J=null):V=J.sibling;var j=f(T,J,P[$],F);if(j===null){J===null&&(J=V);break}e&&J&&j.alternate===null&&t(T,J),b=u(j,b,$),Z===null?G=j:Z.sibling=j,Z=j,J=V}if($===P.length)return r(T,J),De&&Fr(T,$),G;if(J===null){for(;$<P.length;$++)J=M(T,P[$],F),J!==null&&(b=u(J,b,$),Z===null?G=J:Z.sibling=J,Z=J);return De&&Fr(T,$),G}for(J=i(T,J);$<P.length;$++)V=w(J,T,$,P[$],F),V!==null&&(e&&V.alternate!==null&&J.delete(V.key===null?$:V.key),b=u(V,b,$),Z===null?G=V:Z.sibling=V,Z=V);return e&&J.forEach(function(fe){return t(T,fe)}),De&&Fr(T,$),G}function O(T,b,P,F){var G=Wi(P);if(typeof G!="function")throw Error(K(150));if(P=G.call(P),P==null)throw Error(K(151));for(var Z=G=null,J=b,$=b=0,V=null,j=P.next();J!==null&&!j.done;$++,j=P.next()){J.index>$?(V=J,J=null):V=J.sibling;var fe=f(T,J,j.value,F);if(fe===null){J===null&&(J=V);break}e&&J&&fe.alternate===null&&t(T,J),b=u(fe,b,$),Z===null?G=fe:Z.sibling=fe,Z=fe,J=V}if(j.done)return r(T,J),De&&Fr(T,$),G;if(J===null){for(;!j.done;$++,j=P.next())j=M(T,j.value,F),j!==null&&(b=u(j,b,$),Z===null?G=j:Z.sibling=j,Z=j);return De&&Fr(T,$),G}for(J=i(T,J);!j.done;$++,j=P.next())j=w(J,T,$,j.value,F),j!==null&&(e&&j.alternate!==null&&J.delete(j.key===null?$:j.key),b=u(j,b,$),Z===null?G=j:Z.sibling=j,Z=j);return e&&J.forEach(function(Ie){return t(T,Ie)}),De&&Fr(T,$),G}function q(T,b,P,F){if(typeof P=="object"&&P!==null&&P.type===ai&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case Ko:e:{for(var G=P.key,Z=b;Z!==null;){if(Z.key===G){if(G=P.type,G===ai){if(Z.tag===7){r(T,Z.sibling),b=a(Z,P.props.children),b.return=T,T=b;break e}}else if(Z.elementType===G||typeof G=="object"&&G!==null&&G.$$typeof===pr&&Yc(G)===Z.type){r(T,Z.sibling),b=a(Z,P.props),b.ref=Qi(T,Z,P),b.return=T,T=b;break e}r(T,Z);break}else t(T,Z);Z=Z.sibling}P.type===ai?(b=qr(P.props.children,T.mode,F,P.key),b.return=T,T=b):(F=Ss(P.type,P.key,P.props,null,T.mode,F),F.ref=Qi(T,b,P),F.return=T,T=F)}return c(T);case si:e:{for(Z=P.key;b!==null;){if(b.key===Z)if(b.tag===4&&b.stateNode.containerInfo===P.containerInfo&&b.stateNode.implementation===P.implementation){r(T,b.sibling),b=a(b,P.children||[]),b.return=T,T=b;break e}else{r(T,b);break}else t(T,b);b=b.sibling}b=Ja(P,T.mode,F),b.return=T,T=b}return c(T);case pr:return Z=P._init,q(T,b,Z(P._payload),F)}if(to(P))return E(T,b,P,F);if(Wi(P))return O(T,b,P,F);us(T,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,b!==null&&b.tag===6?(r(T,b.sibling),b=a(b,P),b.return=T,T=b):(r(T,b),b=Za(P,T.mode,F),b.return=T,T=b),c(T)):r(T,b)}return q}var Ti=Jf(!0),ed=Jf(!1),zo={},Un=Br(zo),Po=Br(zo),bo=Br(zo);function jr(e){if(e===zo)throw Error(K(174));return e}function Al(e,t){switch(Be(bo,t),Be(Po,e),Be(Un,zo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:gu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=gu(t,e)}Ne(Un),Be(Un,t)}function Mi(){Ne(Un),Ne(Po),Ne(bo)}function td(e){jr(bo.current);var t=jr(Un.current),r=gu(t,e.type);t!==r&&(Be(Po,e),Be(Un,r))}function Bl(e){Po.current===e&&(Ne(Un),Ne(Po))}var ze=Br(0);function js(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ga=[];function Rl(){for(var e=0;e<Ga.length;e++)Ga[e]._workInProgressVersionPrimary=null;Ga.length=0}var ws=tr.ReactCurrentDispatcher,Xa=tr.ReactCurrentBatchConfig,Xr=0,Fe=null,Ke=null,rt=null,Hs=!1,lo=!1,To=0,Tv=0;function pt(){throw Error(K(321))}function Ol(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!kn(e[r],t[r]))return!1;return!0}function Nl(e,t,r,i,a,u){if(Xr=u,Fe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ws.current=e===null||e.memoizedState===null?Bv:Rv,e=r(i,a),lo){u=0;do{if(lo=!1,To=0,25<=u)throw Error(K(301));u+=1,rt=Ke=null,t.updateQueue=null,ws.current=Ov,e=r(i,a)}while(lo)}if(ws.current=qs,t=Ke!==null&&Ke.next!==null,Xr=0,rt=Ke=Fe=null,Hs=!1,t)throw Error(K(300));return e}function Dl(){var e=To!==0;return To=0,e}function zn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?Fe.memoizedState=rt=e:rt=rt.next=e,rt}function cn(){if(Ke===null){var e=Fe.alternate;e=e!==null?e.memoizedState:null}else e=Ke.next;var t=rt===null?Fe.memoizedState:rt.next;if(t!==null)rt=t,Ke=e;else{if(e===null)throw Error(K(310));Ke=e,e={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},rt===null?Fe.memoizedState=rt=e:rt=rt.next=e}return rt}function Mo(e,t){return typeof t=="function"?t(e):t}function $a(e){var t=cn(),r=t.queue;if(r===null)throw Error(K(311));r.lastRenderedReducer=e;var i=Ke,a=i.baseQueue,u=r.pending;if(u!==null){if(a!==null){var c=a.next;a.next=u.next,u.next=c}i.baseQueue=a=u,r.pending=null}if(a!==null){u=a.next,i=i.baseState;var g=c=null,m=null,C=u;do{var S=C.lane;if((Xr&S)===S)m!==null&&(m=m.next={lane:0,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null}),i=C.hasEagerState?C.eagerState:e(i,C.action);else{var M={lane:S,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null};m===null?(g=m=M,c=i):m=m.next=M,Fe.lanes|=S,$r|=S}C=C.next}while(C!==null&&C!==u);m===null?c=i:m.next=g,kn(i,t.memoizedState)||(Rt=!0),t.memoizedState=i,t.baseState=c,t.baseQueue=m,r.lastRenderedState=i}if(e=r.interleaved,e!==null){a=e;do u=a.lane,Fe.lanes|=u,$r|=u,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ya(e){var t=cn(),r=t.queue;if(r===null)throw Error(K(311));r.lastRenderedReducer=e;var i=r.dispatch,a=r.pending,u=t.memoizedState;if(a!==null){r.pending=null;var c=a=a.next;do u=e(u,c.action),c=c.next;while(c!==a);kn(u,t.memoizedState)||(Rt=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),r.lastRenderedState=u}return[u,i]}function nd(){}function rd(e,t){var r=Fe,i=cn(),a=t(),u=!kn(i.memoizedState,a);if(u&&(i.memoizedState=a,Rt=!0),i=i.queue,zl(sd.bind(null,r,i,e),[e]),i.getSnapshot!==t||u||rt!==null&&rt.memoizedState.tag&1){if(r.flags|=2048,Io(9,od.bind(null,r,i,a,t),void 0,null),it===null)throw Error(K(349));Xr&30||id(r,t,a)}return a}function id(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Fe.updateQueue,t===null?(t={lastEffect:null,stores:null},Fe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function od(e,t,r,i){t.value=r,t.getSnapshot=i,ad(t)&&ud(e)}function sd(e,t,r){return r(function(){ad(t)&&ud(e)})}function ad(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!kn(e,r)}catch{return!0}}function ud(e){var t=Jn(e,1);t!==null&&Cn(t,e,1,-1)}function Qc(e){var t=zn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mo,lastRenderedState:e},t.queue=e,e=e.dispatch=Av.bind(null,Fe,e),[t.memoizedState,e]}function Io(e,t,r,i){return e={tag:e,create:t,destroy:r,deps:i,next:null},t=Fe.updateQueue,t===null?(t={lastEffect:null,stores:null},Fe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(i=r.next,r.next=e,e.next=i,t.lastEffect=e)),e}function ld(){return cn().memoizedState}function xs(e,t,r,i){var a=zn();Fe.flags|=e,a.memoizedState=Io(1|t,r,void 0,i===void 0?null:i)}function oa(e,t,r,i){var a=cn();i=i===void 0?null:i;var u=void 0;if(Ke!==null){var c=Ke.memoizedState;if(u=c.destroy,i!==null&&Ol(i,c.deps)){a.memoizedState=Io(t,r,u,i);return}}Fe.flags|=e,a.memoizedState=Io(1|t,r,u,i)}function Kc(e,t){return xs(8390656,8,e,t)}function zl(e,t){return oa(2048,8,e,t)}function cd(e,t){return oa(4,2,e,t)}function hd(e,t){return oa(4,4,e,t)}function fd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function dd(e,t,r){return r=r!=null?r.concat([e]):null,oa(4,4,fd.bind(null,t,e),r)}function Fl(){}function pd(e,t){var r=cn();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&Ol(t,i[1])?i[0]:(r.memoizedState=[e,t],e)}function vd(e,t){var r=cn();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&Ol(t,i[1])?i[0]:(e=e(),r.memoizedState=[e,t],e)}function yd(e,t,r){return Xr&21?(kn(r,t)||(r=_f(),Fe.lanes|=r,$r|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Rt=!0),e.memoizedState=r)}function Mv(e,t){var r=Pe;Pe=r!==0&&4>r?r:4,e(!0);var i=Xa.transition;Xa.transition={};try{e(!1),t()}finally{Pe=r,Xa.transition=i}}function gd(){return cn().memoizedState}function Iv(e,t,r){var i=Pr(e);if(r={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null},md(e))_d(t,r);else if(r=Yf(e,t,r,i),r!==null){var a=kt();Cn(r,e,i,a),wd(r,t,i)}}function Av(e,t,r){var i=Pr(e),a={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null};if(md(e))_d(t,a);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var c=t.lastRenderedState,g=u(c,r);if(a.hasEagerState=!0,a.eagerState=g,kn(g,c)){var m=t.interleaved;m===null?(a.next=a,Ml(t)):(a.next=m.next,m.next=a),t.interleaved=a;return}}catch{}finally{}r=Yf(e,t,a,i),r!==null&&(a=kt(),Cn(r,e,i,a),wd(r,t,i))}}function md(e){var t=e.alternate;return e===Fe||t!==null&&t===Fe}function _d(e,t){lo=Hs=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function wd(e,t,r){if(r&4194240){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,vl(e,r)}}var qs={readContext:ln,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useInsertionEffect:pt,useLayoutEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useMutableSource:pt,useSyncExternalStore:pt,useId:pt,unstable_isNewReconciler:!1},Bv={readContext:ln,useCallback:function(e,t){return zn().memoizedState=[e,t===void 0?null:t],e},useContext:ln,useEffect:Kc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,xs(4194308,4,fd.bind(null,t,e),r)},useLayoutEffect:function(e,t){return xs(4194308,4,e,t)},useInsertionEffect:function(e,t){return xs(4,2,e,t)},useMemo:function(e,t){var r=zn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var i=zn();return t=r!==void 0?r(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=Iv.bind(null,Fe,e),[i.memoizedState,e]},useRef:function(e){var t=zn();return e={current:e},t.memoizedState=e},useState:Qc,useDebugValue:Fl,useDeferredValue:function(e){return zn().memoizedState=e},useTransition:function(){var e=Qc(!1),t=e[0];return e=Mv.bind(null,e[1]),zn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var i=Fe,a=zn();if(De){if(r===void 0)throw Error(K(407));r=r()}else{if(r=t(),it===null)throw Error(K(349));Xr&30||id(i,t,r)}a.memoizedState=r;var u={value:r,getSnapshot:t};return a.queue=u,Kc(sd.bind(null,i,u,e),[e]),i.flags|=2048,Io(9,od.bind(null,i,u,r,t),void 0,null),r},useId:function(){var e=zn(),t=it.identifierPrefix;if(De){var r=Yn,i=$n;r=(i&~(1<<32-xn(i)-1)).toString(32)+r,t=":"+t+"R"+r,r=To++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Tv++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Rv={readContext:ln,useCallback:pd,useContext:ln,useEffect:zl,useImperativeHandle:dd,useInsertionEffect:cd,useLayoutEffect:hd,useMemo:vd,useReducer:$a,useRef:ld,useState:function(){return $a(Mo)},useDebugValue:Fl,useDeferredValue:function(e){var t=cn();return yd(t,Ke.memoizedState,e)},useTransition:function(){var e=$a(Mo)[0],t=cn().memoizedState;return[e,t]},useMutableSource:nd,useSyncExternalStore:rd,useId:gd,unstable_isNewReconciler:!1},Ov={readContext:ln,useCallback:pd,useContext:ln,useEffect:zl,useImperativeHandle:dd,useInsertionEffect:cd,useLayoutEffect:hd,useMemo:vd,useReducer:Ya,useRef:ld,useState:function(){return Ya(Mo)},useDebugValue:Fl,useDeferredValue:function(e){var t=cn();return Ke===null?t.memoizedState=e:yd(t,Ke.memoizedState,e)},useTransition:function(){var e=Ya(Mo)[0],t=cn().memoizedState;return[e,t]},useMutableSource:nd,useSyncExternalStore:rd,useId:gd,unstable_isNewReconciler:!1};function Ii(e,t){try{var r="",i=t;do r+=u0(i),i=i.return;while(i);var a=r}catch(u){a=`
Error generating stack: `+u.message+`
`+u.stack}return{value:e,source:t,stack:a,digest:null}}function Qa(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Uu(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Nv=typeof WeakMap=="function"?WeakMap:Map;function xd(e,t,r){r=Qn(-1,r),r.tag=3,r.payload={element:null};var i=t.value;return r.callback=function(){Gs||(Gs=!0,Qu=i),Uu(e,t)},r}function Cd(e,t,r){r=Qn(-1,r),r.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var a=t.value;r.payload=function(){return i(a)},r.callback=function(){Uu(e,t)}}var u=e.stateNode;return u!==null&&typeof u.componentDidCatch=="function"&&(r.callback=function(){Uu(e,t),typeof i!="function"&&(Sr===null?Sr=new Set([this]):Sr.add(this));var c=t.stack;this.componentDidCatch(t.value,{componentStack:c!==null?c:""})}),r}function Zc(e,t,r){var i=e.pingCache;if(i===null){i=e.pingCache=new Nv;var a=new Set;i.set(t,a)}else a=i.get(t),a===void 0&&(a=new Set,i.set(t,a));a.has(r)||(a.add(r),e=Yv.bind(null,e,t,r),t.then(e,e))}function Jc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function eh(e,t,r,i,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Qn(-1,1),t.tag=2,Er(r,t,1))),r.lanes|=1),e)}var Dv=tr.ReactCurrentOwner,Rt=!1;function Ct(e,t,r,i){t.child=e===null?ed(t,null,r,i):Ti(t,e.child,r,i)}function th(e,t,r,i,a){r=r.render;var u=t.ref;return Ci(t,a),i=Nl(e,t,r,i,u,a),r=Dl(),e!==null&&!Rt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,er(e,t,a)):(De&&r&&kl(t),t.flags|=1,Ct(e,t,i,a),t.child)}function nh(e,t,r,i,a){if(e===null){var u=r.type;return typeof u=="function"&&!Gl(u)&&u.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=u,kd(e,t,u,i,a)):(e=Ss(r.type,null,i,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!(e.lanes&a)){var c=u.memoizedProps;if(r=r.compare,r=r!==null?r:Co,r(c,i)&&e.ref===t.ref)return er(e,t,a)}return t.flags|=1,e=br(u,i),e.ref=t.ref,e.return=t,t.child=e}function kd(e,t,r,i,a){if(e!==null){var u=e.memoizedProps;if(Co(u,i)&&e.ref===t.ref)if(Rt=!1,t.pendingProps=i=u,(e.lanes&a)!==0)e.flags&131072&&(Rt=!0);else return t.lanes=e.lanes,er(e,t,a)}return Vu(e,t,r,i,a)}function Ed(e,t,r){var i=t.pendingProps,a=i.children,u=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(gi,Wt),Wt|=r;else{if(!(r&1073741824))return e=u!==null?u.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Be(gi,Wt),Wt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=u!==null?u.baseLanes:r,Be(gi,Wt),Wt|=i}else u!==null?(i=u.baseLanes|r,t.memoizedState=null):i=r,Be(gi,Wt),Wt|=i;return Ct(e,t,a,r),t.child}function Sd(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Vu(e,t,r,i,a){var u=Nt(r)?Wr:gt.current;return u=Pi(t,u),Ci(t,a),r=Nl(e,t,r,i,u,a),i=Dl(),e!==null&&!Rt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,er(e,t,a)):(De&&i&&kl(t),t.flags|=1,Ct(e,t,r,a),t.child)}function rh(e,t,r,i,a){if(Nt(r)){var u=!0;Ds(t)}else u=!1;if(Ci(t,a),t.stateNode===null)Cs(e,t),Zf(t,r,i),Lu(t,r,i,a),i=!0;else if(e===null){var c=t.stateNode,g=t.memoizedProps;c.props=g;var m=c.context,C=r.contextType;typeof C=="object"&&C!==null?C=ln(C):(C=Nt(r)?Wr:gt.current,C=Pi(t,C));var S=r.getDerivedStateFromProps,M=typeof S=="function"||typeof c.getSnapshotBeforeUpdate=="function";M||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(g!==i||m!==C)&&$c(t,c,i,C),vr=!1;var f=t.memoizedState;c.state=f,Vs(t,i,c,a),m=t.memoizedState,g!==i||f!==m||Ot.current||vr?(typeof S=="function"&&(Fu(t,r,S,i),m=t.memoizedState),(g=vr||Xc(t,r,g,i,f,m,C))?(M||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=m),c.props=i,c.state=m,c.context=C,i=g):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{c=t.stateNode,Qf(e,t),g=t.memoizedProps,C=t.type===t.elementType?g:mn(t.type,g),c.props=C,M=t.pendingProps,f=c.context,m=r.contextType,typeof m=="object"&&m!==null?m=ln(m):(m=Nt(r)?Wr:gt.current,m=Pi(t,m));var w=r.getDerivedStateFromProps;(S=typeof w=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(g!==M||f!==m)&&$c(t,c,i,m),vr=!1,f=t.memoizedState,c.state=f,Vs(t,i,c,a);var E=t.memoizedState;g!==M||f!==E||Ot.current||vr?(typeof w=="function"&&(Fu(t,r,w,i),E=t.memoizedState),(C=vr||Xc(t,r,C,i,f,E,m)||!1)?(S||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(i,E,m),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(i,E,m)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||g===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=E),c.props=i,c.state=E,c.context=m,i=C):(typeof c.componentDidUpdate!="function"||g===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),i=!1)}return ju(e,t,r,i,u,a)}function ju(e,t,r,i,a,u){Sd(e,t);var c=(t.flags&128)!==0;if(!i&&!c)return a&&jc(t,r,!1),er(e,t,u);i=t.stateNode,Dv.current=t;var g=c&&typeof r.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&c?(t.child=Ti(t,e.child,null,u),t.child=Ti(t,null,g,u)):Ct(e,t,g,u),t.memoizedState=i.state,a&&jc(t,r,!0),t.child}function Pd(e){var t=e.stateNode;t.pendingContext?Vc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Vc(e,t.context,!1),Al(e,t.containerInfo)}function ih(e,t,r,i,a){return bi(),Sl(a),t.flags|=256,Ct(e,t,r,i),t.child}var Hu={dehydrated:null,treeContext:null,retryLane:0};function qu(e){return{baseLanes:e,cachePool:null,transitions:null}}function bd(e,t,r){var i=t.pendingProps,a=ze.current,u=!1,c=(t.flags&128)!==0,g;if((g=c)||(g=e!==null&&e.memoizedState===null?!1:(a&2)!==0),g?(u=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Be(ze,a&1),e===null)return Du(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(c=i.children,e=i.fallback,u?(i=t.mode,u=t.child,c={mode:"hidden",children:c},!(i&1)&&u!==null?(u.childLanes=0,u.pendingProps=c):u=ua(c,i,0,null),e=qr(e,i,r,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=qu(r),t.memoizedState=Hu,e):Ll(t,c));if(a=e.memoizedState,a!==null&&(g=a.dehydrated,g!==null))return zv(e,t,c,i,g,a,r);if(u){u=i.fallback,c=t.mode,a=e.child,g=a.sibling;var m={mode:"hidden",children:i.children};return!(c&1)&&t.child!==a?(i=t.child,i.childLanes=0,i.pendingProps=m,t.deletions=null):(i=br(a,m),i.subtreeFlags=a.subtreeFlags&14680064),g!==null?u=br(g,u):(u=qr(u,c,r,null),u.flags|=2),u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,c=e.child.memoizedState,c=c===null?qu(r):{baseLanes:c.baseLanes|r,cachePool:null,transitions:c.transitions},u.memoizedState=c,u.childLanes=e.childLanes&~r,t.memoizedState=Hu,i}return u=e.child,e=u.sibling,i=br(u,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=r),i.return=t,i.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=i,t.memoizedState=null,i}function Ll(e,t){return t=ua({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ls(e,t,r,i){return i!==null&&Sl(i),Ti(t,e.child,null,r),e=Ll(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function zv(e,t,r,i,a,u,c){if(r)return t.flags&256?(t.flags&=-257,i=Qa(Error(K(422))),ls(e,t,c,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(u=i.fallback,a=t.mode,i=ua({mode:"visible",children:i.children},a,0,null),u=qr(u,a,c,null),u.flags|=2,i.return=t,u.return=t,i.sibling=u,t.child=i,t.mode&1&&Ti(t,e.child,null,c),t.child.memoizedState=qu(c),t.memoizedState=Hu,u);if(!(t.mode&1))return ls(e,t,c,null);if(a.data==="$!"){if(i=a.nextSibling&&a.nextSibling.dataset,i)var g=i.dgst;return i=g,u=Error(K(419)),i=Qa(u,i,void 0),ls(e,t,c,i)}if(g=(c&e.childLanes)!==0,Rt||g){if(i=it,i!==null){switch(c&-c){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(i.suspendedLanes|c)?0:a,a!==0&&a!==u.retryLane&&(u.retryLane=a,Jn(e,a),Cn(i,e,a,-1))}return Wl(),i=Qa(Error(K(421))),ls(e,t,c,i)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=Qv.bind(null,e),a._reactRetry=t,null):(e=u.treeContext,Xt=kr(a.nextSibling),$t=t,De=!0,wn=null,e!==null&&(on[sn++]=$n,on[sn++]=Yn,on[sn++]=Gr,$n=e.id,Yn=e.overflow,Gr=t),t=Ll(t,i.children),t.flags|=4096,t)}function oh(e,t,r){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),zu(e.return,t,r)}function Ka(e,t,r,i,a){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:a}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=i,u.tail=r,u.tailMode=a)}function Td(e,t,r){var i=t.pendingProps,a=i.revealOrder,u=i.tail;if(Ct(e,t,i.children,r),i=ze.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&oh(e,r,t);else if(e.tag===19)oh(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Be(ze,i),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&js(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Ka(t,!1,a,r,u);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&js(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Ka(t,!0,r,null,u);break;case"together":Ka(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Cs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function er(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),$r|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(K(153));if(t.child!==null){for(e=t.child,r=br(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=br(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Fv(e,t,r){switch(t.tag){case 3:Pd(t),bi();break;case 5:td(t);break;case 1:Nt(t.type)&&Ds(t);break;case 4:Al(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,a=t.memoizedProps.value;Be(Ls,i._currentValue),i._currentValue=a;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(Be(ze,ze.current&1),t.flags|=128,null):r&t.child.childLanes?bd(e,t,r):(Be(ze,ze.current&1),e=er(e,t,r),e!==null?e.sibling:null);Be(ze,ze.current&1);break;case 19:if(i=(r&t.childLanes)!==0,e.flags&128){if(i)return Td(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Be(ze,ze.current),i)break;return null;case 22:case 23:return t.lanes=0,Ed(e,t,r)}return er(e,t,r)}var Md,Wu,Id,Ad;Md=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Wu=function(){};Id=function(e,t,r,i){var a=e.memoizedProps;if(a!==i){e=t.stateNode,jr(Un.current);var u=null;switch(r){case"input":a=du(e,a),i=du(e,i),u=[];break;case"select":a=Le({},a,{value:void 0}),i=Le({},i,{value:void 0}),u=[];break;case"textarea":a=yu(e,a),i=yu(e,i),u=[];break;default:typeof a.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=Os)}mu(r,i);var c;r=null;for(C in a)if(!i.hasOwnProperty(C)&&a.hasOwnProperty(C)&&a[C]!=null)if(C==="style"){var g=a[C];for(c in g)g.hasOwnProperty(c)&&(r||(r={}),r[c]="")}else C!=="dangerouslySetInnerHTML"&&C!=="children"&&C!=="suppressContentEditableWarning"&&C!=="suppressHydrationWarning"&&C!=="autoFocus"&&(vo.hasOwnProperty(C)?u||(u=[]):(u=u||[]).push(C,null));for(C in i){var m=i[C];if(g=a!=null?a[C]:void 0,i.hasOwnProperty(C)&&m!==g&&(m!=null||g!=null))if(C==="style")if(g){for(c in g)!g.hasOwnProperty(c)||m&&m.hasOwnProperty(c)||(r||(r={}),r[c]="");for(c in m)m.hasOwnProperty(c)&&g[c]!==m[c]&&(r||(r={}),r[c]=m[c])}else r||(u||(u=[]),u.push(C,r)),r=m;else C==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,g=g?g.__html:void 0,m!=null&&g!==m&&(u=u||[]).push(C,m)):C==="children"?typeof m!="string"&&typeof m!="number"||(u=u||[]).push(C,""+m):C!=="suppressContentEditableWarning"&&C!=="suppressHydrationWarning"&&(vo.hasOwnProperty(C)?(m!=null&&C==="onScroll"&&Oe("scroll",e),u||g===m||(u=[])):(u=u||[]).push(C,m))}r&&(u=u||[]).push("style",r);var C=u;(t.updateQueue=C)&&(t.flags|=4)}};Ad=function(e,t,r,i){r!==i&&(t.flags|=4)};function Ki(e,t){if(!De)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function vt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,i=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,i|=a.subtreeFlags&14680064,i|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,i|=a.subtreeFlags,i|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=i,e.childLanes=r,t}function Lv(e,t,r){var i=t.pendingProps;switch(El(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(t),null;case 1:return Nt(t.type)&&Ns(),vt(t),null;case 3:return i=t.stateNode,Mi(),Ne(Ot),Ne(gt),Rl(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(as(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,wn!==null&&(Ju(wn),wn=null))),Wu(e,t),vt(t),null;case 5:Bl(t);var a=jr(bo.current);if(r=t.type,e!==null&&t.stateNode!=null)Id(e,t,r,i,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(K(166));return vt(t),null}if(e=jr(Un.current),as(t)){i=t.stateNode,r=t.type;var u=t.memoizedProps;switch(i[Fn]=t,i[So]=u,e=(t.mode&1)!==0,r){case"dialog":Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":case"embed":Oe("load",i);break;case"video":case"audio":for(a=0;a<ro.length;a++)Oe(ro[a],i);break;case"source":Oe("error",i);break;case"img":case"image":case"link":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"input":pc(i,u),Oe("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!u.multiple},Oe("invalid",i);break;case"textarea":yc(i,u),Oe("invalid",i)}mu(r,u),a=null;for(var c in u)if(u.hasOwnProperty(c)){var g=u[c];c==="children"?typeof g=="string"?i.textContent!==g&&(u.suppressHydrationWarning!==!0&&ss(i.textContent,g,e),a=["children",g]):typeof g=="number"&&i.textContent!==""+g&&(u.suppressHydrationWarning!==!0&&ss(i.textContent,g,e),a=["children",""+g]):vo.hasOwnProperty(c)&&g!=null&&c==="onScroll"&&Oe("scroll",i)}switch(r){case"input":Zo(i),vc(i,u,!0);break;case"textarea":Zo(i),gc(i);break;case"select":case"option":break;default:typeof u.onClick=="function"&&(i.onclick=Os)}i=a,t.updateQueue=i,i!==null&&(t.flags|=4)}else{c=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=rf(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=c.createElement(r,{is:i.is}):(e=c.createElement(r),r==="select"&&(c=e,i.multiple?c.multiple=!0:i.size&&(c.size=i.size))):e=c.createElementNS(e,r),e[Fn]=t,e[So]=i,Md(e,t,!1,!1),t.stateNode=e;e:{switch(c=_u(r,i),r){case"dialog":Oe("cancel",e),Oe("close",e),a=i;break;case"iframe":case"object":case"embed":Oe("load",e),a=i;break;case"video":case"audio":for(a=0;a<ro.length;a++)Oe(ro[a],e);a=i;break;case"source":Oe("error",e),a=i;break;case"img":case"image":case"link":Oe("error",e),Oe("load",e),a=i;break;case"details":Oe("toggle",e),a=i;break;case"input":pc(e,i),a=du(e,i),Oe("invalid",e);break;case"option":a=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},a=Le({},i,{value:void 0}),Oe("invalid",e);break;case"textarea":yc(e,i),a=yu(e,i),Oe("invalid",e);break;default:a=i}mu(r,a),g=a;for(u in g)if(g.hasOwnProperty(u)){var m=g[u];u==="style"?af(e,m):u==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,m!=null&&of(e,m)):u==="children"?typeof m=="string"?(r!=="textarea"||m!=="")&&yo(e,m):typeof m=="number"&&yo(e,""+m):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(vo.hasOwnProperty(u)?m!=null&&u==="onScroll"&&Oe("scroll",e):m!=null&&ll(e,u,m,c))}switch(r){case"input":Zo(e),vc(e,i,!1);break;case"textarea":Zo(e),gc(e);break;case"option":i.value!=null&&e.setAttribute("value",""+Mr(i.value));break;case"select":e.multiple=!!i.multiple,u=i.value,u!=null?mi(e,!!i.multiple,u,!1):i.defaultValue!=null&&mi(e,!!i.multiple,i.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Os)}switch(r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return vt(t),null;case 6:if(e&&t.stateNode!=null)Ad(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(K(166));if(r=jr(bo.current),jr(Un.current),as(t)){if(i=t.stateNode,r=t.memoizedProps,i[Fn]=t,(u=i.nodeValue!==r)&&(e=$t,e!==null))switch(e.tag){case 3:ss(i.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ss(i.nodeValue,r,(e.mode&1)!==0)}u&&(t.flags|=4)}else i=(r.nodeType===9?r:r.ownerDocument).createTextNode(i),i[Fn]=t,t.stateNode=i}return vt(t),null;case 13:if(Ne(ze),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(De&&Xt!==null&&t.mode&1&&!(t.flags&128))$f(),bi(),t.flags|=98560,u=!1;else if(u=as(t),i!==null&&i.dehydrated!==null){if(e===null){if(!u)throw Error(K(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(K(317));u[Fn]=t}else bi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;vt(t),u=!1}else wn!==null&&(Ju(wn),wn=null),u=!0;if(!u)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||ze.current&1?Ze===0&&(Ze=3):Wl())),t.updateQueue!==null&&(t.flags|=4),vt(t),null);case 4:return Mi(),Wu(e,t),e===null&&ko(t.stateNode.containerInfo),vt(t),null;case 10:return Tl(t.type._context),vt(t),null;case 17:return Nt(t.type)&&Ns(),vt(t),null;case 19:if(Ne(ze),u=t.memoizedState,u===null)return vt(t),null;if(i=(t.flags&128)!==0,c=u.rendering,c===null)if(i)Ki(u,!1);else{if(Ze!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(c=js(e),c!==null){for(t.flags|=128,Ki(u,!1),i=c.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=r,r=t.child;r!==null;)u=r,e=i,u.flags&=14680066,c=u.alternate,c===null?(u.childLanes=0,u.lanes=e,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=c.childLanes,u.lanes=c.lanes,u.child=c.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=c.memoizedProps,u.memoizedState=c.memoizedState,u.updateQueue=c.updateQueue,u.type=c.type,e=c.dependencies,u.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Be(ze,ze.current&1|2),t.child}e=e.sibling}u.tail!==null&&Ge()>Ai&&(t.flags|=128,i=!0,Ki(u,!1),t.lanes=4194304)}else{if(!i)if(e=js(c),e!==null){if(t.flags|=128,i=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ki(u,!0),u.tail===null&&u.tailMode==="hidden"&&!c.alternate&&!De)return vt(t),null}else 2*Ge()-u.renderingStartTime>Ai&&r!==1073741824&&(t.flags|=128,i=!0,Ki(u,!1),t.lanes=4194304);u.isBackwards?(c.sibling=t.child,t.child=c):(r=u.last,r!==null?r.sibling=c:t.child=c,u.last=c)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=Ge(),t.sibling=null,r=ze.current,Be(ze,i?r&1|2:r&1),t):(vt(t),null);case 22:case 23:return ql(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?Wt&1073741824&&(vt(t),t.subtreeFlags&6&&(t.flags|=8192)):vt(t),null;case 24:return null;case 25:return null}throw Error(K(156,t.tag))}function Uv(e,t){switch(El(t),t.tag){case 1:return Nt(t.type)&&Ns(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Mi(),Ne(Ot),Ne(gt),Rl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Bl(t),null;case 13:if(Ne(ze),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(K(340));bi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ne(ze),null;case 4:return Mi(),null;case 10:return Tl(t.type._context),null;case 22:case 23:return ql(),null;case 24:return null;default:return null}}var cs=!1,yt=!1,Vv=typeof WeakSet=="function"?WeakSet:Set,le=null;function yi(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(i){He(e,t,i)}else r.current=null}function Gu(e,t,r){try{r()}catch(i){He(e,t,i)}}var sh=!1;function jv(e,t){if(Mu=As,e=Nf(),Cl(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var a=i.anchorOffset,u=i.focusNode;i=i.focusOffset;try{r.nodeType,u.nodeType}catch{r=null;break e}var c=0,g=-1,m=-1,C=0,S=0,M=e,f=null;t:for(;;){for(var w;M!==r||a!==0&&M.nodeType!==3||(g=c+a),M!==u||i!==0&&M.nodeType!==3||(m=c+i),M.nodeType===3&&(c+=M.nodeValue.length),(w=M.firstChild)!==null;)f=M,M=w;for(;;){if(M===e)break t;if(f===r&&++C===a&&(g=c),f===u&&++S===i&&(m=c),(w=M.nextSibling)!==null)break;M=f,f=M.parentNode}M=w}r=g===-1||m===-1?null:{start:g,end:m}}else r=null}r=r||{start:0,end:0}}else r=null;for(Iu={focusedElem:e,selectionRange:r},As=!1,le=t;le!==null;)if(t=le,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,le=e;else for(;le!==null;){t=le;try{var E=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var O=E.memoizedProps,q=E.memoizedState,T=t.stateNode,b=T.getSnapshotBeforeUpdate(t.elementType===t.type?O:mn(t.type,O),q);T.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var P=t.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(F){He(t,t.return,F)}if(e=t.sibling,e!==null){e.return=t.return,le=e;break}le=t.return}return E=sh,sh=!1,E}function co(e,t,r){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&e)===e){var u=a.destroy;a.destroy=void 0,u!==void 0&&Gu(t,r,u)}a=a.next}while(a!==i)}}function sa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var i=r.create;r.destroy=i()}r=r.next}while(r!==t)}}function Xu(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Bd(e){var t=e.alternate;t!==null&&(e.alternate=null,Bd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Fn],delete t[So],delete t[Ru],delete t[Ev],delete t[Sv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Rd(e){return e.tag===5||e.tag===3||e.tag===4}function ah(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Rd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $u(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Os));else if(i!==4&&(e=e.child,e!==null))for($u(e,t,r),e=e.sibling;e!==null;)$u(e,t,r),e=e.sibling}function Yu(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(Yu(e,t,r),e=e.sibling;e!==null;)Yu(e,t,r),e=e.sibling}var st=null,_n=!1;function dr(e,t,r){for(r=r.child;r!==null;)Od(e,t,r),r=r.sibling}function Od(e,t,r){if(Ln&&typeof Ln.onCommitFiberUnmount=="function")try{Ln.onCommitFiberUnmount(Zs,r)}catch{}switch(r.tag){case 5:yt||yi(r,t);case 6:var i=st,a=_n;st=null,dr(e,t,r),st=i,_n=a,st!==null&&(_n?(e=st,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):st.removeChild(r.stateNode));break;case 18:st!==null&&(_n?(e=st,r=r.stateNode,e.nodeType===8?qa(e.parentNode,r):e.nodeType===1&&qa(e,r),wo(e)):qa(st,r.stateNode));break;case 4:i=st,a=_n,st=r.stateNode.containerInfo,_n=!0,dr(e,t,r),st=i,_n=a;break;case 0:case 11:case 14:case 15:if(!yt&&(i=r.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){a=i=i.next;do{var u=a,c=u.destroy;u=u.tag,c!==void 0&&(u&2||u&4)&&Gu(r,t,c),a=a.next}while(a!==i)}dr(e,t,r);break;case 1:if(!yt&&(yi(r,t),i=r.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=r.memoizedProps,i.state=r.memoizedState,i.componentWillUnmount()}catch(g){He(r,t,g)}dr(e,t,r);break;case 21:dr(e,t,r);break;case 22:r.mode&1?(yt=(i=yt)||r.memoizedState!==null,dr(e,t,r),yt=i):dr(e,t,r);break;default:dr(e,t,r)}}function uh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Vv),t.forEach(function(i){var a=Kv.bind(null,e,i);r.has(i)||(r.add(i),i.then(a,a))})}}function gn(e,t){var r=t.deletions;if(r!==null)for(var i=0;i<r.length;i++){var a=r[i];try{var u=e,c=t,g=c;e:for(;g!==null;){switch(g.tag){case 5:st=g.stateNode,_n=!1;break e;case 3:st=g.stateNode.containerInfo,_n=!0;break e;case 4:st=g.stateNode.containerInfo,_n=!0;break e}g=g.return}if(st===null)throw Error(K(160));Od(u,c,a),st=null,_n=!1;var m=a.alternate;m!==null&&(m.return=null),a.return=null}catch(C){He(a,t,C)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Nd(t,e),t=t.sibling}function Nd(e,t){var r=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gn(t,e),Dn(e),i&4){try{co(3,e,e.return),sa(3,e)}catch(O){He(e,e.return,O)}try{co(5,e,e.return)}catch(O){He(e,e.return,O)}}break;case 1:gn(t,e),Dn(e),i&512&&r!==null&&yi(r,r.return);break;case 5:if(gn(t,e),Dn(e),i&512&&r!==null&&yi(r,r.return),e.flags&32){var a=e.stateNode;try{yo(a,"")}catch(O){He(e,e.return,O)}}if(i&4&&(a=e.stateNode,a!=null)){var u=e.memoizedProps,c=r!==null?r.memoizedProps:u,g=e.type,m=e.updateQueue;if(e.updateQueue=null,m!==null)try{g==="input"&&u.type==="radio"&&u.name!=null&&tf(a,u),_u(g,c);var C=_u(g,u);for(c=0;c<m.length;c+=2){var S=m[c],M=m[c+1];S==="style"?af(a,M):S==="dangerouslySetInnerHTML"?of(a,M):S==="children"?yo(a,M):ll(a,S,M,C)}switch(g){case"input":pu(a,u);break;case"textarea":nf(a,u);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!u.multiple;var w=u.value;w!=null?mi(a,!!u.multiple,w,!1):f!==!!u.multiple&&(u.defaultValue!=null?mi(a,!!u.multiple,u.defaultValue,!0):mi(a,!!u.multiple,u.multiple?[]:"",!1))}a[So]=u}catch(O){He(e,e.return,O)}}break;case 6:if(gn(t,e),Dn(e),i&4){if(e.stateNode===null)throw Error(K(162));a=e.stateNode,u=e.memoizedProps;try{a.nodeValue=u}catch(O){He(e,e.return,O)}}break;case 3:if(gn(t,e),Dn(e),i&4&&r!==null&&r.memoizedState.isDehydrated)try{wo(t.containerInfo)}catch(O){He(e,e.return,O)}break;case 4:gn(t,e),Dn(e);break;case 13:gn(t,e),Dn(e),a=e.child,a.flags&8192&&(u=a.memoizedState!==null,a.stateNode.isHidden=u,!u||a.alternate!==null&&a.alternate.memoizedState!==null||(jl=Ge())),i&4&&uh(e);break;case 22:if(S=r!==null&&r.memoizedState!==null,e.mode&1?(yt=(C=yt)||S,gn(t,e),yt=C):gn(t,e),Dn(e),i&8192){if(C=e.memoizedState!==null,(e.stateNode.isHidden=C)&&!S&&e.mode&1)for(le=e,S=e.child;S!==null;){for(M=le=S;le!==null;){switch(f=le,w=f.child,f.tag){case 0:case 11:case 14:case 15:co(4,f,f.return);break;case 1:yi(f,f.return);var E=f.stateNode;if(typeof E.componentWillUnmount=="function"){i=f,r=f.return;try{t=i,E.props=t.memoizedProps,E.state=t.memoizedState,E.componentWillUnmount()}catch(O){He(i,r,O)}}break;case 5:yi(f,f.return);break;case 22:if(f.memoizedState!==null){ch(M);continue}}w!==null?(w.return=f,le=w):ch(M)}S=S.sibling}e:for(S=null,M=e;;){if(M.tag===5){if(S===null){S=M;try{a=M.stateNode,C?(u=a.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none"):(g=M.stateNode,m=M.memoizedProps.style,c=m!=null&&m.hasOwnProperty("display")?m.display:null,g.style.display=sf("display",c))}catch(O){He(e,e.return,O)}}}else if(M.tag===6){if(S===null)try{M.stateNode.nodeValue=C?"":M.memoizedProps}catch(O){He(e,e.return,O)}}else if((M.tag!==22&&M.tag!==23||M.memoizedState===null||M===e)&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===e)break e;for(;M.sibling===null;){if(M.return===null||M.return===e)break e;S===M&&(S=null),M=M.return}S===M&&(S=null),M.sibling.return=M.return,M=M.sibling}}break;case 19:gn(t,e),Dn(e),i&4&&uh(e);break;case 21:break;default:gn(t,e),Dn(e)}}function Dn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Rd(r)){var i=r;break e}r=r.return}throw Error(K(160))}switch(i.tag){case 5:var a=i.stateNode;i.flags&32&&(yo(a,""),i.flags&=-33);var u=ah(e);Yu(e,u,a);break;case 3:case 4:var c=i.stateNode.containerInfo,g=ah(e);$u(e,g,c);break;default:throw Error(K(161))}}catch(m){He(e,e.return,m)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Hv(e,t,r){le=e,Dd(e)}function Dd(e,t,r){for(var i=(e.mode&1)!==0;le!==null;){var a=le,u=a.child;if(a.tag===22&&i){var c=a.memoizedState!==null||cs;if(!c){var g=a.alternate,m=g!==null&&g.memoizedState!==null||yt;g=cs;var C=yt;if(cs=c,(yt=m)&&!C)for(le=a;le!==null;)c=le,m=c.child,c.tag===22&&c.memoizedState!==null?hh(a):m!==null?(m.return=c,le=m):hh(a);for(;u!==null;)le=u,Dd(u),u=u.sibling;le=a,cs=g,yt=C}lh(e)}else a.subtreeFlags&8772&&u!==null?(u.return=a,le=u):lh(e)}}function lh(e){for(;le!==null;){var t=le;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:yt||sa(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!yt)if(r===null)i.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:mn(t.type,r.memoizedProps);i.componentDidUpdate(a,r.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var u=t.updateQueue;u!==null&&Gc(t,u,i);break;case 3:var c=t.updateQueue;if(c!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Gc(t,c,r)}break;case 5:var g=t.stateNode;if(r===null&&t.flags&4){r=g;var m=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":m.autoFocus&&r.focus();break;case"img":m.src&&(r.src=m.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var C=t.alternate;if(C!==null){var S=C.memoizedState;if(S!==null){var M=S.dehydrated;M!==null&&wo(M)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}yt||t.flags&512&&Xu(t)}catch(f){He(t,t.return,f)}}if(t===e){le=null;break}if(r=t.sibling,r!==null){r.return=t.return,le=r;break}le=t.return}}function ch(e){for(;le!==null;){var t=le;if(t===e){le=null;break}var r=t.sibling;if(r!==null){r.return=t.return,le=r;break}le=t.return}}function hh(e){for(;le!==null;){var t=le;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{sa(4,t)}catch(m){He(t,r,m)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var a=t.return;try{i.componentDidMount()}catch(m){He(t,a,m)}}var u=t.return;try{Xu(t)}catch(m){He(t,u,m)}break;case 5:var c=t.return;try{Xu(t)}catch(m){He(t,c,m)}}}catch(m){He(t,t.return,m)}if(t===e){le=null;break}var g=t.sibling;if(g!==null){g.return=t.return,le=g;break}le=t.return}}var qv=Math.ceil,Ws=tr.ReactCurrentDispatcher,Ul=tr.ReactCurrentOwner,un=tr.ReactCurrentBatchConfig,Ce=0,it=null,Ye=null,at=0,Wt=0,gi=Br(0),Ze=0,Ao=null,$r=0,aa=0,Vl=0,ho=null,Bt=null,jl=0,Ai=1/0,Wn=null,Gs=!1,Qu=null,Sr=null,hs=!1,_r=null,Xs=0,fo=0,Ku=null,ks=-1,Es=0;function kt(){return Ce&6?Ge():ks!==-1?ks:ks=Ge()}function Pr(e){return e.mode&1?Ce&2&&at!==0?at&-at:bv.transition!==null?(Es===0&&(Es=_f()),Es):(e=Pe,e!==0||(e=window.event,e=e===void 0?16:Pf(e.type)),e):1}function Cn(e,t,r,i){if(50<fo)throw fo=0,Ku=null,Error(K(185));Oo(e,r,i),(!(Ce&2)||e!==it)&&(e===it&&(!(Ce&2)&&(aa|=r),Ze===4&&gr(e,at)),Dt(e,i),r===1&&Ce===0&&!(t.mode&1)&&(Ai=Ge()+500,ra&&Rr()))}function Dt(e,t){var r=e.callbackNode;b0(e,t);var i=Is(e,e===it?at:0);if(i===0)r!==null&&wc(r),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(r!=null&&wc(r),t===1)e.tag===0?Pv(fh.bind(null,e)):Wf(fh.bind(null,e)),Cv(function(){!(Ce&6)&&Rr()}),r=null;else{switch(wf(i)){case 1:r=pl;break;case 4:r=gf;break;case 16:r=Ms;break;case 536870912:r=mf;break;default:r=Ms}r=qd(r,zd.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function zd(e,t){if(ks=-1,Es=0,Ce&6)throw Error(K(327));var r=e.callbackNode;if(ki()&&e.callbackNode!==r)return null;var i=Is(e,e===it?at:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=$s(e,i);else{t=i;var a=Ce;Ce|=2;var u=Ld();(it!==e||at!==t)&&(Wn=null,Ai=Ge()+500,Hr(e,t));do try{Xv();break}catch(g){Fd(e,g)}while(!0);bl(),Ws.current=u,Ce=a,Ye!==null?t=0:(it=null,at=0,t=Ze)}if(t!==0){if(t===2&&(a=Eu(e),a!==0&&(i=a,t=Zu(e,a))),t===1)throw r=Ao,Hr(e,0),gr(e,i),Dt(e,Ge()),r;if(t===6)gr(e,i);else{if(a=e.current.alternate,!(i&30)&&!Wv(a)&&(t=$s(e,i),t===2&&(u=Eu(e),u!==0&&(i=u,t=Zu(e,u))),t===1))throw r=Ao,Hr(e,0),gr(e,i),Dt(e,Ge()),r;switch(e.finishedWork=a,e.finishedLanes=i,t){case 0:case 1:throw Error(K(345));case 2:Lr(e,Bt,Wn);break;case 3:if(gr(e,i),(i&130023424)===i&&(t=jl+500-Ge(),10<t)){if(Is(e,0)!==0)break;if(a=e.suspendedLanes,(a&i)!==i){kt(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Bu(Lr.bind(null,e,Bt,Wn),t);break}Lr(e,Bt,Wn);break;case 4:if(gr(e,i),(i&4194240)===i)break;for(t=e.eventTimes,a=-1;0<i;){var c=31-xn(i);u=1<<c,c=t[c],c>a&&(a=c),i&=~u}if(i=a,i=Ge()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*qv(i/1960))-i,10<i){e.timeoutHandle=Bu(Lr.bind(null,e,Bt,Wn),i);break}Lr(e,Bt,Wn);break;case 5:Lr(e,Bt,Wn);break;default:throw Error(K(329))}}}return Dt(e,Ge()),e.callbackNode===r?zd.bind(null,e):null}function Zu(e,t){var r=ho;return e.current.memoizedState.isDehydrated&&(Hr(e,t).flags|=256),e=$s(e,t),e!==2&&(t=Bt,Bt=r,t!==null&&Ju(t)),e}function Ju(e){Bt===null?Bt=e:Bt.push.apply(Bt,e)}function Wv(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var i=0;i<r.length;i++){var a=r[i],u=a.getSnapshot;a=a.value;try{if(!kn(u(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function gr(e,t){for(t&=~Vl,t&=~aa,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-xn(t),i=1<<r;e[r]=-1,t&=~i}}function fh(e){if(Ce&6)throw Error(K(327));ki();var t=Is(e,0);if(!(t&1))return Dt(e,Ge()),null;var r=$s(e,t);if(e.tag!==0&&r===2){var i=Eu(e);i!==0&&(t=i,r=Zu(e,i))}if(r===1)throw r=Ao,Hr(e,0),gr(e,t),Dt(e,Ge()),r;if(r===6)throw Error(K(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Lr(e,Bt,Wn),Dt(e,Ge()),null}function Hl(e,t){var r=Ce;Ce|=1;try{return e(t)}finally{Ce=r,Ce===0&&(Ai=Ge()+500,ra&&Rr())}}function Yr(e){_r!==null&&_r.tag===0&&!(Ce&6)&&ki();var t=Ce;Ce|=1;var r=un.transition,i=Pe;try{if(un.transition=null,Pe=1,e)return e()}finally{Pe=i,un.transition=r,Ce=t,!(Ce&6)&&Rr()}}function ql(){Wt=gi.current,Ne(gi)}function Hr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,xv(r)),Ye!==null)for(r=Ye.return;r!==null;){var i=r;switch(El(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Ns();break;case 3:Mi(),Ne(Ot),Ne(gt),Rl();break;case 5:Bl(i);break;case 4:Mi();break;case 13:Ne(ze);break;case 19:Ne(ze);break;case 10:Tl(i.type._context);break;case 22:case 23:ql()}r=r.return}if(it=e,Ye=e=br(e.current,null),at=Wt=t,Ze=0,Ao=null,Vl=aa=$r=0,Bt=ho=null,Vr!==null){for(t=0;t<Vr.length;t++)if(r=Vr[t],i=r.interleaved,i!==null){r.interleaved=null;var a=i.next,u=r.pending;if(u!==null){var c=u.next;u.next=a,i.next=c}r.pending=i}Vr=null}return e}function Fd(e,t){do{var r=Ye;try{if(bl(),ws.current=qs,Hs){for(var i=Fe.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}Hs=!1}if(Xr=0,rt=Ke=Fe=null,lo=!1,To=0,Ul.current=null,r===null||r.return===null){Ze=1,Ao=t,Ye=null;break}e:{var u=e,c=r.return,g=r,m=t;if(t=at,g.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){var C=m,S=g,M=S.tag;if(!(S.mode&1)&&(M===0||M===11||M===15)){var f=S.alternate;f?(S.updateQueue=f.updateQueue,S.memoizedState=f.memoizedState,S.lanes=f.lanes):(S.updateQueue=null,S.memoizedState=null)}var w=Jc(c);if(w!==null){w.flags&=-257,eh(w,c,g,u,t),w.mode&1&&Zc(u,C,t),t=w,m=C;var E=t.updateQueue;if(E===null){var O=new Set;O.add(m),t.updateQueue=O}else E.add(m);break e}else{if(!(t&1)){Zc(u,C,t),Wl();break e}m=Error(K(426))}}else if(De&&g.mode&1){var q=Jc(c);if(q!==null){!(q.flags&65536)&&(q.flags|=256),eh(q,c,g,u,t),Sl(Ii(m,g));break e}}u=m=Ii(m,g),Ze!==4&&(Ze=2),ho===null?ho=[u]:ho.push(u),u=c;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t;var T=xd(u,m,t);Wc(u,T);break e;case 1:g=m;var b=u.type,P=u.stateNode;if(!(u.flags&128)&&(typeof b.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(Sr===null||!Sr.has(P)))){u.flags|=65536,t&=-t,u.lanes|=t;var F=Cd(u,g,t);Wc(u,F);break e}}u=u.return}while(u!==null)}Vd(r)}catch(G){t=G,Ye===r&&r!==null&&(Ye=r=r.return);continue}break}while(!0)}function Ld(){var e=Ws.current;return Ws.current=qs,e===null?qs:e}function Wl(){(Ze===0||Ze===3||Ze===2)&&(Ze=4),it===null||!($r&268435455)&&!(aa&268435455)||gr(it,at)}function $s(e,t){var r=Ce;Ce|=2;var i=Ld();(it!==e||at!==t)&&(Wn=null,Hr(e,t));do try{Gv();break}catch(a){Fd(e,a)}while(!0);if(bl(),Ce=r,Ws.current=i,Ye!==null)throw Error(K(261));return it=null,at=0,Ze}function Gv(){for(;Ye!==null;)Ud(Ye)}function Xv(){for(;Ye!==null&&!m0();)Ud(Ye)}function Ud(e){var t=Hd(e.alternate,e,Wt);e.memoizedProps=e.pendingProps,t===null?Vd(e):Ye=t,Ul.current=null}function Vd(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Uv(r,t),r!==null){r.flags&=32767,Ye=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ze=6,Ye=null;return}}else if(r=Lv(r,t,Wt),r!==null){Ye=r;return}if(t=t.sibling,t!==null){Ye=t;return}Ye=t=e}while(t!==null);Ze===0&&(Ze=5)}function Lr(e,t,r){var i=Pe,a=un.transition;try{un.transition=null,Pe=1,$v(e,t,r,i)}finally{un.transition=a,Pe=i}return null}function $v(e,t,r,i){do ki();while(_r!==null);if(Ce&6)throw Error(K(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(K(177));e.callbackNode=null,e.callbackPriority=0;var u=r.lanes|r.childLanes;if(T0(e,u),e===it&&(Ye=it=null,at=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||hs||(hs=!0,qd(Ms,function(){return ki(),null})),u=(r.flags&15990)!==0,r.subtreeFlags&15990||u){u=un.transition,un.transition=null;var c=Pe;Pe=1;var g=Ce;Ce|=4,Ul.current=null,jv(e,r),Nd(r,e),pv(Iu),As=!!Mu,Iu=Mu=null,e.current=r,Hv(r),_0(),Ce=g,Pe=c,un.transition=u}else e.current=r;if(hs&&(hs=!1,_r=e,Xs=a),u=e.pendingLanes,u===0&&(Sr=null),C0(r.stateNode),Dt(e,Ge()),t!==null)for(i=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],i(a.value,{componentStack:a.stack,digest:a.digest});if(Gs)throw Gs=!1,e=Qu,Qu=null,e;return Xs&1&&e.tag!==0&&ki(),u=e.pendingLanes,u&1?e===Ku?fo++:(fo=0,Ku=e):fo=0,Rr(),null}function ki(){if(_r!==null){var e=wf(Xs),t=un.transition,r=Pe;try{if(un.transition=null,Pe=16>e?16:e,_r===null)var i=!1;else{if(e=_r,_r=null,Xs=0,Ce&6)throw Error(K(331));var a=Ce;for(Ce|=4,le=e.current;le!==null;){var u=le,c=u.child;if(le.flags&16){var g=u.deletions;if(g!==null){for(var m=0;m<g.length;m++){var C=g[m];for(le=C;le!==null;){var S=le;switch(S.tag){case 0:case 11:case 15:co(8,S,u)}var M=S.child;if(M!==null)M.return=S,le=M;else for(;le!==null;){S=le;var f=S.sibling,w=S.return;if(Bd(S),S===C){le=null;break}if(f!==null){f.return=w,le=f;break}le=w}}}var E=u.alternate;if(E!==null){var O=E.child;if(O!==null){E.child=null;do{var q=O.sibling;O.sibling=null,O=q}while(O!==null)}}le=u}}if(u.subtreeFlags&2064&&c!==null)c.return=u,le=c;else e:for(;le!==null;){if(u=le,u.flags&2048)switch(u.tag){case 0:case 11:case 15:co(9,u,u.return)}var T=u.sibling;if(T!==null){T.return=u.return,le=T;break e}le=u.return}}var b=e.current;for(le=b;le!==null;){c=le;var P=c.child;if(c.subtreeFlags&2064&&P!==null)P.return=c,le=P;else e:for(c=b;le!==null;){if(g=le,g.flags&2048)try{switch(g.tag){case 0:case 11:case 15:sa(9,g)}}catch(G){He(g,g.return,G)}if(g===c){le=null;break e}var F=g.sibling;if(F!==null){F.return=g.return,le=F;break e}le=g.return}}if(Ce=a,Rr(),Ln&&typeof Ln.onPostCommitFiberRoot=="function")try{Ln.onPostCommitFiberRoot(Zs,e)}catch{}i=!0}return i}finally{Pe=r,un.transition=t}}return!1}function dh(e,t,r){t=Ii(r,t),t=xd(e,t,1),e=Er(e,t,1),t=kt(),e!==null&&(Oo(e,1,t),Dt(e,t))}function He(e,t,r){if(e.tag===3)dh(e,e,r);else for(;t!==null;){if(t.tag===3){dh(t,e,r);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Sr===null||!Sr.has(i))){e=Ii(r,e),e=Cd(t,e,1),t=Er(t,e,1),e=kt(),t!==null&&(Oo(t,1,e),Dt(t,e));break}}t=t.return}}function Yv(e,t,r){var i=e.pingCache;i!==null&&i.delete(t),t=kt(),e.pingedLanes|=e.suspendedLanes&r,it===e&&(at&r)===r&&(Ze===4||Ze===3&&(at&130023424)===at&&500>Ge()-jl?Hr(e,0):Vl|=r),Dt(e,t)}function jd(e,t){t===0&&(e.mode&1?(t=ts,ts<<=1,!(ts&130023424)&&(ts=4194304)):t=1);var r=kt();e=Jn(e,t),e!==null&&(Oo(e,t,r),Dt(e,r))}function Qv(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),jd(e,r)}function Kv(e,t){var r=0;switch(e.tag){case 13:var i=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(K(314))}i!==null&&i.delete(t),jd(e,r)}var Hd;Hd=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ot.current)Rt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Rt=!1,Fv(e,t,r);Rt=!!(e.flags&131072)}else Rt=!1,De&&t.flags&1048576&&Gf(t,Fs,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Cs(e,t),e=t.pendingProps;var a=Pi(t,gt.current);Ci(t,r),a=Nl(null,t,i,e,a,r);var u=Dl();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Nt(i)?(u=!0,Ds(t)):u=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Il(t),a.updater=ia,t.stateNode=a,a._reactInternals=t,Lu(t,i,e,r),t=ju(null,t,i,!0,u,r)):(t.tag=0,De&&u&&kl(t),Ct(null,t,a,r),t=t.child),t;case 16:i=t.elementType;e:{switch(Cs(e,t),e=t.pendingProps,a=i._init,i=a(i._payload),t.type=i,a=t.tag=Jv(i),e=mn(i,e),a){case 0:t=Vu(null,t,i,e,r);break e;case 1:t=rh(null,t,i,e,r);break e;case 11:t=th(null,t,i,e,r);break e;case 14:t=nh(null,t,i,mn(i.type,e),r);break e}throw Error(K(306,i,""))}return t;case 0:return i=t.type,a=t.pendingProps,a=t.elementType===i?a:mn(i,a),Vu(e,t,i,a,r);case 1:return i=t.type,a=t.pendingProps,a=t.elementType===i?a:mn(i,a),rh(e,t,i,a,r);case 3:e:{if(Pd(t),e===null)throw Error(K(387));i=t.pendingProps,u=t.memoizedState,a=u.element,Qf(e,t),Vs(t,i,null,r);var c=t.memoizedState;if(i=c.element,u.isDehydrated)if(u={element:i,isDehydrated:!1,cache:c.cache,pendingSuspenseBoundaries:c.pendingSuspenseBoundaries,transitions:c.transitions},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){a=Ii(Error(K(423)),t),t=ih(e,t,i,r,a);break e}else if(i!==a){a=Ii(Error(K(424)),t),t=ih(e,t,i,r,a);break e}else for(Xt=kr(t.stateNode.containerInfo.firstChild),$t=t,De=!0,wn=null,r=ed(t,null,i,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(bi(),i===a){t=er(e,t,r);break e}Ct(e,t,i,r)}t=t.child}return t;case 5:return td(t),e===null&&Du(t),i=t.type,a=t.pendingProps,u=e!==null?e.memoizedProps:null,c=a.children,Au(i,a)?c=null:u!==null&&Au(i,u)&&(t.flags|=32),Sd(e,t),Ct(e,t,c,r),t.child;case 6:return e===null&&Du(t),null;case 13:return bd(e,t,r);case 4:return Al(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Ti(t,null,i,r):Ct(e,t,i,r),t.child;case 11:return i=t.type,a=t.pendingProps,a=t.elementType===i?a:mn(i,a),th(e,t,i,a,r);case 7:return Ct(e,t,t.pendingProps,r),t.child;case 8:return Ct(e,t,t.pendingProps.children,r),t.child;case 12:return Ct(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(i=t.type._context,a=t.pendingProps,u=t.memoizedProps,c=a.value,Be(Ls,i._currentValue),i._currentValue=c,u!==null)if(kn(u.value,c)){if(u.children===a.children&&!Ot.current){t=er(e,t,r);break e}}else for(u=t.child,u!==null&&(u.return=t);u!==null;){var g=u.dependencies;if(g!==null){c=u.child;for(var m=g.firstContext;m!==null;){if(m.context===i){if(u.tag===1){m=Qn(-1,r&-r),m.tag=2;var C=u.updateQueue;if(C!==null){C=C.shared;var S=C.pending;S===null?m.next=m:(m.next=S.next,S.next=m),C.pending=m}}u.lanes|=r,m=u.alternate,m!==null&&(m.lanes|=r),zu(u.return,r,t),g.lanes|=r;break}m=m.next}}else if(u.tag===10)c=u.type===t.type?null:u.child;else if(u.tag===18){if(c=u.return,c===null)throw Error(K(341));c.lanes|=r,g=c.alternate,g!==null&&(g.lanes|=r),zu(c,r,t),c=u.sibling}else c=u.child;if(c!==null)c.return=u;else for(c=u;c!==null;){if(c===t){c=null;break}if(u=c.sibling,u!==null){u.return=c.return,c=u;break}c=c.return}u=c}Ct(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,i=t.pendingProps.children,Ci(t,r),a=ln(a),i=i(a),t.flags|=1,Ct(e,t,i,r),t.child;case 14:return i=t.type,a=mn(i,t.pendingProps),a=mn(i.type,a),nh(e,t,i,a,r);case 15:return kd(e,t,t.type,t.pendingProps,r);case 17:return i=t.type,a=t.pendingProps,a=t.elementType===i?a:mn(i,a),Cs(e,t),t.tag=1,Nt(i)?(e=!0,Ds(t)):e=!1,Ci(t,r),Zf(t,i,a),Lu(t,i,a,r),ju(null,t,i,!0,e,r);case 19:return Td(e,t,r);case 22:return Ed(e,t,r)}throw Error(K(156,t.tag))};function qd(e,t){return yf(e,t)}function Zv(e,t,r,i){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(e,t,r,i){return new Zv(e,t,r,i)}function Gl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Jv(e){if(typeof e=="function")return Gl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===hl)return 11;if(e===fl)return 14}return 2}function br(e,t){var r=e.alternate;return r===null?(r=an(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ss(e,t,r,i,a,u){var c=2;if(i=e,typeof e=="function")Gl(e)&&(c=1);else if(typeof e=="string")c=5;else e:switch(e){case ai:return qr(r.children,a,u,t);case cl:c=8,a|=8;break;case lu:return e=an(12,r,t,a|2),e.elementType=lu,e.lanes=u,e;case cu:return e=an(13,r,t,a),e.elementType=cu,e.lanes=u,e;case hu:return e=an(19,r,t,a),e.elementType=hu,e.lanes=u,e;case Zh:return ua(r,a,u,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Qh:c=10;break e;case Kh:c=9;break e;case hl:c=11;break e;case fl:c=14;break e;case pr:c=16,i=null;break e}throw Error(K(130,e==null?e:typeof e,""))}return t=an(c,r,t,a),t.elementType=e,t.type=i,t.lanes=u,t}function qr(e,t,r,i){return e=an(7,e,i,t),e.lanes=r,e}function ua(e,t,r,i){return e=an(22,e,i,t),e.elementType=Zh,e.lanes=r,e.stateNode={isHidden:!1},e}function Za(e,t,r){return e=an(6,e,null,t),e.lanes=r,e}function Ja(e,t,r){return t=an(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ey(e,t,r,i,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ra(0),this.expirationTimes=Ra(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ra(0),this.identifierPrefix=i,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Xl(e,t,r,i,a,u,c,g,m){return e=new ey(e,t,r,g,m),t===1?(t=1,u===!0&&(t|=8)):t=0,u=an(3,null,null,t),e.current=u,u.stateNode=e,u.memoizedState={element:i,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Il(u),e}function ty(e,t,r){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:si,key:i==null?null:""+i,children:e,containerInfo:t,implementation:r}}function Wd(e){if(!e)return Ir;e=e._reactInternals;e:{if(Kr(e)!==e||e.tag!==1)throw Error(K(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Nt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(K(171))}if(e.tag===1){var r=e.type;if(Nt(r))return qf(e,r,t)}return t}function Gd(e,t,r,i,a,u,c,g,m){return e=Xl(r,i,!0,e,a,u,c,g,m),e.context=Wd(null),r=e.current,i=kt(),a=Pr(r),u=Qn(i,a),u.callback=t??null,Er(r,u,a),e.current.lanes=a,Oo(e,a,i),Dt(e,i),e}function la(e,t,r,i){var a=t.current,u=kt(),c=Pr(a);return r=Wd(r),t.context===null?t.context=r:t.pendingContext=r,t=Qn(u,c),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=Er(a,t,c),e!==null&&(Cn(e,a,c,u),_s(e,a,c)),c}function Ys(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ph(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function $l(e,t){ph(e,t),(e=e.alternate)&&ph(e,t)}function ny(){return null}var Xd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Yl(e){this._internalRoot=e}ca.prototype.render=Yl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(K(409));la(e,t,null,null)};ca.prototype.unmount=Yl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Yr(function(){la(null,e,null,null)}),t[Zn]=null}};function ca(e){this._internalRoot=e}ca.prototype.unstable_scheduleHydration=function(e){if(e){var t=kf();e={blockedOn:null,target:e,priority:t};for(var r=0;r<yr.length&&t!==0&&t<yr[r].priority;r++);yr.splice(r,0,e),r===0&&Sf(e)}};function Ql(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ha(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function vh(){}function ry(e,t,r,i,a){if(a){if(typeof i=="function"){var u=i;i=function(){var C=Ys(c);u.call(C)}}var c=Gd(t,i,e,0,null,!1,!1,"",vh);return e._reactRootContainer=c,e[Zn]=c.current,ko(e.nodeType===8?e.parentNode:e),Yr(),c}for(;a=e.lastChild;)e.removeChild(a);if(typeof i=="function"){var g=i;i=function(){var C=Ys(m);g.call(C)}}var m=Xl(e,0,!1,null,null,!1,!1,"",vh);return e._reactRootContainer=m,e[Zn]=m.current,ko(e.nodeType===8?e.parentNode:e),Yr(function(){la(t,m,r,i)}),m}function fa(e,t,r,i,a){var u=r._reactRootContainer;if(u){var c=u;if(typeof a=="function"){var g=a;a=function(){var m=Ys(c);g.call(m)}}la(t,c,e,a)}else c=ry(r,t,e,a,i);return Ys(c)}xf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=no(t.pendingLanes);r!==0&&(vl(t,r|1),Dt(t,Ge()),!(Ce&6)&&(Ai=Ge()+500,Rr()))}break;case 13:Yr(function(){var i=Jn(e,1);if(i!==null){var a=kt();Cn(i,e,1,a)}}),$l(e,1)}};yl=function(e){if(e.tag===13){var t=Jn(e,134217728);if(t!==null){var r=kt();Cn(t,e,134217728,r)}$l(e,134217728)}};Cf=function(e){if(e.tag===13){var t=Pr(e),r=Jn(e,t);if(r!==null){var i=kt();Cn(r,e,t,i)}$l(e,t)}};kf=function(){return Pe};Ef=function(e,t){var r=Pe;try{return Pe=e,t()}finally{Pe=r}};xu=function(e,t,r){switch(t){case"input":if(pu(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var i=r[t];if(i!==e&&i.form===e.form){var a=na(i);if(!a)throw Error(K(90));ef(i),pu(i,a)}}}break;case"textarea":nf(e,r);break;case"select":t=r.value,t!=null&&mi(e,!!r.multiple,t,!1)}};cf=Hl;hf=Yr;var iy={usingClientEntryPoint:!1,Events:[Do,hi,na,uf,lf,Hl]},Zi={findFiberByHostInstance:Ur,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},oy={bundleType:Zi.bundleType,version:Zi.version,rendererPackageName:Zi.rendererPackageName,rendererConfig:Zi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:tr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=pf(e),e===null?null:e.stateNode},findFiberByHostInstance:Zi.findFiberByHostInstance||ny,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fs.isDisabled&&fs.supportsFiber)try{Zs=fs.inject(oy),Ln=fs}catch{}}Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iy;Qt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ql(t))throw Error(K(200));return ty(e,t,null,r)};Qt.createRoot=function(e,t){if(!Ql(e))throw Error(K(299));var r=!1,i="",a=Xd;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Xl(e,1,!1,null,null,r,!1,i,a),e[Zn]=t.current,ko(e.nodeType===8?e.parentNode:e),new Yl(t)};Qt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(K(188)):(e=Object.keys(e).join(","),Error(K(268,e)));return e=pf(t),e=e===null?null:e.stateNode,e};Qt.flushSync=function(e){return Yr(e)};Qt.hydrate=function(e,t,r){if(!ha(t))throw Error(K(200));return fa(null,e,t,!0,r)};Qt.hydrateRoot=function(e,t,r){if(!Ql(e))throw Error(K(405));var i=r!=null&&r.hydratedSources||null,a=!1,u="",c=Xd;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(c=r.onRecoverableError)),t=Gd(t,null,e,1,r??null,a,!1,u,c),e[Zn]=t.current,ko(e),i)for(e=0;e<i.length;e++)r=i[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new ca(t)};Qt.render=function(e,t,r){if(!ha(t))throw Error(K(200));return fa(null,e,t,!1,r)};Qt.unmountComponentAtNode=function(e){if(!ha(e))throw Error(K(40));return e._reactRootContainer?(Yr(function(){fa(null,null,e,!1,function(){e._reactRootContainer=null,e[Zn]=null})}),!0):!1};Qt.unstable_batchedUpdates=Hl;Qt.unstable_renderSubtreeIntoContainer=function(e,t,r,i){if(!ha(r))throw Error(K(200));if(e==null||e._reactInternals===void 0)throw Error(K(38));return fa(e,t,r,!1,i)};Qt.version="18.2.0-next-9e3b772b8-20220608";function $d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($d)}catch(e){console.error(e)}}$d(),Wh.exports=Qt;var sy=Wh.exports,yh=sy;au.createRoot=yh.createRoot,au.hydrateRoot=yh.hydrateRoot;var Yd={exports:{}};/*!
* RAFManager v0.1.0
*
* Copyright 2018-2018, ajiemath <ajiemath@gmail.com>
* Licensed under the MIT license
* http://www.opensource.org/licenses/mit-license
*
*/(function(e,t){(function(r,i){e.exports=i()})(Tr,function(){return function(){for(var r=["ms","moz","webkit","o"],i=0;i<r.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[r[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[r[i]+"CancelAnimationFrame"]||window[r[i]+"CancelRequestAnimationFrame"]}(),{timer:0,state:"stop",animations:[],add:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:60,a={callback:r,fps:i,n:60/i,param:arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i:0};return this.animations.push(a),this.animations.length>=1&&this.start(),this},getIndex:function(r){for(var i=0;i<this.animations.length;i++)if(this.animations[i].callback===r)return i;return-1},remove:function(r){if(!(this.getIndex(r)<0))return this.deleteMap(r),this.animations.length===0&&this.stop(),this},deleteMap:function(r){var i=this.getIndex(r),a=this.animations[i];for(var u in a)delete a[u];this.animations.splice(i,1)},start:function(){if(this.state!=="start")return this.state="start",this.tick(),this},stop:function(){if(this.state!=="stop")return this.state="stop",cancelAnimationFrame(this.timer),this},tick:function(){var r=this;this.timer=requestAnimationFrame(function(){r.tick()});for(var i=0;i<this.animations.length;i++){var a=this.animations[i],u=a.callback,c=a.param;a.i++,a.i>=a.n&&(u(c),a.i=0)}}}})})(Yd);var ay=Yd.exports;const Ue=Bo(ay);var Qd={exports:{}};/*!
* Proton v4.2.1
* https://github.com/drawcall/Proton
*
* Copyright 2013-2020, A-JIE
* Licensed under the MIT license
* http://www.opensource.org/licenses/mit-license
*
*/(function(e,t){(function(r,i){e.exports=i()})(Tr,function(){var r=3.1415926,i={PI:r,PIx2:2*r,PI_2:r/2,PI_180:r/180,N180_PI:180/r,Infinity:-999,isInfinity:function(o){return o===this.Infinity||o===1/0},randomAToB:function(o,d,y){return 2<arguments.length&&y!==void 0&&y?Math.floor(Math.random()*(d-o))+o:o+Math.random()*(d-o)},randomFloating:function(o,d,y){return this.randomAToB(o-d,o+d,y)},randomColor:function(){return"#"+("00000"+(16777216*Math.random()<<0).toString(16)).slice(-6)},randomZone:function(){},floor:function(o,d){return d=1<arguments.length&&d!==void 0?d:4,d=Math.pow(10,d),Math.floor(o*d)/d},degreeTransform:function(o){return o*r/180},toColor16:function(o){return"#"+o.toString(16)}},a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},u=function(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")},c=function(o,d,y){return d&&g(o.prototype,d),y&&g(o,y),o};function g(o,d){for(var y=0;y<d.length;y++){var k=d[y];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(o,k.key,k)}}function m(o,d,y){o===null&&(o=Function.prototype);var k=Object.getOwnPropertyDescriptor(o,d);if(k!==void 0)return"value"in k?k.value:(k=k.get,k!==void 0?k.call(y):void 0);if((o=Object.getPrototypeOf(o))!==null)return m(o,d,y)}var C=function(o,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);o.prototype=Object.create(d&&d.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(o,d):o.__proto__=d)},S=function(o,d){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||typeof d!="object"&&typeof d!="function"?o:d},M=(c(f,[{key:"getValue",value:function(o){return o=0<arguments.length&&o!==void 0&&o,this.isArray?V.getRandFromArray(this.a):this.center?i.randomFloating(this.a,this.b,o):i.randomAToB(this.a,this.b,o)}}],[{key:"setSpanValue",value:function(o,d,y){return o instanceof f?o:d===void 0?new f(o):y===void 0?new f(o,d):new f(o,d,y)}},{key:"getSpanValue",value:function(o){return o instanceof f?o.getValue():o}}]),f);function f(o,d,y){u(this,f),V.isArray(o)?(this.isArray=!0,this.a=o):(this.isArray=!1,this.a=V.initValue(o,1),this.b=V.initValue(d,this.a),this.center=V.initValue(y,!1))}var w=function(o){--o;for(var d=1;d<32;d<<=1)o|=o>>d;return o+1},E=function(o,d){return[1,0,0,0,1,0,o,d,1]},O=function(y){var d=Math.cos(y),y=Math.sin(y);return[d,-y,0,y,d,0,0,0,1]},q=function(o,d){return[o,0,0,0,d,0,0,0,1]},T=function(xt,ft){var y=xt[0],k=xt[1],R=xt[2],Y=xt[3],Ve=xt[4],je=xt[5],Xe=xt[6],Se=xt[7],jt=xt[8],ot=ft[0],Ht=ft[1],en=ft[2],wt=ft[3],ct=ft[4],ht=ft[5],ji=ft[6],xt=ft[7],ft=ft[8];return[y*ot+k*wt+R*ji,y*Ht+k*ct+R*xt,y*en+k*ht+R*ft,Y*ot+Ve*wt+je*ji,Y*Ht+Ve*ct+je*xt,Y*en+Ve*ht+je*ft,Xe*ot+Se*wt+jt*ji,Xe*Ht+Se*ct+jt*xt,Xe*en+Se*ht+jt*ft]},b={createCanvas:function(o,d,y,Y){var R=3<arguments.length&&Y!==void 0?Y:"absolute",Y=document.createElement("canvas");return Y.id=o,Y.width=d,Y.height=y,Y.style.opacity=0,Y.style.position=R,this.transform(Y,-500,-500,0,0),Y},createDiv:function(o,d,y){var k=document.createElement("div");return k.id=o,k.style.position="absolute",this.resize(k,d,y),k},resize:function(o,d,y){o.style.width=d+"px",o.style.height=y+"px",o.style.marginLeft=-d/2+"px",o.style.marginTop=-y/2+"px"},transform:function(o,d,y,k,R){o.style.willChange="transform";var Y="translate("+d+"px, "+y+"px) scale("+k+") rotate("+R+"deg)";this.css3(o,"transform",Y)},transform3d:function(o,d,y,k,R){o.style.willChange="transform",R="translate3d("+d+"px, "+y+"px, 0) scale("+k+") rotate("+R+"deg)",this.css3(o,"backfaceVisibility","hidden"),this.css3(o,"transform",R)},css3:function(o,d,y){var k=d.charAt(0).toUpperCase()+d.substr(1);o.style["Webkit"+k]=y,o.style["Moz"+k]=y,o.style["O"+k]=y,o.style["ms"+k]=y,o.style[""+d]=y}},P={},F={},G=0,Z=function(o,d,y){return o.drawImage(d,y.x,y.y),d=o.getImageData(y.x,y.y,y.width,y.height),o.clearRect(y.x,y.y,y.width,y.height),d},J=function(o,d,y){var k=typeof o=="string"?o:o.src;P[k]?d(P[k],y):((o=new Image).onload=function(R){P[k]=R.target,d(P[k],y)},o.src=k)},$=function(o,d,y){var k,R,Y=o.src;return F[Y]||(k=w(o.width),R=w(o.height),(R=b.createCanvas("proton_canvas_cache_"+ ++G,k,R)).getContext("2d").drawImage(o,0,0,o.width,o.height),F[Y]=R),d&&d(F[Y],y),F[Y]},V={initValue:function(o,d){return o=o??d},isArray:function(o){return Object.prototype.toString.call(o)==="[object Array]"},emptyArray:function(o){o&&(o.length=0)},toArray:function(o){return this.isArray(o)?o:[o]},getRandFromArray:function(o){return o?o[Math.floor(o.length*Math.random())]:null},emptyObject:function(o,d){var y,k=1<arguments.length&&d!==void 0?d:null;for(y in o)k&&-1<k.indexOf(y)||delete o[y]},classApply:function(o,d){return d=1<arguments.length&&d!==void 0?d:null,new(d?o.bind.apply(o,[null].concat(d)):o)},setVectorVal:function(o,d){d=1<arguments.length&&d!==void 0?d:null,d&&(this.hasProp(d,"x")&&(o.p.x=d.x),this.hasProp(d,"y")&&(o.p.y=d.y),this.hasProp(d,"vx")&&(o.v.x=d.vx),this.hasProp(d,"vy")&&(o.v.y=d.vy),this.hasProp(d,"ax")&&(o.a.x=d.ax),this.hasProp(d,"ay")&&(o.a.y=d.ay),this.hasProp(d,"p")&&o.p.copy(d.p),this.hasProp(d,"v")&&o.v.copy(d.v),this.hasProp(d,"a")&&o.a.copy(d.a),this.hasProp(d,"position")&&o.p.copy(d.position),this.hasProp(d,"velocity")&&o.v.copy(d.velocity),this.hasProp(d,"accelerate")&&o.a.copy(d.accelerate))},hasProp:function(o,d){return!!o&&o[d]!==void 0},setProp:function(o,d){for(var y in d)o.hasOwnProperty(y)&&(o[y]=M.getSpanValue(d[y]));return o},getImageData:function(o,d,y){return Z(o,d,y)},destroyAll:function(o,d){for(var y=1<arguments.length&&d!==void 0?d:null,k=o.length;k--;){try{o[k].destroy(y)}catch{}delete o[k]}o.length=0},assign:function(o,d){if(typeof Object.assign=="function")return Object.assign(o,d);for(var y in d)Object.prototype.hasOwnProperty.call(d,y)&&(o[y]=d[y]);return o}},j={},fe={_index:0,_cache:{},id:function(o){return j[o]!==void 0&&j[o]!==null||(j[o]=0),o+"_"+j[o]++},getId:function(o){var d=this.getIdFromCache(o);return d||(d="PUID_"+this._index++,this._cache[d]=o,d)},getIdFromCache:function(o){var d,y=void 0;for(y in this._cache)if((d=this._cache[y])===o||this.isBody(d,o)&&d.src===o.src)return y;return null},isBody:function(o,d){return(o===void 0?"undefined":a(o))==="object"&&(d===void 0?"undefined":a(d))==="object"&&o.isInner&&d.isInner},getTarget:function(o){return this._cache[o]}},Ie=(c(qe,[{key:"get",value:function(o,d,y){var k=void 0;return y=y||o.__puid||fe.getId(o),(k=this.cache[y]&&0<this.cache[y].length?this.cache[y].pop():this.createOrClone(o,d)).__puid=o.__puid||y,k}},{key:"expire",value:function(o){return this.getCache(o.__puid).push(o)}},{key:"createOrClone",value:function(o,d){return this.total++,this.create?this.create(o,d):typeof o=="function"?V.classApply(o,d):o.clone()}},{key:"getCount",value:function(){var o,d=0;for(o in this.cache)d+=this.cache[o].length;return d++}},{key:"destroy",value:function(){for(var o in this.cache)this.cache[o].length=0,delete this.cache[o]}},{key:"getCache",value:function(o){return o=0<arguments.length&&o!==void 0?o:"default",this.cache[o]||(this.cache[o]=[]),this.cache[o]}}]),qe);function qe(o){u(this,qe),this.total=0,this.cache={}}var et=(c(ge,[{key:"update",value:function(k,R){this.add(k,R);var y=this.getEmitter(),k=this.getRenderer(),R="";switch(this.type){case 2:R+="emitter:"+this.proton.emitters.length+"<br>",y&&(R+="em speed:"+y.emitSpeed+"<br>"),y&&(R+="pos:"+this.getEmitterPos(y));break;case 3:y&&(R+="initializes:"+y.initializes.length+"<br>"),y&&(R+='<span style="display:inline-block;">'+this.concatArr(y.initializes)+"</span><br>"),y&&(R+="behaviours:"+y.behaviours.length+"<br>"),y&&(R+='<span style="display:inline-block;">'+this.concatArr(y.behaviours)+"</span><br>");break;case 4:k&&(R+=k.name+"<br>"),k&&(R+="body:"+this.getCreatedNumber(k)+"<br>");break;default:R+="particles:"+this.proton.getCount()+"<br>",R+="pool:"+this.proton.pool.getCount()+"<br>",R+="total:"+this.proton.pool.total}this.container.innerHTML=R}},{key:"add",value:function(o,d){var y=this;if(!this.container){this.type=1,this.container=document.createElement("div"),this.container.style.cssText=["position:absolute;bottom:0px;left:0;cursor:pointer;","opacity:0.9;z-index:10000;padding:10px;font-size:12px;font-family:Helvetica,Arial,sans-serif;","width:120px;height:50px;background-color:#002;color:#0ff;"].join(""),this.container.addEventListener("click",function(Y){y.type++,4<y.type&&(y.type=1)},!1);var k=void 0,R=void 0;switch(o){case 2:k="#201",R="#f08";break;case 3:k="#020",R="#0f0";break;default:k="#002",R="#0ff"}this.container.style["background-color"]=k,this.container.style.color=R}this.container.parentNode||(d=d||this.body||document.body).appendChild(this.container)}},{key:"getEmitter",value:function(){return this.proton.emitters[this.emitterIndex]}},{key:"getRenderer",value:function(){return this.proton.renderers[this.rendererIndex]}},{key:"concatArr",value:function(o){var d="";if(!o||!o.length)return d;for(var y=0;y<o.length;y++)d+=(o[y].name||"").substr(0,1)+".";return d}},{key:"getCreatedNumber",value:function(o){return o.pool.total||o.cpool&&o.cpool.total||0}},{key:"getEmitterPos",value:function(o){return Math.round(o.p.x)+","+Math.round(o.p.y)}}]),ge);function ge(o){u(this,ge),this.proton=o,this.container=null,this.type=1,this.emitterIndex=0,this.rendererIndex=0}var Pt=(c(We,[{key:"addEventListener",value:function(o,d){return this._listeners?this.removeEventListener(o,d):this._listeners={},this._listeners[o]||(this._listeners[o]=[]),this._listeners[o].push(d),d}},{key:"removeEventListener",value:function(o,d){if(this._listeners&&this._listeners[o]){for(var y=this._listeners[o],k=y.length,R=0;R<k;R++)if(y[R]===d){k===1?delete this._listeners[o]:y.splice(R,1);break}}}},{key:"removeAllEventListeners",value:function(o){o?this._listeners&&delete this._listeners[o]:this._listeners=null}},{key:"dispatchEvent",value:function(o,d){var y=!1,k=this._listeners;if(o&&k){var R=k[o];if(!R)return y;for(var Y=void 0,Ve=R.length;Ve--;)Y=R[Ve],y=y||Y(d)}return!!y}},{key:"hasEventListener",value:function(o){var d=this._listeners;return!(!d||!d[o])}}],[{key:"bind",value:function(o){o.prototype.dispatchEvent=We.prototype.dispatchEvent,o.prototype.hasEventListener=We.prototype.hasEventListener,o.prototype.addEventListener=We.prototype.addEventListener,o.prototype.removeEventListener=We.prototype.removeEventListener,o.prototype.removeAllEventListeners=We.prototype.removeAllEventListeners}}]),We);function We(){u(this,We),this._listeners=null}var X=(c(te,[{key:"calculate",value:function(o,d,y){this.eulerIntegrate(o,d,y)}},{key:"eulerIntegrate",value:function(o,d,y){o.sleep||(o.old.p.copy(o.p),o.old.v.copy(o.v),o.a.multiplyScalar(1/o.mass),o.v.add(o.a.multiplyScalar(d)),o.p.add(o.old.v.multiplyScalar(d)),y&&o.v.multiplyScalar(y),o.a.clear())}}]),te);function te(o){u(this,te),this.type=o}var U=(c(de,[{key:"addRenderer",value:function(o){o.init(this),this.renderers.push(o)}},{key:"removeRenderer",value:function(o){var d=this.renderers.indexOf(o);this.renderers.splice(d,1),o.remove(this)}},{key:"addEmitter",value:function(o){this.emitters.push(o),(o.parent=this).dispatchEvent(de.EMITTER_ADDED,o)}},{key:"removeEmitter",value:function(o){var d=this.emitters.indexOf(o);this.emitters.splice(d,1),o.parent=null,this.dispatchEvent(de.EMITTER_REMOVED,o)}},{key:"update",value:function(){this._fps==="auto"?(this.dispatchEvent(de.PROTON_UPDATE),de.USE_CLOCK?(this.then||(this.then=new Date().getTime()),this.now=new Date().getTime(),this.elapsed=.001*(this.now-this.then),this.amendChangeTabsBug(),0<this.elapsed&&this.emittersUpdate(this.elapsed),this.then=this.now):this.emittersUpdate(de.DEFAULT_INTERVAL),this.dispatchEvent(de.PROTON_UPDATE_AFTER)):(this.then||(this.then=new Date().getTime()),this.now=new Date().getTime(),this.elapsed=.001*(this.now-this.then),this.elapsed>this._interval&&(this.dispatchEvent(de.PROTON_UPDATE),this.emittersUpdate(this._interval),this.then=this.now-this.elapsed%this._interval*1e3,this.dispatchEvent(de.PROTON_UPDATE_AFTER)))}},{key:"emittersUpdate",value:function(o){for(var d=this.emitters.length;d--;)this.emitters[d].update(o)}},{key:"amendChangeTabsBug",value:function(){de.amendChangeTabsBug&&.5<this.elapsed&&(this.then=new Date().getTime(),this.elapsed=0)}},{key:"getCount",value:function(){for(var o=0,d=this.emitters.length;d--;)o+=this.emitters[d].particles.length;return o}},{key:"getAllParticles",value:function(){for(var o=[],d=this.emitters.length;d--;)o=o.concat(this.emitters[d].particles);return o}},{key:"destroyAllEmitters",value:function(){V.destroyAll(this.emitters)}},{key:"destroy",value:function(o){function d(){y.time=0,y.then=0,y.pool.destroy(),V.destroyAll(y.emitters),V.destroyAll(y.renderers,y.getAllParticles())}var y=this;0<arguments.length&&o!==void 0&&o?setTimeout(d,200):d()}},{key:"fps",set:function(o){this._fps=o,this._interval=o==="auto"?de.DEFAULT_INTERVAL:i.floor(1/o,7)},get:function(){return this._fps}}]),de);function de(o){u(this,de),this.emitters=[],this.renderers=[],this.time=0,this.now=0,this.then=0,this.elapsed=0,this.stats=new et(this),this.pool=new Ie(80),this.integrationType=V.initValue(o,de.EULER),this.integrator=new X(this.integrationType),this._fps="auto",this._interval=de.DEFAULT_INTERVAL}U.USE_CLOCK=!1,U.MEASURE=100,U.EULER="euler",U.RK2="runge-kutta2",U.PARTICLE_CREATED="PARTICLE_CREATED",U.PARTICLE_UPDATE="PARTICLE_UPDATE",U.PARTICLE_SLEEP="PARTICLE_SLEEP",U.PARTICLE_DEAD="PARTICLE_DEAD",U.EMITTER_ADDED="EMITTER_ADDED",U.EMITTER_REMOVED="EMITTER_REMOVED",U.PROTON_UPDATE="PROTON_UPDATE",U.PROTON_UPDATE_AFTER="PROTON_UPDATE_AFTER",U.DEFAULT_INTERVAL=.0167,U.amendChangeTabsBug=!0,Pt.bind(U);var Re=(c(Lt,[{key:"reset",value:function(){this.r=255,this.g=255,this.b=255}}]),Lt);function Lt(){var o=0<arguments.length&&arguments[0]!==void 0?arguments[0]:255,d=1<arguments.length&&arguments[1]!==void 0?arguments[1]:255,y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:255;u(this,Lt),this.r=o,this.g=d,this.b=y}var h={easeLinear:function(o){return o},easeInQuad:function(o){return Math.pow(o,2)},easeOutQuad:function(o){return-(Math.pow(o-1,2)-1)},easeInOutQuad:function(o){return(o/=.5)<1?.5*Math.pow(o,2):-.5*((o-=2)*o-2)},easeInCubic:function(o){return Math.pow(o,3)},easeOutCubic:function(o){return Math.pow(o-1,3)+1},easeInOutCubic:function(o){return(o/=.5)<1?.5*Math.pow(o,3):.5*(Math.pow(o-2,3)+2)},easeInQuart:function(o){return Math.pow(o,4)},easeOutQuart:function(o){return-(Math.pow(o-1,4)-1)},easeInOutQuart:function(o){return(o/=.5)<1?.5*Math.pow(o,4):-.5*((o-=2)*Math.pow(o,3)-2)},easeInSine:function(o){return 1-Math.cos(o*i.PI_2)},easeOutSine:function(o){return Math.sin(o*i.PI_2)},easeInOutSine:function(o){return-.5*(Math.cos(Math.PI*o)-1)},easeInExpo:function(o){return o===0?0:Math.pow(2,10*(o-1))},easeOutExpo:function(o){return o===1?1:1-Math.pow(2,-10*o)},easeInOutExpo:function(o){return o===0?0:o===1?1:(o/=.5)<1?.5*Math.pow(2,10*(o-1)):.5*(2-Math.pow(2,-10*--o))},easeInCirc:function(o){return-(Math.sqrt(1-o*o)-1)},easeOutCirc:function(o){return Math.sqrt(1-Math.pow(o-1,2))},easeInOutCirc:function(o){return(o/=.5)<1?-.5*(Math.sqrt(1-o*o)-1):.5*(Math.sqrt(1-(o-=2)*o)+1)},easeInBack:function(o){return o*o*(2.70158*o-1.70158)},easeOutBack:function(o){return--o*o*(2.70158*o+1.70158)+1},easeInOutBack:function(o){var d=1.70158;return(o/=.5)<1?o*o*((1+(d*=1.525))*o-d)*.5:.5*((o-=2)*o*((1+(d*=1.525))*o+d)+2)},getEasing:function(o){return typeof o=="function"?o:this[o]||this.easeLinear}},p=(c(x,[{key:"set",value:function(o,d){return this.x=o,this.y=d,this}},{key:"setX",value:function(o){return this.x=o,this}},{key:"setY",value:function(o){return this.y=o,this}},{key:"getGradient",value:function(){return this.x!==0?Math.atan2(this.y,this.x):0<this.y?i.PI_2:this.y<0?-i.PI_2:void 0}},{key:"copy",value:function(o){return this.x=o.x,this.y=o.y,this}},{key:"add",value:function(o,d){return d!==void 0?this.addVectors(o,d):(this.x+=o.x,this.y+=o.y,this)}},{key:"addXY",value:function(o,d){return this.x+=o,this.y+=d,this}},{key:"addVectors",value:function(o,d){return this.x=o.x+d.x,this.y=o.y+d.y,this}},{key:"sub",value:function(o,d){return d!==void 0?this.subVectors(o,d):(this.x-=o.x,this.y-=o.y,this)}},{key:"subVectors",value:function(o,d){return this.x=o.x-d.x,this.y=o.y-d.y,this}},{key:"divideScalar",value:function(o){return o!==0?(this.x/=o,this.y/=o):this.set(0,0),this}},{key:"multiplyScalar",value:function(o){return this.x*=o,this.y*=o,this}},{key:"negate",value:function(){return this.multiplyScalar(-1)}},{key:"dot",value:function(o){return this.x*o.x+this.y*o.y}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"normalize",value:function(){return this.divideScalar(this.length())}},{key:"distanceTo",value:function(o){return Math.sqrt(this.distanceToSquared(o))}},{key:"rotate",value:function(o){var d=this.x,y=this.y;return this.x=d*Math.cos(o)+y*Math.sin(o),this.y=-d*Math.sin(o)+y*Math.cos(o),this}},{key:"distanceToSquared",value:function(y){var d=this.x-y.x,y=this.y-y.y;return d*d+y*y}},{key:"lerp",value:function(o,d){return this.x+=(o.x-this.x)*d,this.y+=(o.y-this.y)*d,this}},{key:"equals",value:function(o){return o.x===this.x&&o.y===this.y}},{key:"clear",value:function(){return this.x=0,this.y=0,this}},{key:"clone",value:function(){return new x(this.x,this.y)}}]),x);function x(o,d){u(this,x),this.x=o||0,this.y=d||0}var B=(c(z,[{key:"getDirection",value:function(){return Math.atan2(this.v.x,-this.v.y)*i.N180_PI}},{key:"reset",value:function(){return this.life=1/0,this.age=0,this.dead=!1,this.sleep=!1,this.body=null,this.sprite=null,this.parent=null,this.energy=1,this.mass=1,this.radius=10,this.alpha=1,this.scale=1,this.rotation=0,this.color=null,this.p.set(0,0),this.v.set(0,0),this.a.set(0,0),this.old.p.set(0,0),this.old.v.set(0,0),this.old.a.set(0,0),this.easing=h.easeLinear,this.rgb.reset(),V.emptyObject(this.data),this.removeAllBehaviours(),this}},{key:"update",value:function(o,d){this.sleep||(this.age+=o,this.applyBehaviours(o,d)),this.age<this.life?(d=this.easing(this.age/this.life),this.energy=Math.max(1-d,0)):this.destroy()}},{key:"applyBehaviours",value:function(o,d){for(var y=this.behaviours.length,k=void 0,k=0;k<y;k++)this.behaviours[k]&&this.behaviours[k].applyBehaviour(this,o,d)}},{key:"addBehaviour",value:function(o){this.behaviours.push(o),o.hasOwnProperty("parents")&&o.parents.push(this),o.initialize(this)}},{key:"addBehaviours",value:function(o){for(var d=o.length,y=void 0,y=0;y<d;y++)this.addBehaviour(o[y])}},{key:"removeBehaviour",value:function(o){o=this.behaviours.indexOf(o),-1<o&&(this.behaviours.splice(o,1).parents=null)}},{key:"removeAllBehaviours",value:function(){V.emptyArray(this.behaviours)}},{key:"destroy",value:function(){this.removeAllBehaviours(),this.energy=0,this.dead=!0,this.parent=null}}]),z);function z(o){u(this,z),this.id="",this.old={},this.data={},this.behaviours=[],this.p=[],this.v=[],this.a=[],this.rgb={},this.name="Particle",this.id=fe.id(this.name),this.old={},this.data={},this.behaviours=[],this.p=new p,this.v=new p,this.a=new p,this.old.p=new p,this.old.v=new p,this.old.a=new p,this.rgb=new Re,this.reset(),o&&V.setProp(this,o)}var H={hexToRgb:function(o){return o=o.charAt(0)==="#"?o.substring(1,7):o,{r:parseInt(o.substring(0,2),16),g:parseInt(o.substring(2,4),16),b:parseInt(o.substring(4,6),16)}},rgbToHex:function(o){return"rgb("+o.r+", "+o.g+", "+o.b+")"},getHex16FromParticle:function(o){return 65536*Number(o.rgb.r)+256*Number(o.rgb.g)+Number(o.rgb.b)}},ee=(c(ve,[{key:"set",value:function(o,d){return this.r=o,this.tha=d,this}},{key:"setR",value:function(o){return this.r=o,this}},{key:"setTha",value:function(o){return this.tha=o,this}},{key:"copy",value:function(o){return this.r=o.r,this.tha=o.tha,this}},{key:"toVector",value:function(){return new p(this.getX(),this.getY())}},{key:"getX",value:function(){return this.r*Math.sin(this.tha)}},{key:"getY",value:function(){return-this.r*Math.cos(this.tha)}},{key:"normalize",value:function(){return this.r=1,this}},{key:"equals",value:function(o){return o.r===this.r&&o.tha===this.tha}},{key:"clear",value:function(){return this.r=0,this.tha=0,this}},{key:"clone",value:function(){return new ve(this.r,this.tha)}}]),ve);function ve(o,d){u(this,ve),this.r=Math.abs(o)||0,this.tha=d||0}var be={create:function(o){var d=new Float32Array(9);return o&&this.set(o,d),d},set:function(o,d){for(var y=0;y<9;y++)d[y]=o[y];return d},multiply:function(ct,ht,y){var k=ct[0],R=ct[1],Y=ct[2],Ve=ct[3],je=ct[4],Xe=ct[6],Se=ct[7],jt=ht[0],ot=ht[1],Ht=ht[2],en=ht[3],wt=ht[4],ct=ht[6],ht=ht[7];return y[0]=jt*k+ot*Ve,y[1]=jt*R+ot*je,y[2]=Y*Ht,y[3]=en*k+wt*Ve,y[4]=en*R+wt*je,y[6]=ct*k+ht*Ve+Xe,y[7]=ct*R+ht*je+Se,y},inverse:function(Xe,d){var y=Xe[0],k=Xe[1],Se=Xe[3],R=Xe[4],Y=Xe[6],Ve=Xe[7],je=-Se,Xe=Ve*Se-R*Y,Se=1/(y*R+k*je);return d[0]=R*Se,d[1]=-k*Se,d[3]=je*Se,d[4]=y*Se,d[6]=Xe*Se,d[7]=(-Ve*y+k*Y)*Se,d},multiplyVec2:function(o,R,y){var k=R[0],R=R[1];return y[0]=k*o[0]+R*o[3]+o[6],y[1]=k*o[1]+R*o[4]+o[7],y}},mt=(C(Te,M),c(Te,[{key:"getValue",value:function(){var o=V.getRandFromArray(this._arr);return o==="random"||o==="Random"?i.randomColor():o}}],[{key:"createArraySpan",value:function(o){return o?o instanceof Te?o:new Te(o):null}}]),Te);function Te(o){u(this,Te);var d=S(this,(Te.__proto__||Object.getPrototypeOf(Te)).call(this));return d._arr=V.toArray(o),d}var Or=(c(Ut,[{key:"contains",value:function(o,d){return o<=this.right&&o>=this.x&&d<=this.bottom&&d>=this.y}}]),Ut);function Ut(o,d,y,k){u(this,Ut),this.x=o,this.y=d,this.width=y,this.height=k,this.bottom=this.y+this.height,this.right=this.x+this.width}var Ni=(c(Di,[{key:"init",value:function(){this.startTime=0,this.nextTime=this.timePan.getValue()}},{key:"getValue",value:function(o){return this.startTime+=o,this.startTime>=this.nextTime?(this.startTime=0,this.nextTime=this.timePan.getValue(),this.numPan.b===1?.5<this.numPan.getValue(!1)?1:0:this.numPan.getValue(!0)):0}}]),Di);function Di(o,d){u(this,Di),this.numPan=M.setSpanValue(V.initValue(o,1)),this.timePan=M.setSpanValue(V.initValue(d,1)),this.startTime=0,this.nextTime=0,this.init()}var Sn=(c(zi,[{key:"reset",value:function(){}},{key:"init",value:function(o,d){d?this.initialize(d):this.initialize(o)}},{key:"initialize",value:function(){}}]),zi);function zi(){u(this,zi)}var pa=(C(ye,Sn),c(ye,[{key:"initialize",value:function(o){this.lifePan.a===1/0?o.life=1/0:o.life=this.lifePan.getValue()}}]),ye);function ye(o,d,y){u(this,ye);var k=S(this,(ye.__proto__||Object.getPrototypeOf(ye)).call(this));return k.lifePan=M.setSpanValue(o,d,y),k.name="Life",k}var A=(c(bt,[{key:"getPosition",value:function(){}},{key:"crossing",value:function(){}}]),bt);function bt(){u(this,bt),this.vector=new p(0,0),this.random=0,this.crossType="dead",this.alert=!0}var Zr=(C(nr,A),c(nr,[{key:"getPosition",value:function(){return this.vector.x=this.x,this.vector.y=this.y,this.vector}},{key:"crossing",value:function(){this.alert&&(console.error("Sorry, PointZone does not support crossing method!"),this.alert=!1)}}]),nr);function nr(o,d){u(this,nr);var y=S(this,(nr.__proto__||Object.getPrototypeOf(nr)).call(this));return y.x=o,y.y=d,y}var Fi=(C(Tt,Sn),c(Tt,[{key:"reset",value:function(o){this.zone=V.initValue(o,new Zr)}},{key:"initialize",value:function(o){this.zone.getPosition(),o.p.x=this.zone.vector.x,o.p.y=this.zone.vector.y}}]),Tt);function Tt(o){u(this,Tt);var d=S(this,(Tt.__proto__||Object.getPrototypeOf(Tt)).call(this));return d.zone=V.initValue(o,new Zr),d.name="Position",d}var Fo=(C(rr,Sn),c(rr,[{key:"reset",value:function(o,d,y){this.rPan=M.setSpanValue(o),this.thaPan=M.setSpanValue(d),this.type=V.initValue(y,"vector")}},{key:"normalizeVelocity",value:function(o){return o*U.MEASURE}},{key:"initialize",value:function(o){var d;this.type==="p"||this.type==="P"||this.type==="polar"?(d=new ee(this.normalizeVelocity(this.rPan.getValue()),this.thaPan.getValue()*i.PI_180),o.v.x=d.getX(),o.v.y=d.getY()):(o.v.x=this.normalizeVelocity(this.rPan.getValue()),o.v.y=this.normalizeVelocity(this.thaPan.getValue()))}}]),rr);function rr(o,d,y){u(this,rr);var k=S(this,(rr.__proto__||Object.getPrototypeOf(rr)).call(this));return k.rPan=M.setSpanValue(o),k.thaPan=M.setSpanValue(d),k.type=V.initValue(y,"vector"),k.name="Velocity",k}var va=(C(ir,Sn),c(ir,[{key:"initialize",value:function(o){o.mass=this.massPan.getValue()}}]),ir);function ir(o,d,y){u(this,ir);var k=S(this,(ir.__proto__||Object.getPrototypeOf(ir)).call(this));return k.massPan=M.setSpanValue(o,d,y),k.name="Mass",k}var ya=(C(or,Sn),c(or,[{key:"reset",value:function(o,d,y){this.radius=M.setSpanValue(o,d,y)}},{key:"initialize",value:function(o){o.radius=this.radius.getValue(),o.data.oldRadius=o.radius}}]),or);function or(o,d,y){u(this,or);var k=S(this,(or.__proto__||Object.getPrototypeOf(or)).call(this));return k.radius=M.setSpanValue(o,d,y),k.name="Radius",k}var ga=(C(sr,Sn),c(sr,[{key:"initialize",value:function(o){var d=this.image.getValue();o.body=typeof d=="string"?{width:this.w,height:this.h,src:d,isInner:!0,inner:!0}:d}},{key:"setSpanValue",value:function(o){return o instanceof mt?o:new mt(o)}}]),sr);function sr(o,d,y){u(this,sr);var k=S(this,(sr.__proto__||Object.getPrototypeOf(sr)).call(this));return k.image=k.setSpanValue(o),k.w=V.initValue(d,20),k.h=V.initValue(y,k.w),k.name="Body",k}var _t=(c(Nr,[{key:"reset",value:function(o,d){this.life=V.initValue(o,1/0),this.easing=h.getEasing(d)}},{key:"normalizeForce",value:function(o){return o.multiplyScalar(U.MEASURE)}},{key:"normalizeValue",value:function(o){return o*U.MEASURE}},{key:"initialize",value:function(){}},{key:"calculate",value:function(o,d){this.age+=d,this.age>=this.life||this.dead?(this.energy=0,this.dead=!0,this.destroy()):(o=this.easing(o.age/o.life),this.energy=Math.max(1-o,0))}},{key:"destroy",value:function(){for(var o=this.parents.length;o--;)this.parents[o].removeBehaviour(this);this.parents.length=0}}]),Nr);function Nr(o,d){u(this,Nr),this.life=V.initValue(o,1/0),this.easing=h.getEasing(d),this.age=0,this.energy=1,this.dead=!1,this.parents=[],this.id="Behaviour_"+Nr.id++,this.name="Behaviour"}_t.id=0;var Lo=(C(Pn,_t),c(Pn,[{key:"reset",value:function(o,d,y,k){this.force=this.normalizeForce(new p(o,d)),y&&m(Pn.prototype.__proto__||Object.getPrototypeOf(Pn.prototype),"reset",this).call(this,y,k)}},{key:"applyBehaviour",value:function(o,d,y){this.calculate(o,d,y),o.a.add(this.force)}}]),Pn);function Pn(o,d,y,k){return u(this,Pn),k=S(this,(Pn.__proto__||Object.getPrototypeOf(Pn)).call(this,y,k)),k.force=k.normalizeForce(new p(o,d)),k.name="Force",k}var Li=(C(bn,_t),c(bn,[{key:"reset",value:function(o,d,y,k,R){this.targetPosition=V.initValue(o,new p),this.radius=V.initValue(y,1e3),this.force=V.initValue(this.normalizeValue(d),100),this.radiusSq=this.radius*this.radius,this.attractionForce=new p,this.lengthSq=0,k&&m(bn.prototype.__proto__||Object.getPrototypeOf(bn.prototype),"reset",this).call(this,k,R)}},{key:"applyBehaviour",value:function(o,d,y){this.calculate(o,d,y),this.attractionForce.copy(this.targetPosition),this.attractionForce.sub(o.p),this.lengthSq=this.attractionForce.lengthSq(),4e-5<this.lengthSq&&this.lengthSq<this.radiusSq&&(this.attractionForce.normalize(),this.attractionForce.multiplyScalar(1-this.lengthSq/this.radiusSq),this.attractionForce.multiplyScalar(this.force),o.a.add(this.attractionForce))}}]),bn);function bn(o,d,y,k,R){return u(this,bn),R=S(this,(bn.__proto__||Object.getPrototypeOf(bn)).call(this,k,R)),R.targetPosition=V.initValue(o,new p),R.radius=V.initValue(y,1e3),R.force=V.initValue(R.normalizeValue(d),100),R.radiusSq=R.radius*R.radius,R.attractionForce=new p,R.lengthSq=0,R.name="Attraction",R}var re=(C(Tn,_t),c(Tn,[{key:"reset",value:function(o,d,y,k,R){this.panFoce=new p(o,d),this.panFoce=this.normalizeForce(this.panFoce),this.delay=y,k&&m(Tn.prototype.__proto__||Object.getPrototypeOf(Tn.prototype),"reset",this).call(this,k,R)}},{key:"initialize",value:function(o){o.data.time=0}},{key:"applyBehaviour",value:function(o,d,y){this.calculate(o,d,y),o.data.time+=d,o.data.time>=this.delay&&(o.a.addXY(i.randomAToB(-this.panFoce.x,this.panFoce.x),i.randomAToB(-this.panFoce.y,this.panFoce.y)),o.data.time=0)}}]),Tn);function Tn(o,d,y,k,R){return u(this,Tn),R=S(this,(Tn.__proto__||Object.getPrototypeOf(Tn)).call(this,k,R)),R.reset(o,d,y),R.time=0,R.name="RandomDrift",R}var Ee=(C(Mt,Lo),c(Mt,[{key:"reset",value:function(o,d,y){m(Mt.prototype.__proto__||Object.getPrototypeOf(Mt.prototype),"reset",this).call(this,0,o,d,y)}}]),Mt);function Mt(o,d,y){return u(this,Mt),y=S(this,(Mt.__proto__||Object.getPrototypeOf(Mt)).call(this,0,o,d,y)),y.name="Gravity",y}var Uo=(C(Mn,_t),c(Mn,[{key:"reset",value:function(o,d,y,k,R){this.emitter=V.initValue(o,null),this.mass=V.initValue(d,!0),this.callback=V.initValue(y,null),this.collisionPool=[],this.delta=new p,k&&m(Mn.prototype.__proto__||Object.getPrototypeOf(Mn.prototype),"reset",this).call(this,k,R)}},{key:"applyBehaviour",value:function(o,d,y){for(var k,R,Y,Ve,je,Xe,Se=(this.emitter?this.emitter.particles:this.pool).slice(y),jt=Se.length,ot=void 0,Ht=void 0,Ht=0;Ht<jt;Ht++)(ot=Se[Ht])!==o&&(this.delta.copy(ot.p),this.delta.sub(o.p),(k=this.delta.lengthSq())<=(Xe=o.radius+ot.radius)*Xe&&(R=Xe-Math.sqrt(k),R+=.5,Y=o.mass+ot.mass,Ve=this.mass?ot.mass/Y:.5,je=this.mass?o.mass/Y:.5,o.p.add(this.delta.clone().normalize().multiplyScalar(R*-Ve)),ot.p.add(this.delta.normalize().multiplyScalar(R*je)),this.callback&&this.callback(o,ot)))}}]),Mn);function Mn(o,d,y,k,R){return u(this,Mn),R=S(this,(Mn.__proto__||Object.getPrototypeOf(Mn)).call(this,k,R)),R.reset(o,d,y),R.name="Collision",R}var ma=(C(In,_t),c(In,[{key:"reset",value:function(o,d,y,k){this.zone=o,this.zone.crossType=V.initValue(d,"dead"),y&&m(In.prototype.__proto__||Object.getPrototypeOf(In.prototype),"reset",this).call(this,y,k)}},{key:"applyBehaviour",value:function(o,d,y){this.calculate(o,d,y),this.zone.crossing(o)}}]),In);function In(o,d,y,k){return u(this,In),k=S(this,(In.__proto__||Object.getPrototypeOf(In)).call(this,y,k)),k.reset(o,d),k.name="CrossZone",k}var Vo=(C(L,_t),c(L,[{key:"reset",value:function(o,d,y,k){this.same=d==null,this.a=M.setSpanValue(V.initValue(o,1)),this.b=M.setSpanValue(d),y&&m(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"reset",this).call(this,y,k)}},{key:"initialize",value:function(o){o.data.alphaA=this.a.getValue(),this.same?o.data.alphaB=o.data.alphaA:o.data.alphaB=this.b.getValue()}},{key:"applyBehaviour",value:function(o,d,y){this.calculate(o,d,y),o.alpha=o.data.alphaB+(o.data.alphaA-o.data.alphaB)*this.energy,o.alpha<.001&&(o.alpha=0)}}]),L);function L(o,d,y,k){return u(this,L),k=S(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,y,k)),k.reset(o,d),k.name="Alpha",k}var tt=(C(lt,_t),c(lt,[{key:"reset",value:function(o,d,y,k){this.same=d==null,this.a=M.setSpanValue(V.initValue(o,1)),this.b=M.setSpanValue(d),y&&m(lt.prototype.__proto__||Object.getPrototypeOf(lt.prototype),"reset",this).call(this,y,k)}},{key:"initialize",value:function(o){o.data.scaleA=this.a.getValue(),o.data.oldRadius=o.radius,o.data.scaleB=this.same?o.data.scaleA:this.b.getValue()}},{key:"applyBehaviour",value:function(o,d,y){this.calculate(o,d,y),o.scale=o.data.scaleB+(o.data.scaleA-o.data.scaleB)*this.energy,o.scale<1e-4&&(o.scale=0),o.radius=o.data.oldRadius*o.scale}}]),lt);function lt(o,d,y,k){return u(this,lt),k=S(this,(lt.__proto__||Object.getPrototypeOf(lt)).call(this,y,k)),k.reset(o,d),k.name="Scale",k}var Ui=(C(hn,_t),c(hn,[{key:"reset",value:function(o,d,y,k,R){this.same=d==null,this.a=M.setSpanValue(V.initValue(o,"Velocity")),this.b=M.setSpanValue(V.initValue(d,0)),this.style=V.initValue(y,"to"),k&&m(hn.prototype.__proto__||Object.getPrototypeOf(hn.prototype),"reset",this).call(this,k,R)}},{key:"initialize",value:function(o){o.rotation=this.a.getValue(),o.data.rotationA=this.a.getValue(),this.same||(o.data.rotationB=this.b.getValue())}},{key:"applyBehaviour",value:function(o,d,y){this.calculate(o,d,y),this.same?this.a.a!=="V"&&this.a.a!=="Velocity"&&this.a.a!=="v"||(o.rotation=o.getDirection()):this.style==="to"||this.style==="TO"||this.style==="_"?o.rotation+=o.data.rotationB+(o.data.rotationA-o.data.rotationB)*this.energy:o.rotation+=o.data.rotationB}}]),hn);function hn(o,d,y,k,R){return u(this,hn),R=S(this,(hn.__proto__||Object.getPrototypeOf(hn)).call(this,k,R)),R.reset(o,d,y),R.name="Rotate",R}var An=(C(fn,_t),c(fn,[{key:"reset",value:function(o,d,y,k){this.a=mt.createArraySpan(o),this.b=mt.createArraySpan(d),y&&m(fn.prototype.__proto__||Object.getPrototypeOf(fn.prototype),"reset",this).call(this,y,k)}},{key:"initialize",value:function(o){o.color=this.a.getValue(),o.data.colorA=H.hexToRgb(o.color),this.b&&(o.data.colorB=H.hexToRgb(this.b.getValue()))}},{key:"applyBehaviour",value:function(o,d,y){this.b?(this.calculate(o,d,y),o.rgb.r=o.data.colorB.r+(o.data.colorA.r-o.data.colorB.r)*this.energy,o.rgb.g=o.data.colorB.g+(o.data.colorA.g-o.data.colorB.g)*this.energy,o.rgb.b=o.data.colorB.b+(o.data.colorA.b-o.data.colorB.b)*this.energy,o.rgb.r=Math.floor(o.rgb.r),o.rgb.g=Math.floor(o.rgb.g),o.rgb.b=Math.floor(o.rgb.b)):(o.rgb.r=o.data.colorA.r,o.rgb.g=o.data.colorA.g,o.rgb.b=o.data.colorA.b)}}]),fn);function fn(o,d,y,k){return u(this,fn),k=S(this,(fn.__proto__||Object.getPrototypeOf(fn)).call(this,y,k)),k.reset(o,d),k.name="Color",k}var Vi="changing",se=(C(Me,_t),c(Me,[{key:"setAngleAndForce",value:function(o,d){this.force=Vi,this.angle=i.PI/2,o==="right"?this.angle=i.PI/2:o==="left"?this.angle=-i.PI/2:o==="random"?this.angle="random":o instanceof M?(this.angle="span",this.span=o):o&&(this.angle=o),String(d).toLowerCase()==="changing"||String(d).toLowerCase()==="chang"||String(d).toLowerCase()==="auto"?this.force=Vi:d&&(this.force=d)}},{key:"reset",value:function(o,d,y,k){this.angle=i.PI/2,this.setAngleAndForce(o,d),y&&m(Me.prototype.__proto__||Object.getPrototypeOf(Me.prototype),"reset",this).call(this,y,k)}},{key:"initialize",value:function(o){this.angle==="random"?o.data.cangle=i.randomAToB(-i.PI,i.PI):this.angle==="span"&&(o.data.cangle=this.span.getValue()),o.data.cyclone=new p(0,0)}},{key:"applyBehaviour",value:function(o,d,y){this.calculate(o,d,y),d=void 0,y=o.v.getGradient(),this.angle==="random"||this.angle==="span"?y+=o.data.cangle:y+=this.angle,d=this.force===Vi?o.v.length()/100:this.force,o.data.cyclone.x=d*Math.cos(y),o.data.cyclone.y=d*Math.sin(y),o.data.cyclone=this.normalizeForce(o.data.cyclone),o.a.add(o.data.cyclone)}}]),Me);function Me(o,d,y,k){return u(this,Me),k=S(this,(Me.__proto__||Object.getPrototypeOf(Me)).call(this,y,k)),k.setAngleAndForce(o,d),k.name="Cyclone",k}var ie=(C(Vt,Li),c(Vt,[{key:"reset",value:function(o,d,y,k,R){m(Vt.prototype.__proto__||Object.getPrototypeOf(Vt.prototype),"reset",this).call(this,o,d,y,k,R),this.force*=-1}}]),Vt);function Vt(o,d,y,k,R){return u(this,Vt),R=S(this,(Vt.__proto__||Object.getPrototypeOf(Vt)).call(this,o,d,y,k,R)),R.force*=-1,R.name="Repulsion",R}var jo=(C(nt,_t),c(nt,[{key:"reset",value:function(o,d,y,k){this.distanceVec=new p,this.centerPoint=V.initValue(o,new p),this.force=V.initValue(this.normalizeValue(d),100),y&&m(nt.prototype.__proto__||Object.getPrototypeOf(nt.prototype),"reset",this).call(this,y,k)}},{key:"initialize",value:function(){}},{key:"applyBehaviour",value:function(o,d){this.distanceVec.set(this.centerPoint.x-o.p.x,this.centerPoint.y-o.p.y);var y,k=this.distanceVec.lengthSq();k!==0&&(y=this.distanceVec.length(),y=this.force*d/(k*y),o.v.x+=y*this.distanceVec.x,o.v.y+=y*this.distanceVec.y)}}]),nt);function nt(o,d,y,k){return u(this,nt),k=S(this,(nt.__proto__||Object.getPrototypeOf(nt)).call(this,y,k)),k.distanceVec=new p,k.centerPoint=V.initValue(o,new p),k.force=V.initValue(k.normalizeValue(d),100),k.name="GravityWell",k}var _a={initialize:function(o,d,y){for(var k=y.length,R=void 0,R=0;R<k;R++)y[R]instanceof Sn?y[R].init(o,d):this.init(o,d,y[R]);this.bindEmitter(o,d)},init:function(o,d,y){V.setProp(d,y),V.setVectorVal(d,y)},bindEmitter:function(o,d){o.bindEmitter&&(d.p.add(o.p),d.v.add(o.v),d.a.add(o.a),d.v.rotate(i.degreeTransform(o.rotation)))}},Jr=(C(ke,B),c(ke,[{key:"emit",value:function(o,d){this.stoped=!1,this.emitTime=0,this.totalTime=V.initValue(o,1/0),d===!0||d==="life"||d==="destroy"?this.life=o==="once"?1:this.totalTime:isNaN(d)||(this.life=d),this.rate.init()}},{key:"stop",value:function(){this.totalTime=-1,this.emitTime=0,this.stoped=!0}},{key:"preEmit",value:function(o){var d=this.stoped,y=this.emitTime,k=this.totalTime;for(this.stoped=!1,this.emitTime=0,this.totalTime=o,this.rate.init();.0167<o;)o-=.0167,this.update(.0167);this.stoped=d,this.emitTime=y+Math.max(o,0),this.totalTime=k}},{key:"removeAllParticles",value:function(){for(var o=this.particles.length;o--;)this.particles[o].dead=!0}},{key:"addSelfInitialize",value:function(o){o.init?o.init(this):this.initAll()}},{key:"addInitialize",value:function(){for(var o=arguments.length,d=Array(o),y=0;y<o;y++)d[y]=arguments[y];for(var k=d.length;k--;)this.initializes.push(d[k])}},{key:"removeInitialize",value:function(o){o=this.initializes.indexOf(o),-1<o&&this.initializes.splice(o,1)}},{key:"removeAllInitializers",value:function(){V.emptyArray(this.initializes)}},{key:"addBehaviour",value:function(){for(var o=arguments.length,d=Array(o),y=0;y<o;y++)d[y]=arguments[y];for(var k=arguments.length;k--;){var R=d[k];this.behaviours.push(R),R.parents&&R.parents.push(this)}}},{key:"removeBehaviour",value:function(o){var d=this.behaviours.indexOf(o);return this.behaviours.splice(d,1),o.parents&&(d=o.parents.indexOf(o),o.parents.splice(d,1)),d}},{key:"removeAllBehaviours",value:function(){V.emptyArray(this.behaviours)}},{key:"update",value:function(o){this.age+=o,(this.age>=this.life||this.dead)&&this.destroy(),this.emitting(o),this.integrate(o)}},{key:"integrate",value:function(o){if(this.parent){var d=1-this.damping;this.parent.integrator.calculate(this,o,d);for(var k=void 0,y=void 0,k=this.particles.length-1;0<=k;k--)(y=this.particles[k]).update(o,k),this.parent.integrator.calculate(y,o,d),this.dispatch("PARTICLE_UPDATE",y),y.dead&&(this.dispatch("PARTICLE_DEAD",y),this.parent.pool.expire(y),this.particles.splice(k,1))}}},{key:"dispatch",value:function(o,d){this.parent&&this.parent.dispatchEvent(o,d),this.bindEvent&&this.dispatchEvent(o,d)}},{key:"emitting",value:function(o){if(this.totalTime==="once"){var d=void 0,y=this.rate.getValue(99999);for(0<y&&(this.emitSpeed=y),d=0;d<y;d++)this.createParticle();this.totalTime="none"}else if(this.emitTime+=o,this.emitTime<this.totalTime){var k=this.rate.getValue(o),R=void 0;for(0<k&&(this.emitSpeed=k),R=0;R<k;R++)this.createParticle()}}},{key:"createParticle",value:function(o,d){var y=this.parent.pool.get(B);return this.setupParticle(y,o,d),this.dispatch("PARTICLE_CREATED",y),y}},{key:"setupParticle",value:function(o,d,y){var k=this.initializes,R=this.behaviours;d&&(k=V.toArray(d)),y&&(R=V.toArray(y)),o.reset(),_a.initialize(this,o,k),o.addBehaviours(R),(o.parent=this).particles.push(o)}},{key:"remove",value:function(){this.stop(),V.destroyAll(this.particles)}},{key:"destroy",value:function(){this.dead=!0,this.remove(),this.removeAllInitializers(),this.removeAllBehaviours(),this.parent&&this.parent.removeEmitter(this)}}]),ke);function ke(){var o=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return u(this,ke),o=S(this,(ke.__proto__||Object.getPrototypeOf(ke)).call(this,o)),o.particles=[],o.behaviours=[],o.initializes=[],o.emitTime=0,o.emitSpeed=0,o.totalTime=-1,o.damping=.006,o.bindEmitter=!0,o.rate=new Ni(1,.1),o.name="Emitter",o.id=fe.id(o.name),o}Pt.bind(Jr);var Qe=(C(Ae,Jr),c(Ae,[{key:"addSelfBehaviour",value:function(){for(var o=arguments.length,d=Array(o),y=0;y<o;y++)d[y]=arguments[y];for(var R=void 0,k=d.length,R=0;R<k;R++){var Y=d[R];this.selfBehaviours.push(Y),Y.initialize(this)}}},{key:"removeSelfBehaviour",value:function(o){o=this.selfBehaviours.indexOf(o),-1<o&&this.selfBehaviours.splice(o,1)}},{key:"update",value:function(o){if(m(Ae.prototype.__proto__||Object.getPrototypeOf(Ae.prototype),"update",this).call(this,o),!this.sleep)for(var d=this.selfBehaviours.length,y=void 0,y=0;y<d;y++)this.selfBehaviours[y].applyBehaviour(this,o,y)}}]),Ae);function Ae(o){return u(this,Ae),o=S(this,(Ae.__proto__||Object.getPrototypeOf(Ae)).call(this,o)),o.selfBehaviours=[],o}var wa=(C(It,Jr),c(It,[{key:"initEventHandler",value:function(){var o=this;this.mousemoveHandler=function(d){return o.mousemove.call(o,d)},this.mousedownHandler=function(d){return o.mousedown.call(o,d)},this.mouseupHandler=function(d){return o.mouseup.call(o,d)},this.mouseTarget.addEventListener("mousemove",this.mousemoveHandler,!1)}},{key:"emit",value:function(){this._allowEmitting=!0}},{key:"stop",value:function(){this._allowEmitting=!1}},{key:"mousemove",value:function(o){o.layerX||o.layerX===0?(this.p.x+=(o.layerX-this.p.x)*this.ease,this.p.y+=(o.layerY-this.p.y)*this.ease):!o.offsetX&&o.offsetX!==0||(this.p.x+=(o.offsetX-this.p.x)*this.ease,this.p.y+=(o.offsetY-this.p.y)*this.ease),this._allowEmitting&&m(It.prototype.__proto__||Object.getPrototypeOf(It.prototype),"emit",this).call(this,"once")}},{key:"destroy",value:function(){m(It.prototype.__proto__||Object.getPrototypeOf(It.prototype),"destroy",this).call(this),this.mouseTarget.removeEventListener("mousemove",this.mousemoveHandler,!1)}}]),It);function It(o,d,y){return u(this,It),y=S(this,(It.__proto__||Object.getPrototypeOf(It)).call(this,y)),y.mouseTarget=V.initValue(o,window),y.ease=V.initValue(d,.7),y._allowEmitting=!1,y.initEventHandler(),y}var At=(c(Dr,[{key:"setStroke",value:function(o,d){o=0<arguments.length&&o!==void 0?o:"#000000",d=1<arguments.length&&d!==void 0?d:1,this.stroke={color:o,thinkness:d}}},{key:"initHandler",value:function(){var o=this;this._protonUpdateHandler=function(){o.onProtonUpdate.call(o)},this._protonUpdateAfterHandler=function(){o.onProtonUpdateAfter.call(o)},this._emitterAddedHandler=function(d){o.onEmitterAdded.call(o,d)},this._emitterRemovedHandler=function(d){o.onEmitterRemoved.call(o,d)},this._particleCreatedHandler=function(d){o.onParticleCreated.call(o,d)},this._particleUpdateHandler=function(d){o.onParticleUpdate.call(o,d)},this._particleDeadHandler=function(d){o.onParticleDead.call(o,d)}}},{key:"init",value:function(o){(this.parent=o).addEventListener("PROTON_UPDATE",this._protonUpdateHandler),o.addEventListener("PROTON_UPDATE_AFTER",this._protonUpdateAfterHandler),o.addEventListener("EMITTER_ADDED",this._emitterAddedHandler),o.addEventListener("EMITTER_REMOVED",this._emitterRemovedHandler),o.addEventListener("PARTICLE_CREATED",this._particleCreatedHandler),o.addEventListener("PARTICLE_UPDATE",this._particleUpdateHandler),o.addEventListener("PARTICLE_DEAD",this._particleDeadHandler)}},{key:"resize",value:function(){}},{key:"destroy",value:function(){this.remove()}},{key:"remove",value:function(){this.parent.removeEventListener("PROTON_UPDATE",this._protonUpdateHandler),this.parent.removeEventListener("PROTON_UPDATE_AFTER",this._protonUpdateAfterHandler),this.parent.removeEventListener("EMITTER_ADDED",this._emitterAddedHandler),this.parent.removeEventListener("EMITTER_REMOVED",this._emitterRemovedHandler),this.parent.removeEventListener("PARTICLE_CREATED",this._particleCreatedHandler),this.parent.removeEventListener("PARTICLE_UPDATE",this._particleUpdateHandler),this.parent.removeEventListener("PARTICLE_DEAD",this._particleDeadHandler),this.parent=null}},{key:"onProtonUpdate",value:function(){}},{key:"onProtonUpdateAfter",value:function(){}},{key:"onEmitterAdded",value:function(){}},{key:"onEmitterRemoved",value:function(){}},{key:"onParticleCreated",value:function(){}},{key:"onParticleUpdate",value:function(){}},{key:"onParticleDead",value:function(){}}]),Dr);function Dr(o,d){u(this,Dr),this.pool=new Ie,this.element=o,this.stroke=d,this.circleConf={isCircle:!0},this.initHandler(),this.name="BaseRenderer"}var Ho=(C(Vn,At),c(Vn,[{key:"resize",value:function(o,d){this.element.width=o,this.element.height=d}},{key:"onProtonUpdate",value:function(){this.context.clearRect(0,0,this.element.width,this.element.height)}},{key:"onParticleCreated",value:function(o){o.body?J(o.body,this.addImg2Body,o):o.color=o.color||"#ff0000"}},{key:"onParticleUpdate",value:function(o){o.body?o.body instanceof Image&&this.drawImage(o):this.drawCircle(o)}},{key:"onParticleDead",value:function(o){o.body=null}},{key:"addImg2Body",value:function(o,d){d.body=o}},{key:"drawImage",value:function(o){var d,y=o.body.width*o.scale|0,k=o.body.height*o.scale|0,R=o.p.x-y/2,Y=o.p.y-k/2;o.color?(o.data.buffer||(o.data.buffer=this.createBuffer(o.body)),(d=o.data.buffer.getContext("2d")).clearRect(0,0,o.data.buffer.width,o.data.buffer.height),d.globalAlpha=o.alpha,d.drawImage(o.body,0,0),d.globalCompositeOperation="source-atop",d.fillStyle=H.rgbToHex(o.rgb),d.fillRect(0,0,o.data.buffer.width,o.data.buffer.height),d.globalCompositeOperation="source-over",d.globalAlpha=1,this.context.drawImage(o.data.buffer,0,0,o.data.buffer.width,o.data.buffer.height,R,Y,y,k)):(this.context.save(),this.context.globalAlpha=o.alpha,this.context.translate(o.p.x,o.p.y),this.context.rotate(i.degreeTransform(o.rotation)),this.context.translate(-o.p.x,-o.p.y),this.context.drawImage(o.body,0,0,o.body.width,o.body.height,R,Y,y,k),this.context.globalAlpha=1,this.context.restore())}},{key:"drawCircle",value:function(o){o.rgb?this.context.fillStyle="rgba("+o.rgb.r+","+o.rgb.g+","+o.rgb.b+","+o.alpha+")":this.context.fillStyle=o.color,this.context.beginPath(),this.context.arc(o.p.x,o.p.y,o.radius,0,2*Math.PI,!0),this.stroke&&(this.context.strokeStyle=this.stroke.color,this.context.lineWidth=this.stroke.thinkness,this.context.stroke()),this.context.closePath(),this.context.fill()}},{key:"createBuffer",value:function(o){if(o instanceof Image){var d=o.width+"_"+o.height,y=this.bufferCache[d];return y||((y=document.createElement("canvas")).width=o.width,y.height=o.height,this.bufferCache[d]=y),y}}}]),Vn);function Vn(o){return u(this,Vn),o=S(this,(Vn.__proto__||Object.getPrototypeOf(Vn)).call(this,o)),o.stroke=null,o.context=o.element.getContext("2d"),o.bufferCache={},o.name="CanvasRenderer",o}var qo=(C(ar,At),c(ar,[{key:"onParticleCreated",value:function(o){o.body?J(o.body,this.addImg2Body,o):(o.body=this.pool.get(this.circleConf,o),this.element.appendChild(o.body))}},{key:"onParticleUpdate",value:function(o){this.bodyReady(o)&&(this.transform3d?b.transform3d(o.body,o.p.x,o.p.y,o.scale,o.rotation):b.transform(o.body,o.p.x,o.p.y,o.scale,o.rotation),o.body.style.opacity=o.alpha,o.body.isCircle&&(o.body.style.backgroundColor=o.color||"#ff0000"))}},{key:"onParticleDead",value:function(o){this.bodyReady(o)&&(this.element.removeChild(o.body),this.pool.expire(o.body),o.body=null)}},{key:"bodyReady",value:function(o){return a(o.body)==="object"&&o.body&&!o.body.isInner}},{key:"addImg2Body",value:function(o,d){d.dead||(d.body=this.pool.get(o,d),b.resize(d.body,o.width,o.height),this.element.appendChild(d.body))}},{key:"createBody",value:function(o,d){return o.isCircle?this.createCircle(d):this.createSprite(o,d)}},{key:"createCircle",value:function(o){var d=b.createDiv(o.id+"_dom",2*o.radius,2*o.radius);return d.style.borderRadius=o.radius+"px",this.stroke&&(d.style.borderColor=this.stroke.color,d.style.borderWidth=this.stroke.thinkness+"px"),d.isCircle=!0,d}},{key:"createSprite",value:function(k,d){var y=typeof k=="string"?k:k.src,k=b.createDiv(d.id+"_dom",k.width,k.height);return k.style.backgroundImage="url("+y+")",k}}]),ar);function ar(o){u(this,ar);var d=S(this,(ar.__proto__||Object.getPrototypeOf(ar)).call(this,o));return d.stroke=null,d.pool.create=function(y,k){return d.createBody(y,k)},d.addImg2Body=d.addImg2Body.bind(d),d.transform3d=!1,d.name="DomRenderer",d}var xa=(C(dn,At),c(dn,[{key:"onParticleCreated",value:function(o){o.body?this.createSprite(o):this.createCircle(o),this.element.addChild(o.body)}},{key:"onParticleUpdate",value:function(o){o.body&&(o.body.x=o.p.x,o.body.y=o.p.y,o.body.alpha=o.alpha,o.body.scaleX=o.body.scaleY=o.scale,o.body.rotation=o.rotation)}},{key:"onParticleDead",value:function(o){o.body&&(o.body.parent&&o.body.parent.removeChild(o.body),this.pool.expire(o.body),o.body=null),o.graphics&&this.pool.expire(o.graphics)}},{key:"createSprite",value:function(o){o.body=this.pool.get(o.body),o.body.parent||o.body.image&&(o.body.regX=o.body.image.width/2,o.body.regY=o.body.image.height/2)}},{key:"createCircle",value:function(o){var d=this.pool.get(createjs.Graphics);this.stroke&&(this.stroke instanceof String?d.beginStroke(this.stroke):d.beginStroke("#000000")),d.beginFill(o.color||"#ff0000").drawCircle(0,0,o.radius);var y=this.pool.get(createjs.Shape,[d]);o.body=y,o.graphics=d}}]),dn);function dn(o,d){return u(this,dn),o=S(this,(dn.__proto__||Object.getPrototypeOf(dn)).call(this,o)),o.stroke=d,o.name="EaselRenderer",o}var ue=(C(jn,At),c(jn,[{key:"resize",value:function(o,d){this.element.width=o,this.element.height=d}},{key:"createImageData",value:function(o){this.rectangle=o||new Or(0,0,this.element.width,this.element.height),this.imageData=this.context.createImageData(this.rectangle.width,this.rectangle.height),this.context.putImageData(this.imageData,this.rectangle.x,this.rectangle.y)}},{key:"onProtonUpdate",value:function(){this.context.clearRect(this.rectangle.x,this.rectangle.y,this.rectangle.width,this.rectangle.height),this.imageData=this.context.getImageData(this.rectangle.x,this.rectangle.y,this.rectangle.width,this.rectangle.height)}},{key:"onProtonUpdateAfter",value:function(){this.context.putImageData(this.imageData,this.rectangle.x,this.rectangle.y)}},{key:"onParticleCreated",value:function(){}},{key:"onParticleUpdate",value:function(o){this.imageData&&this.setPixel(this.imageData,Math.floor(o.p.x-this.rectangle.x),Math.floor(o.p.y-this.rectangle.y),o)}},{key:"setPixel",value:function(o,d,y,k){var R=k.rgb;d<0||d>this.element.width||y<0||y>this.elementwidth||(d=4*((y>>0)*o.width+(d>>0)),o.data[d]=R.r,o.data[1+d]=R.g,o.data[2+d]=R.b,o.data[3+d]=255*k.alpha)}},{key:"onParticleDead",value:function(){}}]),jn);function jn(o,d){return u(this,jn),o=S(this,(jn.__proto__||Object.getPrototypeOf(jn)).call(this,o)),o.context=o.element.getContext("2d"),o.imageData=null,o.rectangle=null,o.rectangle=d,o.createImageData(d),o.name="PixelRenderer",o}var ur=void 0,ei=(C(oe,At),c(oe,[{key:"setPIXI",value:function(o){try{ur=o||{Sprite:{}},this.createFromImage=ur.Sprite.from||ur.Sprite.fromImage}catch{}}},{key:"onProtonUpdate",value:function(){}},{key:"onParticleCreated",value:function(o){o.body?o.body=this.pool.get(o.body,o):o.body=this.pool.get(this.circleConf,o),this.blendMode&&(o.body.blendMode=this.blendMode),this.element.addChild(o.body)}},{key:"onParticleUpdate",value:function(o){this.transform(o,o.body),this.setColor!==!0&&this.color!==!0||(o.body.tint=H.getHex16FromParticle(o))}},{key:"onParticleDead",value:function(o){this.element.removeChild(o.body),this.pool.expire(o.body),o.body=null}},{key:"destroy",value:function(o){m(oe.prototype.__proto__||Object.getPrototypeOf(oe.prototype),"destroy",this).call(this),this.pool.destroy();for(var d=o.length;d--;){var y=o[d];y.body&&this.element.removeChild(y.body)}}},{key:"transform",value:function(o,d){d.x=o.p.x,d.y=o.p.y,d.alpha=o.alpha,d.scale.x=o.scale,d.scale.y=o.scale,d.rotation=o.rotation*i.PI_180}},{key:"createBody",value:function(o,d){return o.isCircle?this.createCircle(d):this.createSprite(o)}},{key:"createSprite",value:function(o){return o=o.isInner?this.createFromImage(o.src):new ur.Sprite(o),o.anchor.x=.5,o.anchor.y=.5,o}},{key:"createCircle",value:function(o){var d,y=new ur.Graphics;return this.stroke&&(d=this.stroke instanceof String?this.stroke:0,y.beginStroke(d)),y.beginFill(o.color||36077),y.drawCircle(0,0,o.radius),y.endFill(),y}}]),oe);function oe(o,d){u(this,oe);var y=S(this,(oe.__proto__||Object.getPrototypeOf(oe)).call(this,o));return y.stroke=d,y.color=!1,y.setColor=!1,y.blendMode=null,y.pool.create=function(k,R){return y.createBody(k,R)},y.setPIXI(window.PIXI),y.name="PixiRenderer",y}var me=(c(pn,[{key:"set",value:function(o,d){d===0?be.set(o,this.mats[0]):be.multiply(this.mats[d-1],o,this.mats[d]),this.size=Math.max(this.size,d+1)}},{key:"push",value:function(o){this.size===0?be.set(o,this.mats[0]):be.multiply(this.mats[this.size-1],o,this.mats[this.size]),this.size++}},{key:"pop",value:function(){0<this.size&&this.size--}},{key:"top",value:function(){return this.mats[this.size-1]}}]),pn);function pn(){u(this,pn),this.mats=[];for(var o=this.size=0;o<20;o++)this.mats.push(be.create([0,0,0,0,0,0,0,0,0]))}C(xe,At),c(xe,[{key:"init",value:function(o){m(xe.prototype.__proto__||Object.getPrototypeOf(xe.prototype),"init",this).call(this,o),this.resize(this.element.width,this.element.height)}},{key:"resize",value:function(o,d){this.umat[4]=-2,this.umat[7]=1,this.smat[0]=1/o,this.smat[4]=1/d,this.mstack.set(this.umat,0),this.mstack.set(this.smat,1),this.gl.viewport(0,0,o,d),this.element.width=o,this.element.height=d}},{key:"setMaxRadius",value:function(o){this.circleCanvasURL=this.createCircle(o)}},{key:"getVertexShader",value:function(){return["uniform vec2 viewport;","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 tMat;","varying vec2 vTextureCoord;","varying float alpha;","void main() {","vec3 v = tMat * vec3(aVertexPosition, 1.0);","gl_Position = vec4(v.x, v.y, 0, 1);","vTextureCoord = aTextureCoord;","alpha = tMat[0][2];","}"].join(`
`)}},{key:"getFragmentShader",value:function(){return["precision mediump float;","varying vec2 vTextureCoord;","varying float alpha;","uniform sampler2D uSampler;","uniform vec4 color;","uniform bool useTexture;","uniform vec3 uColor;","void main() {","vec4 textureColor = texture2D(uSampler, vTextureCoord);","gl_FragColor = textureColor * vec4(uColor, 1.0);","gl_FragColor.w *= alpha;","}"].join(`
`)}},{key:"initVar",value:function(){this.mstack=new me,this.umat=be.create([2,0,1,0,-2,0,-1,1,1]),this.smat=be.create([.01,0,1,0,.01,0,0,0,1]),this.texturebuffers={}}},{key:"blendEquation",value:function(o){this.gl.blendEquation(this.gl[o])}},{key:"blendFunc",value:function(o,d){this.gl.blendFunc(this.gl[o],this.gl[d])}},{key:"getShader",value:function(o,d,y){return y=y?o.createShader(o.FRAGMENT_SHADER):o.createShader(o.VERTEX_SHADER),o.shaderSource(y,d),o.compileShader(y),o.getShaderParameter(y,o.COMPILE_STATUS)?y:(alert(o.getShaderInfoLog(y)),null)}},{key:"initShaders",value:function(){var o=this.getShader(this.gl,this.getFragmentShader(),!0),d=this.getShader(this.gl,this.getVertexShader(),!1);this.sprogram=this.gl.createProgram(),this.gl.attachShader(this.sprogram,d),this.gl.attachShader(this.sprogram,o),this.gl.linkProgram(this.sprogram),this.gl.getProgramParameter(this.sprogram,this.gl.LINK_STATUS)||alert("Could not initialise shaders"),this.gl.useProgram(this.sprogram),this.sprogram.vpa=this.gl.getAttribLocation(this.sprogram,"aVertexPosition"),this.sprogram.tca=this.gl.getAttribLocation(this.sprogram,"aTextureCoord"),this.gl.enableVertexAttribArray(this.sprogram.tca),this.gl.enableVertexAttribArray(this.sprogram.vpa),this.sprogram.tMatUniform=this.gl.getUniformLocation(this.sprogram,"tMat"),this.sprogram.samplerUniform=this.gl.getUniformLocation(this.sprogram,"uSampler"),this.sprogram.useTex=this.gl.getUniformLocation(this.sprogram,"useTexture"),this.sprogram.color=this.gl.getUniformLocation(this.sprogram,"uColor"),this.gl.uniform1i(this.sprogram.useTex,1)}},{key:"initBuffers",value:function(){var o;this.unitIBuffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.unitIBuffer),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,3,1,0,2,3]),this.gl.STATIC_DRAW);for(var y=void 0,d=[],y=0;y<100;y++)d.push(y);for(o=new Uint16Array(d),this.unitI33=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.unitI33),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,o,this.gl.STATIC_DRAW),d=[],y=0;y<100;y++)d.push(y,y+1,y+2);o=new Uint16Array(d),this.stripBuffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.stripBuffer),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,o,this.gl.STATIC_DRAW)}},{key:"createCircle",value:function(y){this.circleCanvasRadius=w(V.initValue(y,32));var d=b.createCanvas("circle_canvas",2*this.circleCanvasRadius,2*this.circleCanvasRadius),y=d.getContext("2d");return y.beginPath(),y.arc(this.circleCanvasRadius,this.circleCanvasRadius,this.circleCanvasRadius,0,2*Math.PI,!0),y.closePath(),y.fillStyle="#FFF",y.fill(),d.toDataURL()}},{key:"drawImg2Canvas",value:function(o){var d=o.body.width,y=o.body.height,k=w(o.body.width),R=w(o.body.height),Y=o.body.width/k,Ve=o.body.height/R;this.texturebuffers[o.data.src]||(this.texturebuffers[o.data.src]=[this.gl.createTexture(),this.gl.createBuffer(),this.gl.createBuffer()]),o.data.texture=this.texturebuffers[o.data.src][0],o.data.vcBuffer=this.texturebuffers[o.data.src][1],o.data.tcBuffer=this.texturebuffers[o.data.src][2],this.gl.bindBuffer(this.gl.ARRAY_BUFFER,o.data.tcBuffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array([0,0,Y,0,0,Ve,Ve,Ve]),this.gl.STATIC_DRAW),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,o.data.vcBuffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array([0,0,d,0,0,y,d,y]),this.gl.STATIC_DRAW),R=o.data.canvas.getContext("2d").getImageData(0,0,k,R),this.gl.bindTexture(this.gl.TEXTURE_2D,o.data.texture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,R),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR_MIPMAP_NEAREST),this.gl.generateMipmap(this.gl.TEXTURE_2D),o.data.textureLoaded=!0,o.data.textureWidth=d,o.data.textureHeight=y}},{key:"onProtonUpdate",value:function(){}},{key:"onParticleCreated",value:function(o){o.data.textureLoaded=!1,o.data.tmat=be.create(),o.data.tmat[8]=1,o.data.imat=be.create(),o.data.imat[8]=1,o.body?J(o.body,this.addImg2Body,o):(J(this.circleCanvasURL,this.addImg2Body,o),o.data.oldScale=o.radius/this.circleCanvasRadius)}},{key:"addImg2Body",value:function(o,d){d.dead||(d.body=o,d.data.src=o.src,d.data.canvas=$(o),d.data.oldScale=1,this.drawImg2Canvas(d))}},{key:"onParticleUpdate",value:function(o){o.data.textureLoaded&&(this.updateMatrix(o),this.gl.uniform3f(this.sprogram.color,o.rgb.r/255,o.rgb.g/255,o.rgb.b/255),this.gl.uniformMatrix3fv(this.sprogram.tMatUniform,!1,this.mstack.top()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,o.data.vcBuffer),this.gl.vertexAttribPointer(this.sprogram.vpa,2,this.gl.FLOAT,!1,0,0),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,o.data.tcBuffer),this.gl.vertexAttribPointer(this.sprogram.tca,2,this.gl.FLOAT,!1,0,0),this.gl.bindTexture(this.gl.TEXTURE_2D,o.data.texture),this.gl.uniform1i(this.sprogram.samplerUniform,0),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.unitIBuffer),this.gl.drawElements(this.gl.TRIANGLES,6,this.gl.UNSIGNED_SHORT,0),this.mstack.pop())}},{key:"onParticleDead",value:function(){}},{key:"updateMatrix",value:function(o){var d=E(-o.data.textureWidth/2,-o.data.textureHeight/2),y=E(o.p.x,o.p.y),R=o.rotation*i.PI_180,k=O(R),R=o.scale*o.data.oldScale,R=q(R,R),R=T(d,R),R=T(R,k);R=T(R,y),be.inverse(R,o.data.imat),R[2]=o.alpha,this.mstack.push(R)}}]),Pt=xe;function xe(o){return u(this,xe),o=S(this,(xe.__proto__||Object.getPrototypeOf(xe)).call(this,o)),o.gl=o.element.getContext("experimental-webgl",{antialias:!0,stencil:!1,depth:!1}),o.gl||alert("Sorry your browser do not suppest WebGL!"),o.initVar(),o.setMaxRadius(),o.initShaders(),o.initBuffers(),o.gl.blendEquation(o.gl.FUNC_ADD),o.gl.blendFunc(o.gl.SRC_ALPHA,o.gl.ONE_MINUS_SRC_ALPHA),o.gl.enable(o.gl.BLEND),o.addImg2Body=o.addImg2Body.bind(o),o.name="WebGLRenderer",o}C(Bn,At),At=Bn;function Bn(o){return u(this,Bn),o=S(this,(Bn.__proto__||Object.getPrototypeOf(Bn)).call(this,o)),o.name="CustomRenderer",o}var vn=(C(Hn,A),c(Hn,[{key:"getPosition",value:function(){return this.random=Math.random(),this.vector.x=this.x1+this.random*this.length*Math.cos(this.gradient),this.vector.y=this.y1+this.random*this.length*Math.sin(this.gradient),this.vector}},{key:"getDirection",value:function(o,d){var y=this.dy,k=-this.dx;return 0<(y*o+k*d+this.dot)*(k==0?1:k)}},{key:"getDistance",value:function(o,d){return(this.dy*o+-this.dx*d+this.dot)/Math.sqrt(this.xxyy)}},{key:"getSymmetric",value:function(o){var k=o.getGradient(),d=2*(this.getGradient()-k),y=o.x,k=o.y;return o.x=y*Math.cos(d)-k*Math.sin(d),o.y=y*Math.sin(d)+k*Math.cos(d),o}},{key:"getGradient",value:function(){return Math.atan2(this.dy,this.dx)}},{key:"rangeOut",value:function(o){if(Math.abs(this.getGradient())<=i.PI/4){if(o.p.x<=this.maxx&&o.p.x>=this.minx)return!0}else if(o.p.y<=this.maxy&&o.p.y>=this.miny)return!0;return!1}},{key:"getLength",value:function(){return Math.sqrt(this.dx*this.dx+this.dy*this.dy)}},{key:"crossing",value:function(o){this.crossType==="dead"?this.direction===">"||this.direction==="R"||this.direction==="right"||this.direction==="down"?this.rangeOut(o)&&this.getDirection(o.p.x,o.p.y)&&(o.dead=!0):this.rangeOut(o)&&(this.getDirection(o.p.x,o.p.y)||(o.dead=!0)):this.crossType==="bound"?this.rangeOut(o)&&this.getDistance(o.p.x,o.p.y)<=o.radius&&(this.dx===0?o.v.x*=-1:this.dy===0?o.v.y*=-1:this.getSymmetric(o.v)):this.crossType==="cross"&&this.alert&&(console.error("Sorry, LineZone does not support cross method!"),this.alert=!1)}}]),Hn);function Hn(o,d,y,k,R){u(this,Hn);var Y=S(this,(Hn.__proto__||Object.getPrototypeOf(Hn)).call(this));return 0<=y-o?(Y.x1=o,Y.y1=d,Y.x2=y,Y.y2=k):(Y.x1=y,Y.y1=k,Y.x2=o,Y.y2=d),Y.dx=Y.x2-Y.x1,Y.dy=Y.y2-Y.y1,Y.minx=Math.min(Y.x1,Y.x2),Y.miny=Math.min(Y.y1,Y.y2),Y.maxx=Math.max(Y.x1,Y.x2),Y.maxy=Math.max(Y.y1,Y.y2),Y.dot=Y.x2*Y.y1-Y.x1*Y.y2,Y.xxyy=Y.dx*Y.dx+Y.dy*Y.dy,Y.gradient=Y.getGradient(),Y.length=Y.getLength(),Y.direction=V.initValue(R,">"),Y}var Wo=(C(lr,A),c(lr,[{key:"getPosition",value:function(){return this.angle=i.PIx2*Math.random(),this.randomRadius=Math.random()*this.radius,this.vector.x=this.x+this.randomRadius*Math.cos(this.angle),this.vector.y=this.y+this.randomRadius*Math.sin(this.angle),this.vector}},{key:"setCenter",value:function(o,d){this.center.x=o,this.center.y=d}},{key:"crossing",value:function(o){var d=o.p.distanceTo(this.center);this.crossType==="dead"?d-o.radius>this.radius&&(o.dead=!0):this.crossType==="bound"?d+o.radius>=this.radius&&this.getSymmetric(o):this.crossType==="cross"&&this.alert&&(console.error("Sorry, CircleZone does not support cross method!"),this.alert=!1)}},{key:"getSymmetric",value:function(o){var k=o.v.getGradient(),d=2*(this.getGradient(o)-k),y=o.v.x,k=o.v.y;o.v.x=y*Math.cos(d)-k*Math.sin(d),o.v.y=y*Math.sin(d)+k*Math.cos(d)}},{key:"getGradient",value:function(o){return-i.PI_2+Math.atan2(o.p.y-this.center.y,o.p.x-this.center.x)}}]),lr);function lr(o,d,y){u(this,lr);var k=S(this,(lr.__proto__||Object.getPrototypeOf(lr)).call(this));return k.x=o,k.y=d,k.radius=y,k.angle=0,k.center={x:o,y:d},k}var Go=(C(cr,A),c(cr,[{key:"getPosition",value:function(){return this.vector.x=this.x+Math.random()*this.width,this.vector.y=this.y+Math.random()*this.height,this.vector}},{key:"crossing",value:function(o){this.crossType==="dead"?((o.p.x+o.radius<this.x||o.p.x-o.radius>this.x+this.width)&&(o.dead=!0),(o.p.y+o.radius<this.y||o.p.y-o.radius>this.y+this.height)&&(o.dead=!0)):this.crossType==="bound"?(o.p.x-o.radius<this.x?(o.p.x=this.x+o.radius,o.v.x*=-1):o.p.x+o.radius>this.x+this.width&&(o.p.x=this.x+this.width-o.radius,o.v.x*=-1),o.p.y-o.radius<this.y?(o.p.y=this.y+o.radius,o.v.y*=-1):o.p.y+o.radius>this.y+this.height&&(o.p.y=this.y+this.height-o.radius,o.v.y*=-1)):this.crossType==="cross"&&(o.p.x+o.radius<this.x&&o.v.x<=0?o.p.x=this.x+this.width+o.radius:o.p.x-o.radius>this.x+this.width&&0<=o.v.x&&(o.p.x=this.x-o.radius),o.p.y+o.radius<this.y&&o.v.y<=0?o.p.y=this.y+this.height+o.radius:o.p.y-o.radius>this.y+this.height&&0<=o.v.y&&(o.p.y=this.y-o.radius))}}]),cr);function cr(o,d,y,k){u(this,cr);var R=S(this,(cr.__proto__||Object.getPrototypeOf(cr)).call(this));return R.x=o,R.y=d,R.width=y,R.height=k,R}C(hr,A),c(hr,[{key:"reset",value:function(o,d,y,k){this.imageData=o,this.x=V.initValue(d,0),this.y=V.initValue(y,0),this.d=V.initValue(k,2),this.vectors=[],this.setVectors()}},{key:"setVectors",value:function(){for(var k=void 0,o=void 0,d=this.imageData.width,y=this.imageData.height,k=0;k<d;k+=this.d)for(o=0;o<y;o+=this.d){var R=4*((o>>0)*d+(k>>0));0<this.imageData.data[3+R]&&this.vectors.push({x:k+this.x,y:o+this.y})}return this.vector}},{key:"getBound",value:function(o,d){return o=4*((d>>0)*this.imageData.width+(o>>0)),0<this.imageData.data[3+o]}},{key:"getPosition",value:function(){var o=V.getRandFromArray(this.vectors);return this.vector.copy(o)}},{key:"getColor",value:function(o,d){return o-=this.x,o=4*(((d-=this.y)>>0)*this.imageData.width+(o>>0)),{r:this.imageData.data[o],g:this.imageData.data[1+o],b:this.imageData.data[2+o],a:this.imageData.data[3+o]}}},{key:"crossing",value:function(o){this.crossType==="dead"?this.getBound(o.p.x-this.x,o.p.y-this.y)?o.dead=!0:o.dead=!1:this.crossType==="bound"&&(this.getBound(o.p.x-this.x,o.p.y-this.y)||o.v.negate())}}]),C=hr;function hr(o,d,y,k){u(this,hr);var R=S(this,(hr.__proto__||Object.getPrototypeOf(hr)).call(this));return R.reset(o,d,y,k),R}return c={addEventListener:function(o,d){o.addEventListener("PROTON_UPDATE_AFTER",function(){return d()})},getStyle:function(o){return o=H.hexToRgb(0<arguments.length&&o!==void 0?o:"#ff0000"),"rgba("+o.r+", "+o.g+", "+o.b+", 0.5)"},drawZone:function(o,d,y,k){var R=d.getContext("2d"),Y=this.getStyle();this.addEventListener(o,function(){k&&R.clearRect(0,0,d.width,d.height),y instanceof Zr?(R.beginPath(),R.fillStyle=Y,R.arc(y.x,y.y,10,0,2*Math.PI,!0),R.fill(),R.closePath()):y instanceof vn?(R.beginPath(),R.strokeStyle=Y,R.moveTo(y.x1,y.y1),R.lineTo(y.x2,y.y2),R.stroke(),R.closePath()):y instanceof Go?(R.beginPath(),R.strokeStyle=Y,R.drawRect(y.x,y.y,y.width,y.height),R.stroke(),R.closePath()):y instanceof Wo&&(R.beginPath(),R.strokeStyle=Y,R.arc(y.x,y.y,y.radius,0,2*Math.PI,!0),R.stroke(),R.closePath())})},drawEmitter:function(o,d,y,k){var R=d.getContext("2d"),Y=this.getStyle();this.addEventListener(o,function(){k&&R.clearRect(0,0,d.width,d.height),R.beginPath(),R.fillStyle=Y,R.arc(y.p.x,y.p.y,10,0,2*Math.PI,!0),R.fill(),R.closePath()})}},U.Particle=B,U.Pool=Ie,U.Util=V,U.ColorUtil=H,U.MathUtil=i,U.Vector2D=U.Vector=p,U.Polar2D=U.Polar=ee,U.ArraySpan=mt,U.Rectangle=Or,U.Rate=Ni,U.ease=h,U.Span=M,U.Mat3=be,U.getSpan=function(o,d,y){return new M(o,d,y)},U.createArraySpan=mt.createArraySpan,U.Initialize=U.Init=Sn,U.Life=U.L=pa,U.Position=U.P=Fi,U.Velocity=U.V=Fo,U.Mass=U.M=va,U.Radius=U.R=ya,U.Body=U.B=ga,U.Behaviour=_t,U.Force=U.F=Lo,U.Attraction=U.A=Li,U.RandomDrift=U.RD=re,U.Gravity=U.G=Ee,U.Collision=Uo,U.CrossZone=ma,U.Alpha=Vo,U.Scale=U.S=tt,U.Rotate=Ui,U.Color=An,U.Repulsion=ie,U.Cyclone=se,U.GravityWell=jo,U.Emitter=Jr,U.BehaviourEmitter=Qe,U.FollowEmitter=wa,U.Zone=A,U.LineZone=vn,U.CircleZone=Wo,U.PointZone=Zr,U.RectZone=Go,U.ImageZone=C,U.CanvasRenderer=Ho,U.DomRenderer=qo,U.EaselRenderer=xa,U.PixiRenderer=ei,U.PixelRenderer=ue,U.WebGLRenderer=U.WebGlRenderer=Pt,U.CustomRenderer=At,U.Debug=c,V.assign(U,h),U})})(Qd);var uy=Qd.exports;const I=Bo(uy);var Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zt=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Ft=function(){function e(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),Zt=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},Jt=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},ly=function(){function e(){zt(this,e),this.list=[]}return Ft(e,[{key:"set",value:function(r,i){this.list.push({probability:r,target:i,a:0,b:1}),this.calculation()}},{key:"calculation",value:function(){for(var r=0,i=0;i<this.list.length;i++)r+=this.list[i].probability;for(var a=0;a<this.list.length;a++){var u=this.list[a],c=u.probability/r;u.a=a===0?0:this.list[a-1].b,u.b=u.a+c}}},{key:"getResult",value:function(){for(var r=Math.random(),i=0;i<this.list.length;i++){var a=this.list[i];if(r<=a.b&&r>a.a)return a.target}return this.list[0].target}}]),e}(),En=function(e){Zt(t,e);function t(r){zt(this,t);var i=Jt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r));return i._iid=0,i._oid=0,i.size={width:0,height:0},i.canvasRef=pe.createRef(),i}return Ft(t,[{key:"componentDidMount",value:function(){var i=this;this._oid=setTimeout(function(){i.initCanvas(),i.resize=i.resize.bind(i),window.addEventListener("resize",i.resize)},100);var a=this.getCanvas();this.props.onCanvasDidMount&&this.props.onCanvasDidMount(a)}},{key:"initCanvas",value:function(){var i=this.getCanvas();if(this.props.globalCompositeOperation){var a=i.getContext("2d");a.globalCompositeOperation=this.props.globalCompositeOperation}var u=this.setCanvasSize(i),c=u.width,g=u.height;this.heartbeatDetectionCanvasSize(i),this.props.onCanvasInited(i,c,g)}},{key:"getCanvas",value:function(){var i=this.canvasRef.current;return i}},{key:"heartbeatDetectionCanvasSize",value:function(i){var a=this;this._iid=setInterval(function(){if(a.canvasRef.current){var u=a.canvasRef.current.clientHeight;if(u!==a.size.height){var c=a.setCanvasSize(i),g=c.width,m=c.height;a.props.onResize&&a.props.onResize(g,m)}}},1e3/10)}},{key:"componentWillUnmount",value:function(){try{window.removeEventListener("resize",this.resize),clearInterval(this._iid),clearTimeout(this._oid)}catch{}}},{key:"resize",value:function(){var i=this.getCanvas(),a=this.setCanvasSize(i),u=a.width,c=a.height;this.props.onResize&&this.props.onResize(u,c)}},{key:"setCanvasSize",value:function(i){var a=this.canvasRef.current.clientWidth,u=this.canvasRef.current.clientHeight;return this.size.width=a,this.size.height=u,i.width=a,i.height=u,{width:a,height:u}}},{key:"handleWaypointEnter",value:function(){Ue.start()}},{key:"handleWaypointLeave",value:function(){Ue.stop()}},{key:"getStyle",value:function(){var i=this.props.bg,a={width:"100%",height:"100%"};return i===!0?a=Object.assign(a,{position:"absolute",zIndex:-1,top:0,left:0}):i&&(typeof i>"u"?"undefined":Kd(i))==="object"&&(a=Object.assign(a,i)),a}},{key:"handleMouseDown",value:function(i){this.props.onMouseDown&&this.props.onMouseDown(i)}},{key:"render",value:function(){return pe.createElement("canvas",{className:"particles-bg-canvas-self",ref:this.canvasRef,onMouseDown:this.handleMouseDown.bind(this),style:this.getStyle()})}}]),t}(pe.Component);function cy(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:{}}function da(e,t){var r=void 0;return e?(r=cy(e),"rgba("+r.r+","+r.g+","+r.b+", "+t+")"):null}var gh=function(e){Zt(t,e);function t(r){zt(this,t);var i=Jt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r));return i.renderProton=i.renderProton.bind(i),i}return Ft(t,[{key:"onCanvasInited",value:function(i,a,u){this.createProton(i,a,u),this.createMiniEmitter(i),Ue.add(this.renderProton)}},{key:"componentWillUnmount",value:function(){try{Ue.remove(this.renderProton),this.proton.destroy()}catch{}}},{key:"onResize",value:function(){}},{key:"createProton",value:function(i,a,u){var c=this,g=i.getContext("2d");this.proton=new I;var m=new I.Emitter;m.rate=new I.Rate(this.props.num?new I.Span(this.props.num):new I.Span(4,9),new I.Span(.8,1.3)),m.addInitialize(new I.Mass(1)),m.addInitialize(new I.Radius(1,50)),m.addInitialize(new I.Life(5,6)),m.addInitialize(new I.Velocity(new I.Span(5,8),new I.Span(30,70),"polar")),m.addBehaviour(new I.Alpha(1,0)),m.addBehaviour(new I.Color(["#36aaf3","#fd769c","#94ff22","#ffa545","#ffffff"])),m.addBehaviour(new I.Scale(.7,1)),m.addBehaviour(new I.Gravity(3)),m.addBehaviour(new I.Collision(m)),m.addBehaviour(this.customDeadBehaviour(i)),m.addBehaviour(new I.CrossZone(new I.RectZone(0,0,i.width,i.height),"bound")),m.p.x=Math.min(500,Math.max(i.width/2-400,50)),m.p.y=i.height/2+50,m.emit(),this.proton.addEmitter(m);var C=new I.CanvasRenderer(i);C.onProtonUpdate=function(){g.fillStyle=da(c.props.color,.2)||"rgba(255, 255, 255, 0.2)",g.fillRect(0,0,i.width,i.height)},this.proton.addRenderer(C)}},{key:"customDeadBehaviour",value:function(i){var a=this;return{initialize:function(c){},applyBehaviour:function(c){c.p.y+c.radius>=i.height&&c.radius>9&&(a.miniEmitteing(c),c.dead=!0)}}}},{key:"createMiniEmitter",value:function(i){var a=new I.Emitter;a.rate=new I.Rate(new I.Span(3,6),new I.Span(1,2)),a.addInitialize(new I.Mass(1)),a.radiusInitialize=new I.Radius,a.addInitialize(a.radiusInitialize),a.addInitialize(new I.Life(.5,1)),a.addInitialize(new I.V(new I.Span(1.5,3),new I.Span(0,70,!0),"polar")),a.colorBehaviour=new I.Color("#ffffff"),a.addBehaviour(new I.Alpha(1,0)),a.addBehaviour(a.colorBehaviour),a.addBehaviour(new I.Gravity(4)),a.addBehaviour(new I.Collision(a)),a.addBehaviour(new I.CrossZone(new I.RectZone(0,0,i.width,i.height),"bound")),this.proton.addEmitter(a),this.miniEmitter=a}},{key:"miniEmitteing",value:function(i){var a=this.miniEmitter;a.radiusInitialize.reset(i.radius*.05,i.radius*.2),a.colorBehaviour.reset(i.color),a.p.x=i.p.x,a.p.y=i.p.y,a.emit("once")}},{key:"renderProton",value:function(){this.proton&&this.proton.update()}},{key:"render",value:function(){return pe.createElement(En,{bg:this.props.bg,globalCompositeOperation:"darker",onCanvasInited:this.onCanvasInited.bind(this),onResize:this.onResize.bind(this)})}}]),t}(pe.Component),eu=function(e){Zt(t,e);function t(r){zt(this,t);var i=Jt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r));return i.colors=["#529B88","#CDD180","#FFFA32","#FB6255","#FB4A53","#FF4E50","#F9D423"],i.renderProton=i.renderProton.bind(i),i}return Ft(t,[{key:"componentWillUnmount",value:function(){try{Ue.remove(this.renderProton),this.proton.destroy()}catch{}}},{key:"onCanvasInited",value:function(i,a,u){this.createProton(i,a,u),Ue.add(this.renderProton)}},{key:"onResize",value:function(){}},{key:"createProton",value:function(i,a,u){this.proton=new I;var c=new I.Emitter;c.rate=new I.Rate(this.props.num?new I.Span(this.props.num):new I.Span(5,8),new I.Span(.1,.25)),c.addInitialize(new I.Mass(1)),c.addInitialize(new I.Radius(20,200)),c.addInitialize(new I.Life(2,4)),c.addInitialize(new I.Position(new I.RectZone(0,0,a,u))),c.addBehaviour(new I.Alpha(0,1,1/0,I.easeOutCubic)),c.addBehaviour(new I.Scale(1,0,1/0,I.easeOutCubic)),c.addBehaviour(new I.Color(this.colors,"random")),c.emit(),this.proton.addEmitter(c);var g=new I.CanvasRenderer(i);this.proton.addRenderer(g)}},{key:"renderProton",value:function(){this.proton&&this.proton.update()}},{key:"render",value:function(){return pe.createElement(En,{bg:this.props.bg,globalCompositeOperation:"darker",onCanvasInited:this.onCanvasInited.bind(this),onResize:this.onResize.bind(this)})}}]),t}(pe.Component),hy=function(e){Zt(t,e);function t(r){zt(this,t);var i=Jt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r));return i.colors=["#529B88","#CDD180","#FFFA32","#FB6255","#FB4A53","#FF4E50","#F9D423"],i.renderProton=i.renderProton.bind(i),i}return Ft(t,[{key:"componentWillUnmount",value:function(){try{Ue.remove(this.renderProton),this.proton.destroy()}catch{}}},{key:"onCanvasInited",value:function(i,a,u){this.createProton(i,a,u),Ue.add(this.renderProton)}},{key:"onResize",value:function(i,a){this.crossZoneBehaviour.zone.width=i,this.crossZoneBehaviour.zone.height=a,this.proton.renderers[0].resize(i,a)}},{key:"getProp",value:function(i,a){var u=this.props.config||{},c=u[i]||a;return Array.isArray(c)?new I.Span(c[0],c[1]):c}},{key:"getArrProp",value:function(i,a){var u=this.props.config||{},c=u[i]||a;return c?Array.isArray(c)?c:[c,c]:null}},{key:"createProton",value:function(i,a,u){var c=this.getProp("num",[5,8]),g=this.getProp("rps",[.1,.2]),m=this.getProp("mass",1),C=this.getProp("radius",[10,30]),S=this.getProp("life",[2,3]),M=this.getProp("body"),f=this.getProp("position"),w=this.getProp("v",[2,3]),E=this.getProp("tha",[-15,15]),O=this.getArrProp("alpha"),q=this.getArrProp("scale"),T=this.getArrProp("color"),b=this.getProp("cross","dead"),P=this.getProp("random"),F=this.getArrProp("rotate"),G=this.getProp("g"),Z=this.getArrProp("f"),J=this.getProp("emitter");this.proton=new I;var $=void 0;J==="follow"?$=new I.FollowEmitter:$=new I.Emitter,$.rate=new I.Rate(c,g),$.addInitialize(new I.Mass(m)),$.addInitialize(new I.Radius(C)),$.addInitialize(new I.Life(S)),$.addInitialize(new I.Velocity(w,E,"polar")),M&&$.addInitialize(new I.Body(M));var V=void 0;f==="all"||f==="screen"?V=new I.Position(new I.RectZone(0,0,i.width,i.height)):(typeof f>"u"?"undefined":Kd(f))==="object"?V=new I.Position(new I.RectZone(f.x,f.y,f.width,f.height)):($.p.x=i.width/2,$.p.y=i.height/2),$.addInitialize(V);var j=O?new I.Alpha(O[0],O[1]):new I.Alpha(0,1),fe=q?new I.Scale(q[0],q[1]):new I.Scale(1,.2),Ie=T?new I.Color(T[0],T[1]):new I.Color(this.colors);$.addBehaviour(j),$.addBehaviour(fe),M||$.addBehaviour(Ie),F&&(F[0]===!0||F[0]==="rotate"?$.addBehaviour(new I.Rotate):$.addBehaviour(new I.Rotate(F[0],F[1])));var qe=new I.RectZone(0,0,i.width,i.height),et=new I.CrossZone(qe,b);$.addBehaviour(et),P&&$.addBehaviour(new I.RandomDrift(P,P,.05)),G&&$.addBehaviour(new I.G(G)),Z&&$.addBehaviour(new I.F(Z[0],Z[1])),$.emit(),this.proton.addEmitter($);var ge=this.createRenderer(i);this.proton.addRenderer(ge),this.emitter=$,this.crossZoneBehaviour=et}},{key:"createRenderer",value:function(i){var a=i.width,u=i.height,c=i.getContext("2d"),g=new I.CanvasRenderer(i),m=this.getProp("onUpdate");m&&(g.onProtonUpdate=function(){m(c,a,u)});var C=this.getProp("onParticleCreated");C&&(g.onParticleCreated=function(M){C(c,M)});var S=this.getProp("onParticleUpdate");return S&&(g.onParticleUpdate=function(M){S(c,M)}),g}},{key:"renderProton",value:function(){this.proton&&this.proton.update()}},{key:"handleMouseDown",value:function(i){var a=this.getProp("onMouseDown");a&&a(i)}},{key:"render",value:function(){var i=this.props.globalCompositeOperation||this.props.operation||"source-over";return pe.createElement(En,{bg:this.props.bg,onMouseDown:this.handleMouseDown.bind(this),globalCompositeOperation:i,onCanvasInited:this.onCanvasInited.bind(this),onResize:this.onResize.bind(this)})}}]),t}(pe.Component),mh=function(e){Zt(t,e);function t(r){zt(this,t);var i=Jt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r));return i.renderProton=i.renderProton.bind(i),i}return Ft(t,[{key:"onCanvasDidMount",value:function(i){this.props.color&&(i.style.backgroundColor=this.props.color)}},{key:"componentWillUnmount",value:function(){try{Ue.remove(this.renderProton),this.proton.destroy()}catch{}}},{key:"onCanvasInited",value:function(i,a,u){this.createProton(i,a,u),Ue.add(this.renderProton)}},{key:"onResize",value:function(i,a){this.crossZoneBehaviour.zone.width=i,this.crossZoneBehaviour.zone.height=a,this.proton.renderers[0].resize(i,a)}},{key:"createProton",value:function(i,a,u){this.proton=new I;var c=new I.Emitter;c.damping=.008,c.rate=new I.Rate(this.props.num?this.props.num:250),c.addInitialize(new I.Mass(1)),c.addInitialize(new I.Radius(4)),c.addInitialize(new I.Velocity(new I.Span(1.5),new I.Span(0,360),"polar"));var g={x:a/2,y:u/2},m=new I.Attraction(g,0,0),C=new I.CrossZone(new I.RectZone(0,0,i.width,i.height),"cross");c.addBehaviour(new I.Color("random")),c.addBehaviour(m,C),c.addBehaviour(new I.RandomDrift(10,10,.05)),c.p.x=i.width/2,c.p.y=i.height/2,c.emit("once"),this.proton.addEmitter(c),this.proton.addRenderer(this.createRenderer(i)),this.crossZoneBehaviour=C}},{key:"createRenderer",value:function(i){var a=this,u=i.getContext("2d"),c=new I.CanvasRenderer(i);return c.onProtonUpdate=function(){u.fillStyle=da(a.props.color,.02)||"rgba(0, 0, 0, 0.02)",u.fillRect(0,0,i.width,i.height)},c.onParticleUpdate=function(g){u.beginPath(),u.strokeStyle=g.color,u.lineWidth=1,u.moveTo(g.old.p.x,g.old.p.y),u.lineTo(g.p.x,g.p.y),u.closePath(),u.stroke()},c}},{key:"renderProton",value:function(){this.proton&&this.proton.update()}},{key:"render",value:function(){return pe.createElement(En,{bg:this.props.bg,globalCompositeOperation:"darker",onCanvasDidMount:this.onCanvasDidMount.bind(this),onCanvasInited:this.onCanvasInited.bind(this),onResize:this.onResize.bind(this)})}}]),t}(pe.Component),_h=function(e){Zt(t,e);function t(r){zt(this,t);var i=Jt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r));return i.hue=0,i.index=0,i.colorTemplate="hsla(hue,80%,50%, 0.75)",i.renderProton=i.renderProton.bind(i),i}return Ft(t,[{key:"onCanvasDidMount",value:function(i){this.props.color&&(i.style.backgroundColor=this.props.color)}},{key:"onCanvasInited",value:function(i,a,u){this.canvas=i,this.createProton(i,a,u),Ue.add(this.renderProton)}},{key:"onResize",value:function(i,a){this.crossZoneBehaviour.zone.width=i,this.crossZoneBehaviour.zone.height=a,this.proton.renderers[0].resize(i,a)}},{key:"createProton",value:function(i,a,u){this.proton=new I;var c=new I.Emitter;c.damping=.008,c.rate=new I.Rate(this.props.num?this.props.num:150),c.addInitialize(new I.Mass(1)),c.addInitialize(new I.Radius(8)),c.addInitialize(new I.V(new I.Span(.1,.5),new I.Span(0,360),"polar")),c.addInitialize(new I.Position(new I.CircleZone(i.width/2,i.height/2,100)));var g=new I.CrossZone(new I.RectZone(0,0,i.width,i.height),"cross");c.addBehaviour(g),this.repulsion=new I.Repulsion({x:i.width/2,y:i.height/2-100},3,300),this.attraction=new I.Attraction({x:i.width/2,y:i.height/2},3,200),c.addBehaviour(this.attraction,this.repulsion),c.addBehaviour(new I.Color("random")),c.addBehaviour(new I.RandomDrift(20,15,.15)),c.emit("once"),this.proton.addEmitter(c),this.proton.addRenderer(this.createRenderer(i)),this.crossZoneBehaviour=g}},{key:"createRenderer",value:function(i){var a=this,u=i.getContext("2d"),c=new I.CanvasRenderer(i);return c.onProtonUpdate=function(){a.hue+=1,u.fillStyle=da(a.props.color,.02)||"rgba(0, 0, 0, 0.02)",u.fillRect(0,0,i.width,i.height)},c.onParticleCreated=function(g){g.data.begin=I.MathUtil.randomAToB(1,120),g.data.tha=I.MathUtil.randomAToB(0,Math.PI*2)},c.onParticleUpdate=function(g){var m=g.data.begin+a.hue;g.color=a.colorTemplate.replace("hue",m%360);var C=3/4,S=g.radius*(1-C)*Math.cos(g.data.tha+=.01)+g.radius*C;u.beginPath(),u.fillStyle=g.color,u.arc(g.p.x,g.p.y,S,0,Math.PI*2,!0),u.closePath(),u.fill()},c}},{key:"componentWillUnmount",value:function(){try{Ue.remove(this.renderProton),this.proton.destroy()}catch{}}},{key:"renderProton",value:function(){var i=this.canvas;this.proton.update(),this.index%200===0&&(this.attraction.targetPosition.x=Math.random()*i.width,this.attraction.targetPosition.y=Math.random()*i.height,this.repulsion.targetPosition.x=Math.random()*i.width,this.repulsion.targetPosition.y=Math.random()*i.height),this.index++}},{key:"render",value:function(){return pe.createElement(En,{bg:this.props.bg,onCanvasDidMount:this.onCanvasDidMount.bind(this),onCanvasInited:this.onCanvasInited.bind(this),onResize:this.onResize.bind(this)})}}]),t}(pe.Component),wh=function(e){Zt(t,e);function t(r){zt(this,t);var i=Jt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r));return i.colors=["#fad390","#81ecec","#ffffff","#badc58","#f9ca24","#FEA47F"],i.renderProton=i.renderProton.bind(i),i}return Ft(t,[{key:"componentWillUnmount",value:function(){try{Ue.remove(this.renderProton),this.proton.destroy()}catch{}}},{key:"onCanvasDidMount",value:function(i){}},{key:"onCanvasInited",value:function(i,a,u){this.createProton(i,a,u),Ue.add(this.renderProton)}},{key:"onResize",value:function(i,a){var u=150;this.crossZoneBehaviour.zone.width=i+2*u,this.crossZoneBehaviour.zone.height=a+2*u,this.proton.renderers[0].resize(i,a)}},{key:"createProton",value:function(i,a,u){this.proton=new I;var c=new I.Emitter;c.rate=new I.Rate(this.props.num?this.props.num:50),c.damping=0,c.addInitialize(new I.Mass(1)),c.addInitialize(new I.Radius(4,70)),c.addInitialize(new I.Velocity(new I.Span(2,10),new I.Span(0),"polar")),c.addInitialize(new I.Position(new I.LineZone(0,i.height,i.width,i.height)));var g=150,m=new I.CrossZone(new I.RectZone(0-g,0-g,i.width+2*g,i.height+2*g),"cross");c.addBehaviour(m),c.addBehaviour(new I.Alpha(I.getSpan(.1,.55))),c.addBehaviour(new I.Color(this.colors)),c.emit("once"),this.proton.addEmitter(c);var C=this.createRenderer(i);this.proton.addRenderer(C),this.crossZoneBehaviour=m,c.preEmit(2)}},{key:"createRenderer",value:function(i){var a=i.getContext("2d"),u=new I.CustomRenderer;return u.onProtonUpdate=function(){a.clearRect(0,0,i.width,i.height)},u.onParticleCreated=function(c){var g=c.radius||60,m=I.MathUtil.randomAToB(100,200,"int");c.data.w=g,c.data.h=m},u.onParticleUpdate=function(c){var g=c.data.w,m=c.data.h;a.save(),a.globalAlpha=c.alpha,a.fillStyle=c.color,a.translate(c.p.x,c.p.y),a.rotate(I.MathUtil.degreeTransform(c.rotation)),a.translate(-c.p.x,-c.p.y),a.beginPath(),a.rect(c.p.x-g/2,c.p.y-m/2,g,m),a.closePath(),a.fill(),a.globalAlpha=1,a.restore()},u}},{key:"renderProton",value:function(){this.proton&&this.proton.update()}},{key:"render",value:function(){return pe.createElement(En,{bg:this.props.bg,globalCompositeOperation:"lighter",onCanvasDidMount:this.onCanvasDidMount.bind(this),onCanvasInited:this.onCanvasInited.bind(this),onResize:this.onResize.bind(this)})}}]),t}(pe.Component),xh=function(e){Zt(t,e);function t(r){zt(this,t);var i=Jt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r));return i.renderProton=i.renderProton.bind(i),i}return Ft(t,[{key:"onCanvasInited",value:function(i,a,u){this.createProton(i,a,u),Ue.add(this.renderProton)}},{key:"componentWillUnmount",value:function(){try{Ue.remove(this.renderProton),this.proton.destroy()}catch{}}},{key:"onResize",value:function(i,a){this.crossZoneBehaviour.zone.width=i,this.crossZoneBehaviour.zone.height=a,this.proton.renderers[0].resize(i,a)}},{key:"createProton",value:function(i,a,u){this.proton=new I;var c=new I.Emitter;c.rate=new I.Rate(this.props.num?new I.Span(this.props.num):new I.Span(100),new I.Span(.05,.2)),c.addInitialize(new I.Mass(1)),c.addInitialize(new I.Radius(1,4)),c.addInitialize(new I.Life(1/0));var g=new I.Position(new I.RectZone(0,0,a,u));c.addInitialize(g),c.addInitialize(new I.Velocity(new I.Span(.3,.6),new I.Span(0,360),"polar")),c.addBehaviour(new I.Alpha(I.getSpan(.2,.9))),c.addBehaviour(new I.Color(this.props.color||"#333")),this.crossZoneBehaviour=new I.CrossZone(new I.RectZone(0,0,a,u),"cross"),c.addBehaviour(this.crossZoneBehaviour),c.emit("once"),c.damping=0,this.proton.addEmitter(c),this.proton.addRenderer(this.createRenderer(i,c))}},{key:"createRenderer",value:function(i,a){var u=this,c=i.getContext("2d"),g=new I.CanvasRenderer(i),m=140;return g.onProtonUpdateAfter=function(){for(var C=a.particles,S=0;S<C.length;S++)for(var M=S+1;M<C.length;M++){var f=C[S],w=C[M],E=f.p.distanceTo(w.p);if(E<m){var O=(1-E/m)*.5;c.strokeStyle=da(u.props.color,O)||"rgba(3, 3, 3, "+O+")",c.beginPath(),c.moveTo(f.p.x,f.p.y),c.lineTo(w.p.x,w.p.y),c.closePath(),c.stroke()}}},g}},{key:"renderProton",value:function(){this.proton&&this.proton.update()}},{key:"render",value:function(){return pe.createElement(En,{bg:this.props.bg,globalCompositeOperation:"darker",onCanvasInited:this.onCanvasInited.bind(this),onResize:this.onResize.bind(this)})}}]),t}(pe.Component),Ch=function(e){Zt(t,e);function t(r){zt(this,t);var i=Jt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r));return i.colors=["#74b9ff","#e84393","#6c5ce7","#00b894","#fdcb6e","#006266","#1B1464"],i.renderProton=i.renderProton.bind(i),i}return Ft(t,[{key:"componentWillUnmount",value:function(){try{Ue.remove(this.renderProton),this.proton.destroy()}catch{}}},{key:"onCanvasInited",value:function(i,a,u){this.createProton(i,a,u),Ue.add(this.renderProton)}},{key:"onResize",value:function(i,a){this.crossZoneBehaviour.zone.width=i,this.crossZoneBehaviour.zone.height=a,this.proton.renderers[0].resize(i,a)}},{key:"createProton",value:function(i,a,u){this.proton=new I;var c=new I.Emitter;c.rate=new I.Rate(this.props.num||20),c.damping=.008,c.addInitialize(new I.Mass(1)),c.addInitialize(new I.Radius(30,600)),c.addInitialize(new I.Velocity(new I.Span(.5),new I.Span(0,360),"polar")),c.addInitialize(new I.Position(new I.RectZone(0,0,i.width,i.height)));var g=new I.CrossZone(new I.RectZone(0,0,i.width,i.height),"cross");c.addBehaviour(g),c.addBehaviour(new I.Alpha(I.getSpan(.35,.55))),c.addBehaviour(new I.Color(this.getColor())),c.addBehaviour(new I.RandomDrift(50,50,.5)),c.emit("once"),this.proton.addEmitter(c);var m=new I.CanvasRenderer(i);this.proton.addRenderer(m),this.crossZoneBehaviour=g}},{key:"getColor",value:function(){var i=this.colors;return this.props.color&&(Array.isArray(this.props.color)?i=this.props.color:i=[this.props.color]),i}},{key:"renderProton",value:function(){this.proton&&this.proton.update()}},{key:"render",value:function(){return pe.createElement(En,{bg:this.props.bg,globalCompositeOperation:"darken",onCanvasInited:this.onCanvasInited.bind(this),onResize:this.onResize.bind(this)})}}]),t}(pe.Component),kh=function(e){Zt(t,e);function t(r){zt(this,t);var i=Jt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r));return i.renderProton=i.renderProton.bind(i),i}return Ft(t,[{key:"onCanvasDidMount",value:function(i){}},{key:"onCanvasInited",value:function(i,a,u){this.createProton(i,a,u),this.renderProton()}},{key:"onResize",value:function(i,a){this.crossZoneBehaviour.zone.width=i,this.crossZoneBehaviour.zone.height=a,this.proton.renderers[0].resize(i,a)}},{key:"createProton",value:function(i,a,u){this.proton=new I;var c=new I.Emitter;c.damping=.008,c.rate=new I.Rate(this.props.num?this.props.num:50),c.addInitialize(new I.Mass(1)),c.addInitialize(new I.Radius(5,9)),c.addInitialize(new I.Velocity(new I.Span(1.5),new I.Span(0,360),"polar")),c.addInitialize(new I.Position(new I.RectZone(0,0,a,u)));var g={x:a/2,y:u/2},m=new I.Attraction(g,0,0),C=new I.CrossZone(new I.RectZone(0,0,i.width,i.height),"bound");c.addBehaviour(new I.Color(this.props.color||"#bbb")),c.addBehaviour(m,C),c.addBehaviour(new I.RandomDrift(15,15,.05)),c.emit("once"),this.proton.addEmitter(c),this.proton.addRenderer(this.createRenderer(i)),this.crossZoneBehaviour=C}},{key:"createRenderer",value:function(i){var a=10,u=8,c=i.getContext("2d"),g=new I.CanvasRenderer(i);g.onProtonUpdate=function(){c.clearRect(0,0,i.width,i.height)},g.onParticleCreated=function(f){f.data.points=[],f.data.index=0},g.onParticleUpdate=function(f){S(f),f.data.index%u===0&&m(f),C(f),f.data.index++};var m=function(w){w.data.points.unshift(w.p.y),w.data.points.unshift(w.p.x),w.data.points.length>a&&(w.data.points.pop(),w.data.points.pop())},C=function(w){c.fillStyle=w.color,c.beginPath(),c.arc(w.p.x,w.p.y,w.radius,0,Math.PI*2,!0),c.closePath(),c.fill()},S=function(w){c.beginPath(),c.strokeStyle=w.color,c.moveTo(w.p.x,w.p.y);for(var E=w.data.points.length,O=0;O<E;O+=2){var q=w.data.points[O],T=w.data.points[O+1];c.lineWidth=M(O,E),c.lineTo(q,T),c.stroke()}},M=function(w,E){if(E<=2)return 1;var O=6,q=(O-1)/(2/E-1),T=1-q,b=(w+2)/E,P=q*b+T;return P=P>>0,P};return g}},{key:"renderProton",value:function(){var i=this;Ue.add(function(){i.proton.update()})}},{key:"render",value:function(){return pe.createElement(En,{bg:this.props.bg,globalCompositeOperation:"darker",onCanvasDidMount:this.onCanvasDidMount.bind(this),onCanvasInited:this.onCanvasInited.bind(this),onResize:this.onResize.bind(this)})}}]),t}(pe.Component),fy=["#f6b93b","#18dcff","#cd84f1","#ED4C67","#ffffff","#b71540","#32ff7e","#ff3838"],Eh=function(e){Zt(t,e);function t(r){zt(this,t);var i=Jt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r));return i.renderProton=i.renderProton.bind(i),i}return Ft(t,[{key:"onCanvasInited",value:function(i,a,u){this.createProton(i),this.createEmitter({canvas:i,x:a/2,y:u/2,mainEmitter:!0,zone:"bound"}),Ue.add(this.renderProton)}},{key:"componentWillUnmount",value:function(){try{Ue.remove(this.renderProton),this.proton.destroy()}catch{}}},{key:"onResize",value:function(){}},{key:"createProton",value:function(i){this.proton=new I;var a=this.createRenderer(i);this.proton.addRenderer(a)}},{key:"createRenderer",value:function(i){var a=i.getContext("2d"),u=new I.CustomRenderer;u.onProtonUpdate=function(){a.clearRect(0,0,i.width,i.height)},u.onParticleCreated=function(g){g.data.count=I.MathUtil.randomAToB(3,10,!0)},u.onParticleUpdate=function(g){a.save(),a.globalAlpha=g.alpha,a.fillStyle=g.color,a.translate(g.p.x,g.p.y),a.rotate(I.MathUtil.degreeTransform(g.rotation)),a.translate(-g.p.x,-g.p.y),a.beginPath(),c(g,g.data.count),a.closePath(),a.fill(),a.globalAlpha=1,a.restore()},u.onParticleDead=function(g){};var c=function(m,C){if(C>=7)a.arc(m.p.x,m.p.y,m.radius,0,Math.PI*2,!0);else for(var S=m.radius,M=0;M<=C;M++){var f=m.p.x+S*Math.cos(Math.PI/180*360/C*M),w=m.p.y+S*Math.sin(Math.PI/180*360/C*M);M===0?a.moveTo(f,w):a.lineTo(f,w)}};return u}},{key:"createEmitter",value:function(i){var a=i.mainEmitter,u=i.canvas,c=i.x,g=i.y,m=i.radius,C=i.color,S=C===void 0?fy:C,M=i.zone,f=M===void 0?"dead":M,w=i.once,E=w===void 0?"all":w,O=i.alpha,q=O===void 0?.85:O,T=i.gravity,b=T===void 0?3.5:T,P=this.proton.pool.get(I.Emitter);if(!P.completed){P.rate=new I.Rate(this.props.num?new I.Span(this.props.num):new I.Span(4,9),new I.Span(1.6,2.2));var F=a?new I.Radius(10,110):new I.Radius(3,m);P.addInitialize(new I.Mass(1)),P.addInitialize(F),P.addInitialize(new I.Life(3,6)),P.addInitialize(new I.Velocity(new I.Span(4,6),new I.Span(-90,90),"polar")),P.addBehaviour(new I.Alpha(q,.2)),P.addBehaviour(new I.Color(S)),P.addBehaviour(new I.Scale(1,.3)),P.addBehaviour(new I.Rotate),P.addBehaviour(new I.Gravity(b)),P.addBehaviour(this.customDeadBehaviour(u)),P.addBehaviour(new I.CrossZone(new I.RectZone(0,0,u.width,u.height),f))}P.p.x=c,P.p.y=g,E==="once"?P.emit("once"):P.emit(),this.proton.addEmitter(P)}},{key:"expireEmitter",value:function(i){var a=this;setTimeout(function(){i.completed=!0,a.proton.pool.expire(i),a.proton.removeEmitter(i)},500)}},{key:"customDeadBehaviour",value:function(i){var a=this;return{initialize:function(c){c.data=c.data||{},c.data.oldRadius=c.radius,c.data.emitterCount=0},applyBehaviour:function(c){c.radius<5||c.data.emitterCount>=2||c.radius<=1/3*c.data.oldRadius&&(c.data.emitterCount++,a.createEmitter({canvas:i,x:c.p.x,y:c.p.y,radius:c.radius*(1/2),alpha:.5,gravity:5,color:c.color,once:"once"}))}}}},{key:"renderProton",value:function(){this.proton&&this.proton.update()}},{key:"render",value:function(){return pe.createElement(En,{bg:this.props.bg,globalCompositeOperation:"darker",onCanvasInited:this.onCanvasInited.bind(this),onResize:this.onResize.bind(this)})}}]),t}(pe.Component),Sh=function(e){Zt(t,e);function t(r){zt(this,t);var i=Jt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r));return i.colors=["#529B88","#CDD180","#FFFA32","#FB6255","#FB4A53","#FF4E50","#F9D423"],i.renderProton=i.renderProton.bind(i),i}return Ft(t,[{key:"componentWillUnmount",value:function(){try{Ue.remove(this.renderProton),this.proton.destroy()}catch{}}},{key:"onCanvasInited",value:function(i,a,u){this.createProton(i,a,u),Ue.add(this.renderProton)}},{key:"onResize",value:function(){}},{key:"createProton",value:function(i,a,u){this.proton=new I;var c=new I.Emitter;c.rate=new I.Rate(this.props.num?new I.Span(this.props.num):new I.Span(4,8),new I.Span(.1,.25)),c.addInitialize(new I.Mass(1)),c.addInitialize(new I.Radius(20,200)),c.addInitialize(new I.Life(2,4)),c.addInitialize(new I.Velocity(new I.Span(4,7),new I.Span(0,360),"polar")),c.addInitialize(new I.Position(new I.CircleZone(a/2,u/2,100))),c.addBehaviour(new I.Alpha(1,0)),c.addBehaviour(new I.Scale(.2,1)),c.addBehaviour(this.createCustomBehaviour()),c.addBehaviour(new I.Color(this.colors,"random")),c.emit(),this.proton.addEmitter(c);var g=new I.CanvasRenderer(i);this.proton.addRenderer(g)}},{key:"createCustomBehaviour",value:function(){var i=1e3;return{initialize:function(u){u.f=new I.Vector2D(0,0)},applyBehaviour:function(u){var c=u.v.length()/1e3,g=u.v.getGradient();g+=3.14/2,u.f.x=i*c*Math.cos(g),u.f.y=i*c*Math.sin(g),u.a.add(u.f)}}}},{key:"renderProton",value:function(){this.proton&&this.proton.update()}},{key:"render",value:function(){return pe.createElement(En,{bg:this.props.bg,globalCompositeOperation:"xor",onCanvasInited:this.onCanvasInited.bind(this),onResize:this.onResize.bind(this)})}}]),t}(pe.Component),ds=function(e){Zt(t,e);function t(r){return zt(this,t),Jt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r))}return Ft(t,[{key:"getRandom",value:function(){var i=this.props,a=i.num,u=i.bg,c=i.color;return this.random||(this.random=new ly,this.random.set(.25,pe.createElement(eu,{num:a,bg:u,color:c})),this.random.set(.2,pe.createElement(gh,{num:a,bg:u,color:c})),this.random.set(.2,pe.createElement(mh,{num:a,bg:u,color:c})),this.random.set(.16,pe.createElement(_h,{num:a,bg:u,color:c})),this.random.set(.18,pe.createElement(Ch,{num:a,bg:u,color:c})),this.random.set(.04,pe.createElement(xh,{num:a,bg:u,color:c})),this.random.set(.1,pe.createElement(Eh,{num:a,bg:u,color:c})),this.random.set(.08,pe.createElement(wh,{num:a,bg:u,color:c})),this.random.set(.18,pe.createElement(kh,{num:a,bg:u,color:c})),this.random.set(.15,pe.createElement(Sh,{num:a,bg:u,color:c}))),this.random.getResult()}},{key:"getBgParticles",value:function(){var i=this.props,a=i.type,u=i.num,c=i.bg,g=i.color,m=i.config,C=void 0;switch(String(a).toLowerCase()){case"color":C=pe.createElement(eu,{num:u,bg:c,color:g});break;case"ball":C=pe.createElement(gh,{num:u,bg:c,color:g});break;case"lines":C=pe.createElement(mh,{num:u,bg:c,color:g});break;case"thick":C=pe.createElement(_h,{num:u,bg:c,color:g});break;case"circle":C=pe.createElement(Ch,{num:u,bg:c,color:g});break;case"cobweb":C=pe.createElement(xh,{num:u,bg:c,color:g});break;case"polygon":C=pe.createElement(Eh,{num:u,bg:c,color:g});break;case"square":C=pe.createElement(wh,{num:u,bg:c,color:g});break;case"tadpole":C=pe.createElement(kh,{num:u,bg:c,color:g});break;case"fountain":C=pe.createElement(Sh,{num:u,bg:c,color:g});break;case"custom":C=pe.createElement(hy,{bg:c,config:m});break;case"random":C=this.getRandom(u);break;default:C=pe.createElement(eu,{num:u,bg:c,color:g});break}return C}},{key:"render",value:function(){var i=this.getBgParticles();return pe.createElement(pe.Fragment,null,i)}}]),t}(Gt.Component),Je={VERSION:"3.1.1",HEADER_CHUNK_TYPE:[77,84,104,100],HEADER_CHUNK_LENGTH:[0,0,0,6],HEADER_CHUNK_FORMAT0:[0,0],HEADER_CHUNK_FORMAT1:[0,1],HEADER_CHUNK_DIVISION:[0,128],TRACK_CHUNK_TYPE:[77,84,114,107],META_EVENT_ID:255,META_SMTPE_OFFSET:84},Ph=(e,t)=>Array(Math.abs(t)+1).join(e);function dy(e){return e!==null&&typeof e=="object"&&typeof e.name=="string"}function py(e){return e!==null&&typeof e=="object"&&typeof e.step=="number"&&typeof e.alt=="number"}var Zd=[0,2,4,-1,1,3,5],vy=Zd.map(e=>Math.floor(e*7/12));function yy(e){const{step:t,alt:r,oct:i,dir:a=1}=e,u=Zd[t]+7*r;if(i===void 0)return[a*u];const c=i-vy[t]-4*r;return[a*u,a*c]}var Jd={empty:!0,name:"",pc:"",acc:""},bh=new Map,gy=e=>"CDEFGAB".charAt(e),my=e=>e<0?Ph("b",-e):Ph("#",e),_y=e=>e[0]==="b"?-e.length:e.length;function el(e){const t=JSON.stringify(e),r=bh.get(t);if(r)return r;const i=typeof e=="string"?ky(e):py(e)?el(Ey(e)):dy(e)?el(e.name):Jd;return bh.set(t,i),i}var wy=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function xy(e){const t=wy.exec(e);return[t[1].toUpperCase(),t[2].replace(/x/g,"##"),t[3],t[4]]}var Cy=(e,t)=>(e%t+t)%t,tu=[0,2,4,5,7,9,11];function ky(e){const t=xy(e);if(t[0]===""||t[3]!=="")return Jd;const r=t[0],i=t[1],a=t[2],u=(r.charCodeAt(0)+3)%7,c=_y(i),g=a.length?+a:void 0,m=yy({step:u,alt:c,oct:g}),C=r+i+a,S=r+i,M=(tu[u]+c+120)%12,f=g===void 0?Cy(tu[u]+c,12)-12*99:tu[u]+c+12*(g+1),w=f>=0&&f<=127?f:null,E=g===void 0?null:Math.pow(2,(f-69)/12)*440;return{empty:!1,acc:i,alt:c,chroma:M,coord:m,freq:E,height:f,letter:r,midi:w,name:C,oct:g,pc:S,step:u}}function Ey(e){const{step:t,alt:r,oct:i}=e,a=gy(t);if(!a)return"";const u=a+my(r);return i||i===0?u+i:u}function Sy(e){return+e>=0&&+e<=127}function Th(e){if(Sy(e))return+e;const t=el(e);return t.empty?null:t.midi}var ce=function(){function e(){}return e.version=function(){return Je.VERSION},e.stringToBytes=function(t){return t.split("").map(function(r){return r.charCodeAt(0)})},e.isNumeric=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},e.getPitch=function(t,r){return r===void 0&&(r="C4"),60-Th(r)+Th(t)},e.numberToVariableLength=function(t){t=Math.round(t);for(var r=t&127;t=t>>7;)r<<=8,r|=t&127|128;for(var i=[];i.push(r&255),r&128;)r>>=8;return i},e.stringByteCount=function(t){return encodeURI(t).split(/%..|./).length-1},e.numberFromBytes=function(t){var r="",i;return t.forEach(function(a){i=a.toString(16),i.length==1&&(i="0"+i),r+=i}),parseInt(r,16)},e.numberToBytes=function(t,r){r=r||1;var i=t.toString(16);i.length&1&&(i="0"+i);var a=i.match(/.{2}/g),u=a.map(function(c){return parseInt(c,16)});if(u.length<r)for(;r-u.length>0;)u.unshift(0);return u},e.toArray=function(t){return Array.isArray(t)?t:[t]},e.convertVelocity=function(t){return t=t>100?100:t,Math.round(t/100*127)},e.getTickDuration=function(t){if(Array.isArray(t))return t.map(function(u){return e.getTickDuration(u)}).reduce(function(u,c){return u+c},0);if(t=t.toString(),t.toLowerCase().charAt(0)==="t"){var r=parseInt(t.substring(1));if(isNaN(r)||r<0)throw new Error(t+" is not a valid duration.");return r}var i=e.numberFromBytes(Je.HEADER_CHUNK_DIVISION),a=i*e.getDurationMultiplier(t);return e.getRoundedIfClose(a)},e.getRoundedIfClose=function(t){var r=Math.round(t);return Math.abs(r-t)<1e-6?r:t},e.getPrecisionLoss=function(t){var r=Math.round(t);return r-t},e.getDurationMultiplier=function(t){if(t==="0")return 0;var r=t.match(/^(?<dotted>d+)?(?<base>\d+)(?:t(?<tuplet>\d*))?/);if(r){var i=Number(r.groups.base),a=i===1||(i&i-1)===0;if(a){var u=i/4,c=1/u,g=r.groups,m=g.dotted,C=g.tuplet;if(m){var S=m.length,M=Math.pow(2,S);c=c+c*((M-1)/M)}if(typeof C=="string"){var f=c*2,w=Number(C||"3");c=f/w}return c}}throw new Error(t+" is not a valid duration.")},e}(),ep=function(){function e(t){this.channel=t.channel-1||0,this.controllerValue=t.controllerValue,this.controllerNumber=t.controllerNumber,this.delta=t.delta||0,this.name="ControllerChangeEvent",this.status=176,this.data=ce.numberToVariableLength(t.delta).concat(this.status|this.channel,this.controllerNumber,this.controllerValue)}return e}(),tp=function(){function e(t){this.delta=t.delta||0,this.name="CopyrightEvent",this.text=t.text,this.type=2;var r=ce.stringToBytes(this.text);this.data=ce.numberToVariableLength(this.delta).concat(Je.META_EVENT_ID,this.type,ce.numberToVariableLength(r.length),r)}return e}(),np=function(){function e(t){this.delta=t.delta||0,this.name="CuePointEvent",this.text=t.text,this.type=7;var r=ce.stringToBytes(this.text);this.data=ce.numberToVariableLength(this.delta).concat(Je.META_EVENT_ID,this.type,ce.numberToVariableLength(r.length),r)}return e}(),tl=function(){function e(t){this.delta=(t==null?void 0:t.delta)||0,this.name="EndTrackEvent",this.type=[47,0],this.data=ce.numberToVariableLength(this.delta).concat(Je.META_EVENT_ID,this.type)}return e}(),rp=function(){function e(t){this.delta=t.delta||0,this.name="InstrumentNameEvent",this.text=t.text,this.type=4;var r=ce.stringToBytes(this.text);this.data=ce.numberToVariableLength(this.delta).concat(Je.META_EVENT_ID,this.type,ce.numberToVariableLength(r.length),r)}return e}(),ip=function(){function e(t,r){this.name="KeySignatureEvent",this.type=89;var i=r||0;if(t=t||0,typeof r>"u"){var a=[["Cb","Gb","Db","Ab","Eb","Bb","F","C","G","D","A","E","B","F#","C#"],["ab","eb","bb","f","c","g","d","a","e","b","f#","c#","g#","d#","a#"]],u=t.length,c=t||"C";if(t[0]===t[0].toLowerCase()&&(i=1),u>1)switch(t.charAt(u-1)){case"m":i=1,c=t.charAt(0).toLowerCase(),c=c.concat(t.substring(1,u-1));break;case"-":i=1,c=t.charAt(0).toLowerCase(),c=c.concat(t.substring(1,u-1));break;case"M":i=0,c=t.charAt(0).toUpperCase(),c=c.concat(t.substring(1,u-1));break;case"+":i=0,c=t.charAt(0).toUpperCase(),c=c.concat(t.substring(1,u-1));break}var g=a[i].indexOf(c);t=g===-1?0:g-7}this.data=ce.numberToVariableLength(0).concat(Je.META_EVENT_ID,this.type,[2],ce.numberToBytes(t,1),ce.numberToBytes(i,1))}return e}(),op=function(){function e(t){this.delta=t.delta||0,this.name="LyricEvent",this.text=t.text,this.type=5;var r=ce.stringToBytes(this.text);this.data=ce.numberToVariableLength(this.delta).concat(Je.META_EVENT_ID,this.type,ce.numberToVariableLength(r.length),r)}return e}(),sp=function(){function e(t){this.delta=t.delta||0,this.name="MarkerEvent",this.text=t.text,this.type=6;var r=ce.stringToBytes(this.text);this.data=ce.numberToVariableLength(this.delta).concat(Je.META_EVENT_ID,this.type,ce.numberToVariableLength(r.length),r)}return e}(),Ei=function(){function e(t){this.name="NoteOnEvent",this.channel=t.channel||1,this.pitch=t.pitch,this.wait=t.wait||0,this.velocity=t.velocity||50,this.tick=t.tick||null,this.delta=null,this.data=t.data,this.status=144}return e.prototype.buildData=function(t,r,i){return i===void 0&&(i={}),this.data=[],this.tick?(this.tick=ce.getRoundedIfClose(this.tick),t.tickPointer==0&&(this.delta=this.tick)):(this.delta=ce.getTickDuration(this.wait),this.tick=ce.getRoundedIfClose(t.tickPointer+this.delta)),this.deltaWithPrecisionCorrection=ce.getRoundedIfClose(this.delta-r),this.data=ce.numberToVariableLength(this.deltaWithPrecisionCorrection).concat(this.status|this.channel-1,ce.getPitch(this.pitch,i.middleC),ce.convertVelocity(this.velocity)),this},e}(),po=function(){function e(t){this.name="NoteOffEvent",this.channel=t.channel||1,this.pitch=t.pitch,this.velocity=t.velocity||50,this.tick=t.tick||null,this.data=t.data,this.delta=t.delta||ce.getTickDuration(t.duration),this.status=128}return e.prototype.buildData=function(t,r,i){return i===void 0&&(i={}),this.tick===null&&(this.tick=ce.getRoundedIfClose(this.delta+t.tickPointer)),this.deltaWithPrecisionCorrection=ce.getRoundedIfClose(this.delta-r),this.data=ce.numberToVariableLength(this.deltaWithPrecisionCorrection).concat(this.status|this.channel-1,ce.getPitch(this.pitch,i.middleC),ce.convertVelocity(this.velocity)),this},e}(),Qs=function(){function e(t){this.data=[],this.name="NoteEvent",this.pitch=ce.toArray(t.pitch),this.channel=t.channel||1,this.duration=t.duration||"4",this.grace=t.grace,this.repeat=t.repeat||1,this.sequential=t.sequential||!1,this.tick=t.startTick||t.tick||null,this.velocity=t.velocity||50,this.wait=t.wait||0,this.tickDuration=ce.getTickDuration(this.duration),this.restDuration=ce.getTickDuration(this.wait),this.events=[]}return e.prototype.buildData=function(){var t=this;if(this.data=[],this.grace){var r=1;this.grace=ce.toArray(this.grace),this.grace.forEach(function(){var a=new e({pitch:t.grace,duration:"T"+r});t.data=t.data.concat(a.data)})}if(this.sequential)for(var i=0;i<this.repeat;i++)this.pitch.forEach(function(u,c){var g=new Ei({channel:t.channel,wait:c>0?0:t.wait,delta:c>0?0:ce.getTickDuration(t.wait),velocity:t.velocity,pitch:u,tick:t.tick}),m=new po({channel:t.channel,duration:t.duration,velocity:t.velocity,pitch:u});t.events.push(g,m)});else for(var i=0;i<this.repeat;i++)this.pitch.forEach(function(a,u){var c;u==0?c=new Ei({channel:t.channel,wait:t.wait,delta:ce.getTickDuration(t.wait),velocity:t.velocity,pitch:a,tick:t.tick}):c=new Ei({channel:t.channel,wait:0,delta:0,velocity:t.velocity,pitch:a,tick:t.tick}),t.events.push(c)}),this.pitch.forEach(function(a,u){var c;u==0?c=new po({channel:t.channel,duration:t.duration,velocity:t.velocity,pitch:a,tick:t.tick!==null?ce.getTickDuration(t.duration)+t.tick:null}):c=new po({channel:t.channel,duration:0,velocity:t.velocity,pitch:a,tick:t.tick!==null?ce.getTickDuration(t.duration)+t.tick:null}),t.events.push(c)});return this},e}(),ap=function(){function e(t){this.channel=t.channel||0,this.delta=t.delta||0,this.name="PitchBendEvent",this.status=224;var r=this.scale14bits(t.bend),i=r&127,a=r>>7&127;this.data=ce.numberToVariableLength(this.delta).concat(this.status|this.channel,i,a)}return e.prototype.scale14bits=function(t){return t<=0?Math.floor(16384*(t+1)/2):Math.floor(16383*(t+1)/2)},e}(),Py=function(){function e(t){this.channel=t.channel||0,this.delta=t.delta||0,this.instrument=t.instrument,this.status=192,this.name="ProgramChangeEvent",this.data=ce.numberToVariableLength(this.delta).concat(this.status|this.channel,this.instrument)}return e}(),nl=function(){function e(t){this.bpm=t.bpm,this.delta=t.delta||0,this.tick=t.tick,this.name="TempoEvent",this.type=81;var r=Math.round(6e7/this.bpm);this.data=ce.numberToVariableLength(this.delta).concat(Je.META_EVENT_ID,this.type,[3],ce.numberToBytes(r,3))}return e}(),up=function(){function e(t){this.delta=t.delta||0,this.text=t.text,this.name="TextEvent",this.type=1;var r=ce.stringToBytes(this.text);this.data=ce.numberToVariableLength(t.delta).concat(Je.META_EVENT_ID,this.type,ce.numberToVariableLength(r.length),r)}return e}(),lp=function(){function e(t,r,i,a){this.name="TimeSignatureEvent",this.type=88,this.data=ce.numberToVariableLength(0).concat(Je.META_EVENT_ID,this.type,[4],ce.numberToBytes(t,1),ce.numberToBytes(Math.log2(r),1),ce.numberToBytes(i||24,1),ce.numberToBytes(a||8,1))}return e}(),cp=function(){function e(t){this.delta=t.delta||0,this.name="TrackNameEvent",this.text=t.text,this.type=3;var r=ce.stringToBytes(this.text);this.data=ce.numberToVariableLength(this.delta).concat(Je.META_EVENT_ID,this.type,ce.numberToVariableLength(r.length),r)}return e}(),hp=function(){function e(){this.type=Je.TRACK_CHUNK_TYPE,this.data=[],this.size=[],this.events=[],this.explicitTickEvents=[],this.tickPointer=0}return e.prototype.addEvent=function(t,r){var i=this;return ce.toArray(t).forEach(function(a,u){if(a instanceof Qs){if(typeof r=="function"){var c=r(u,a);typeof c=="object"&&Object.assign(a,c)}a.tick!==null?i.explicitTickEvents.push(a):a.buildData().events.forEach(function(g){return i.events.push(g)})}else i.events.push(a)}),this},e.prototype.buildData=function(t){var r=this;t===void 0&&(t={}),this.data=[],this.size=[],this.tickPointer=0;var i=0;return this.events.forEach(function(a){if(a instanceof Ei||a instanceof po){var u=a.buildData(r,i,t);i=ce.getPrecisionLoss(a.deltaWithPrecisionCorrection||0),r.data=r.data.concat(u.data),r.tickPointer=ce.getRoundedIfClose(a.tick)}else a instanceof nl&&(r.tickPointer=ce.getRoundedIfClose(a.tick)),r.data=r.data.concat(a.data)}),this.mergeExplicitTickEvents(),(!this.events.length||!(this.events[this.events.length-1]instanceof tl))&&(this.data=this.data.concat(new tl().data)),this.size=ce.numberToBytes(this.data.length,4),this},e.prototype.mergeExplicitTickEvents=function(){var t=this;this.explicitTickEvents.length&&(this.explicitTickEvents.sort(function(r,i){return r.tick-i.tick}),this.explicitTickEvents.forEach(function(r){r.buildData().events.forEach(function(i){return i.buildData(t)}),r.events.forEach(function(i){return t.mergeSingleEvent(i)})}),this.explicitTickEvents=[],this.buildData())},e.prototype.mergeTrack=function(t){var r=this;return this.buildData(),t.buildData().events.forEach(function(i){return r.mergeSingleEvent(i)}),this},e.prototype.mergeSingleEvent=function(t){if(!this.events.length){this.addEvent(t);return}for(var r,i=0;i<this.events.length&&!(this.events[i].tick>t.tick);i++)r=i;var a=r+1;t.delta=t.tick-this.events[r].tick,this.events.splice(a,0,t);for(var i=a+1;i<this.events.length;i++)this.events[i].delta=this.events[i].tick-this.events[i-1].tick},e.prototype.removeEventsByName=function(t){var r=this;return this.events.forEach(function(i,a){i.name===t&&r.events.splice(a,1)}),this},e.prototype.setTempo=function(t,r){return r===void 0&&(r=0),this.addEvent(new nl({bpm:t,tick:r}))},e.prototype.setTimeSignature=function(t,r,i,a){return this.addEvent(new lp(t,r,i,a))},e.prototype.setKeySignature=function(t,r){return this.addEvent(new ip(t,r))},e.prototype.addText=function(t){return this.addEvent(new up({text:t}))},e.prototype.addCopyright=function(t){return this.addEvent(new tp({text:t}))},e.prototype.addTrackName=function(t){return this.addEvent(new cp({text:t}))},e.prototype.addInstrumentName=function(t){return this.addEvent(new rp({text:t}))},e.prototype.addMarker=function(t){return this.addEvent(new sp({text:t}))},e.prototype.addCuePoint=function(t){return this.addEvent(new np({text:t}))},e.prototype.addLyric=function(t){return this.addEvent(new op({text:t}))},e.prototype.polyModeOn=function(){var t=new Ei({data:[0,176,126,0]});return this.addEvent(t)},e.prototype.setPitchBend=function(t){return this.addEvent(new ap({bend:t}))},e.prototype.controllerChange=function(t,r,i,a){return this.addEvent(new ep({controllerNumber:t,controllerValue:r,channel:i,delta:a}))},e}(),by=function(){function e(){}return e.prototype.trackFromVoice=function(t,r){var i=this;r===void 0&&(r={addRenderedAccidentals:!1});var a=new hp,u=[];return t.tickables.forEach(function(c){c.noteType==="n"?(a.addEvent(new Qs({pitch:c.keys.map(function(g,m){return i.convertPitch(g,m,c,r.addRenderedAccidentals)}),duration:i.convertDuration(c),wait:u})),u=[]):c.noteType==="r"&&u.push(i.convertDuration(c))}),u.length>0&&a.addEvent(new Qs({pitch:"[c4]",duration:"0",wait:u,velocity:"0"})),a},e.prototype.convertPitch=function(t,r,i,a){var u;a===void 0&&(a=!1);var c=t.split("/"),g=c[0].substring(1).replace("n","");return a&&((u=i.getAccidentals())===null||u===void 0||u.forEach(function(m){m.index===r&&(m.type==="n"?g="":g+=m.type)})),c[0][0]+g+c[1]},e.prototype.convertDuration=function(t){return"d".repeat(t.dots)+this.convertBaseDuration(t.duration)+(t.tuplet?"t"+t.tuplet.num_notes:"")},e.prototype.convertBaseDuration=function(t){switch(t){case"w":return"1";case"h":return"2";case"q":return"4";default:return t}},e}(),Ty=function(){function e(t){this.type=Je.HEADER_CHUNK_TYPE;var r=t>1?Je.HEADER_CHUNK_FORMAT1:Je.HEADER_CHUNK_FORMAT0;this.data=r.concat(ce.numberToBytes(t,2),Je.HEADER_CHUNK_DIVISION),this.size=[0,0,0,this.data.length]}return e}(),My=function(){function e(t,r){r===void 0&&(r={}),this.tracks=ce.toArray(t),this.options=r}return e.prototype.buildData=function(){var t=this,r=[];return r.push(new Ty(this.tracks.length)),this.tracks.forEach(function(i){r.push(i.buildData(t.options))}),r},e.prototype.buildFile=function(){var t=[];return this.buildData().forEach(function(r){return t=t.concat(r.type,r.size,r.data)}),new Uint8Array(t)},e.prototype.base64=function(){if(typeof btoa=="function"){for(var t="",r=this.buildFile(),i=r.byteLength,a=0;a<i;a++)t+=String.fromCharCode(r[a]);return btoa(t)}return Buffer.from(this.buildFile()).toString("base64")},e.prototype.dataUri=function(){return"data:audio/midi;base64,"+this.base64()},e.prototype.setOption=function(t,r){return this.options[t]=r,this},e.prototype.stdout=function(){return process.stdout.write(Buffer.from(this.buildFile()))},e}(),Iy={Constants:Je,ControllerChangeEvent:ep,CopyrightEvent:tp,CuePointEvent:np,EndTrackEvent:tl,InstrumentNameEvent:rp,KeySignatureEvent:ip,LyricEvent:op,MarkerEvent:sp,NoteOnEvent:Ei,NoteOffEvent:po,NoteEvent:Qs,PitchBendEvent:ap,ProgramChangeEvent:Py,TempoEvent:nl,TextEvent:up,TimeSignatureEvent:lp,Track:hp,TrackNameEvent:cp,Utils:ce,VexFlow:by,Writer:My},Ay=Iy;const Ji=Bo(Ay);var fp={exports:{}},nu={exports:{}},ru,Mh;function By(){return Mh||(Mh=1,ru=void 0),ru}var Ih;function Ry(){return Ih||(Ih=1,function(e,t){(function(r,i){e.exports=i()})(Tr,function(){var r=typeof window>"u"?Tr:window,i="1.7.4",a,u,c,g,m,C=Date.now||function(){return new Date().getTime()},S=C(),M=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return C()-S},f=function(n){setTimeout(n,0)};function w(){}function E(n){return typeof n=="function"}function O(){this._orig=this,this._ready=!1,this._queue=[],this._log=[]}O.prototype._exec=function(){for(;this._ready&&this._queue.length;){var n=this._queue.shift();n[0].apply(this,n[1])}},O.prototype._push=function(n,s){this._queue.push([n,s]),O.prototype._exec.apply(this)},O.prototype._slip=function(n,s){this._queue.unshift([n,s])},O.prototype._pause=function(){this._ready=!1},O.prototype._resume=function(){this._ready=!0,O.prototype._exec.apply(this)},O.prototype._break=function(n){this._orig._bad=!0,this._orig._log.push(n||"Unknown JZZ error")},O.prototype._repair=function(){this._orig._bad=!1},O.prototype._crash=function(n){this._break(n),this._resume()},O.prototype._err=function(){return this._log[this._log.length-1]},O.prototype.log=function(){return Ie(this._log)},O.prototype._dup=function(){var n=function(){};n.prototype=this._orig;var s=new n;return s._ready=!1,s._queue=[],s},O.prototype._image=function(){return this._dup()},O.prototype._thenable=function(){if(this.then)return this;var n=this,s=function(){};s.prototype=n;var l=new s;return l.then=function(v,_){return n._push(q,[v,_]),this},l};function q(n,s){this._bad?E(s)&&s.apply(this,[new Error(this._err())]):E(n)&&n.apply(this,[this])}function T(n,s){this._bad?n._crash(this._err()):setTimeout(function(){n._resume()},s)}O.prototype.wait=function(n){if(!n)return this;var s=this._image();return this._push(T,[s,n]),s._thenable()};function b(n){this._bad&&n._break(this._err()),n._resume()}function P(n,s,l){n[l]=function(){var v=arguments,_=s._image();return this._push(b,[_]),_[l].apply(_,v)}}function F(n){this._bad||(E(n)?n.apply(this):console.log(n))}O.prototype.and=function(n){return this._push(F,[n]),this._thenable()};function G(n){this._bad&&(E(n)?n.apply(this):console.log(n))}O.prototype.or=function(n){return this._push(G,[n]),this._thenable()},O.prototype._info={},O.prototype.info=function(){var n=Ie(this._orig._info);return typeof n.engine>"u"&&(n.engine="none"),typeof n.sysex>"u"&&(n.sysex=!0),n},O.prototype.name=function(){return this.info().name};function Z(n){this._bad?n._crash(this._err()):(this._break("Closed"),n._resume())}O.prototype.close=function(){var n=new O;return this._close&&this._push(this._close,[]),this._push(Z,[n]),n._thenable()};function J(n){if(!n.length){this._break();return}var s=n.shift();if(n.length){var l=this;this._slip(G,[function(){J.apply(l,[n])}])}try{this._repair(),s.apply(this)}catch(v){this._break(v.toString())}}function $(n,s){for(var l=0;l<n.length;l++)if(n[l]===s)return;n.push(s)}function V(n,s){for(var l=0;l<n.length;l++)if(n[l]===s){n.splice(l,1);return}}function j(){O.apply(this)}j.prototype=new O;function fe(n,s){for(var l in n)n.hasOwnProperty(l)&&s.call(this,l)}function Ie(n,s,l){if(typeof s>"u")return Ie(n,[],[]);if(n instanceof Object){for(var v=0;v<s.length;v++)if(s[v]===n)return l[v];var _;return n instanceof Array?_=[]:_={},s.push(n),l.push(_),fe(n,function(N){_[N]=Ie(n[N],s,l)}),_}return n}j.prototype._info={name:"JZZ.js",ver:i,version:i,inputs:[],outputs:[]};var qe=[],et=[],ge=[],Pt=[],We={},X={};function te(){ye._info.engine=A._type,ye._info.version=A._version,ye._info.sysex=A._sysex,ye._info.inputs=[],ye._info.outputs=[],qe=[],et=[],A._allOuts={},A._allIns={};var n,s;for(n=0;n<A._outs.length;n++)s=A._outs[n],!We[s.name]&&(s.engine=A,A._allOuts[s.name]=s,ye._info.outputs.push({id:s.name,name:s.name,manufacturer:s.manufacturer,version:s.version,engine:A._type}),qe.push(s));for(n=0;n<bt._outs.length;n++)s=bt._outs[n],!We[s.name]&&(ye._info.outputs.push({id:s.name,name:s.name,manufacturer:s.manufacturer,version:s.version,engine:s.type}),qe.push(s));for(n=0;n<A._ins.length;n++)s=A._ins[n],!X[s.name]&&(s.engine=A,A._allIns[s.name]=s,ye._info.inputs.push({id:s.name,name:s.name,manufacturer:s.manufacturer,version:s.version,engine:A._type}),et.push(s));for(n=0;n<bt._ins.length;n++)s=bt._ins[n],!X[s.name]&&(ye._info.inputs.push({id:s.name,name:s.name,manufacturer:s.manufacturer,version:s.version,engine:s.type}),et.push(s));if(ye._watcher&&ye._watcher._handles.length){var l=zi(Pt,ge,ye._info.inputs,ye._info.outputs);if(l){for(u=0;u<l.inputs.removed.length;u++)s=A._inMap[l.inputs.removed[u].name],s&&s._closeAll();for(u=0;u<l.outputs.removed.length;u++)s=A._outMap[l.outputs.removed[u].name],s&&s._closeAll();pa(l)}}Pt=ye._info.inputs,ge=ye._info.outputs}function U(){this._bad||A._refresh(this)}j.prototype.refresh=function(){return this._push(U,[]),this._thenable()};function de(n,s){var l,v;E(n)&&(n=n(s)),n instanceof Array||(n=[n]);var _=[],N=[],D=s.slice(),W=_;for(l=0;l<n.length;l++)if(typeof n[l]>"u")W=N;else if(n[l]instanceof RegExp)for(v=0;v<D.length;v++)n[l].test(D[v].name)&&(W.push(D[v]),D.splice(v,1),v--);else for(v=0;v<D.length;v++)(n[l]+""==v+""||n[l]===D[v].name||n[l]instanceof Object&&n[l].name===D[v].name)&&(W.push(D[v]),D.splice(v,1),v--);return W==_?_:_.concat(D).concat(N)}function Re(n,s){var l;s instanceof RegExp?l="Port matching "+s+" not found":s instanceof Object||typeof s>"u"?l="Port not found":l='Port "'+s+'" not found',n._crash(l)}function Lt(n,s){if(this._bad)n._crash(this._err());else{var l=de(s,qe);if(!l.length){Re(n,s);return}for(var v=function(N){return function(){N.engine._openOut(this,N.name)}},_=0;_<l.length;_++)l[_]=v(l[_]);n._slip(J,[l]),n._resume()}}j.prototype.openMidiOut=function(n){var s=new x;return this._push(U,[]),this._push(Lt,[s,n]),s._thenable()},j.prototype._openMidiOutNR=function(n){var s=new x;return this._push(Lt,[s,n]),s._thenable()};function h(n,s){if(this._bad)n._crash(this._err());else{var l=de(s,et);if(!l.length){Re(n,s);return}for(var v=function(N){return function(){N.engine._openIn(this,N.name)}},_=0;_<l.length;_++)l[_]=v(l[_]);n._slip(J,[l]),n._resume()}}j.prototype.openMidiIn=function(n){var s=new x;return this._push(U,[]),this._push(h,[s,n]),s._thenable()},j.prototype._openMidiInNR=function(n){var s=new x;return this._push(h,[s,n]),s._thenable()};function p(n,s){this._bad?n._crash():(n._slip(Ni,[s]),n._resume())}j.prototype.onChange=function(n){this._orig._watcher||(this._orig._watcher=new Ut);var s=this._orig._watcher._image();return this._push(p,[s,n]),s._thenable()},j.prototype._close=function(){A._close()};function x(){O.apply(this),this._handles=[],this._outs=[]}x.prototype=new O,x.prototype._filter=function(n){if(this._orig._mpe){var s,l=0;this._handles&&this._handles.length&&(l=this._handles.length,s=this._handles[0]),this._outs&&this._outs.length&&(l=this._outs.length,s=this._outs[0]),l==1&&!s._mpe&&(n=this._orig._mpe.filter(n))}return n},x.prototype._receive=function(n){this._emit(this._filter(n))};function B(n){this._bad||this._receive(n)}x.prototype.send=function(){return this._push(B,[z.apply(null,arguments)]),this._thenable()},x.prototype.note=function(n,s,l,v){return this.noteOn(n,s,l),typeof this._ch>"u"&&typeof this._master>"u"?v>0&&this.wait(v).noteOff(n,s):l>0&&this.wait(l).noteOff(n),this._thenable()};function z(n){return n.isMidi2?new he(n):L.apply(null,arguments)}x.prototype._emit=function(n){var s,l;for(s=0;s<this._handles.length;s++)l=z(n),this._handles[s].apply(this,[l._stamp(this)]);for(s=0;s<this._outs.length;s++)l=z(n),l._stamped(this._outs[s])||this._outs[s].send(l._stamp(this))};function H(n){this._emit(n)}x.prototype.emit=function(n){return this._push(H,[n]),this._thenable()};function ee(n){E(n)?$(this._orig._handles,n):$(this._orig._outs,n)}function ve(n){typeof n>"u"?(this._orig._handles=[],this._orig._outs=[]):E(n)?V(this._orig._handles,n):V(this._orig._outs,n)}x.prototype.connect=function(n){return this._push(ee,[n]),this._thenable()},x.prototype.disconnect=function(n){return this._push(ve,[n]),this._thenable()},x.prototype.connected=function(){return this._orig._handles.length+this._orig._outs.length},x.prototype._image=function(){var n=this._dup();return n._gr=this._gr,n._ch=this._ch,n._sxid=this._sxid,n._master=this._master,n._band=this._band,n},x.prototype._sxid=127,x.prototype.sxId=function(n){if(typeof n>"u"&&(n=x.prototype._sxid),n==this._sxid)return this._thenable();n=ie(n);var s=this._image();return s._sxid=n,this._push(b,[s]),s._thenable()},x.prototype.ch=function(n){if(n==this._ch||typeof n>"u"&&typeof this._ch>"u")return this._thenable();var s=this._image();return typeof n<"u"&&(n=se(n)),s._ch=n,s._master=void 0,s._band=void 0,this._push(b,[s]),s._thenable()},x.prototype.MIDI1=function(){var n=this._image();return n._ch=void 0,n._sxid=x.prototype._sxid,n._master=void 0,n._band=void 0,this._push(b,[n]),n._thenable()},x.prototype.MIDI2=function(){var n=this._image();n._ch=void 0,n._sxid=x.prototype._sxid,n._master=void 0,n._band=void 0;var s=new Te(n);return this._push(b,[s]),s._thenable()};function be(n,s){this._orig._mpe||(this._orig._mpe=new yn),this._orig._mpe.setup(n,s)}x.prototype.mpe=function(n,s){if(n==this._master&&s==this._band||typeof n>"u"&&typeof this._master>"u")return this._thenable();if(typeof n<"u"&&yn.validate(n,s),!s)return this.ch(n);var l=this._image();return l._ch=void 0,l._master=n,l._band=s,this._push(be,[n,s]),this._push(b,[l]),l._thenable()};function mt(n){if(n!=parseInt(n)||n<0||n>15)throw RangeError("Bad channel value (must not be less than 0 or more than 15): "+n)}function Te(n){O.apply(this),this._sink=n}Te.prototype=new O,Te.prototype._sxid=x.prototype._sxid,Te.prototype._receive=function(n){this._sink._receive(n)};function Or(n){return n.isMidi&&!n.isMidi2?new L(n):he.apply(null,arguments)}Te.prototype.send=function(){return this._push(B,[Or.apply(null,arguments)]),this._thenable()},Te.prototype._image=x.prototype._image,Te.prototype.connect=function(n){return this._sink.connect(n),this._push(b,[this._sink]),this._thenable()},Te.prototype.disconnect=function(n){return this._sink.disconnect(n),this._push(b,[this._sink]),this._thenable()},Te.prototype.connected=function(){return this._sink.connected()},Te.prototype.sxId=x.prototype.sxId,Te.prototype.ch=x.prototype.ch,Te.prototype.gr=function(n){if(n==this._gr||typeof n>"u"&&typeof this._gr>"u")return this._thenable();var s=this._image();return typeof n<"u"&&(n=ie(n)),s._gr=n,this._push(b,[s]),s._thenable()},Te.prototype.MIDI1=function(){var n=this._sink._image();return this._push(b,[n]),n._thenable()},Te.prototype.MIDI2=function(){var n=this._image();return n._gr=void 0,n._ch=void 0,n._sxid=x.prototype._sxid,this._push(b,[n]),n._thenable()};function Ut(){O.apply(this),this._handles=[],P(this,ye,"refresh"),P(this,ye,"openMidiOut"),P(this,ye,"openMidiIn"),P(this,ye,"onChange"),P(this,ye,"close")}Ut.prototype=new O;function Ni(n){E(n)&&(this._orig._handles.length||A._watch(),$(this._orig._handles,n))}function Di(n){typeof n>"u"?this._orig._handles=[]:V(this._orig._handles,n),this._orig._handles.length||A._unwatch()}Ut.prototype.connect=function(n){return this._push(Ni,[n]),this._thenable()},Ut.prototype.disconnect=function(n){return this._push(Di,[n]),this._thenable()};function Sn(n,s,l,v){var _;if(n.length!=l.length||s.length!=v.length)return!0;for(_=0;_<n.length;_++)if(n[_].name!=l[_].name)return!0;for(_=0;_<s.length;_++)if(s[_].name!=v[_].name)return!0;return!1}function zi(n,s,l,v){if(Sn(n,s,l,v)){var _=[],N=[],D=[],W=[],Q,ae={};for(Q=0;Q<n.length;Q++)ae[n[Q].name]=!0;for(Q=0;Q<l.length;Q++)ae[l[Q].name]||_.push(l[Q]);for(ae={},Q=0;Q<l.length;Q++)ae[l[Q].name]=!0;for(Q=0;Q<n.length;Q++)ae[n[Q].name]||D.push(n[Q]);for(ae={},Q=0;Q<s.length;Q++)ae[s[Q].name]=!0;for(Q=0;Q<v.length;Q++)ae[v[Q].name]||N.push(v[Q]);for(ae={},Q=0;Q<v.length;Q++)ae[v[Q].name]=!0;for(Q=0;Q<s.length;Q++)ae[s[Q].name]||W.push(s[Q]);return{inputs:{added:_,removed:D},outputs:{added:N,removed:W}}}}function pa(n){for(a=0;a<ye._watcher._handles.length;a++)ye._watcher._handles[a].apply(ye,[n])}var ye,A={_outs:[],_ins:[]},bt={_outs:[],_ins:[]};function Zr(){if(e.exports){var n=By();if(n){Lo(n);return}}this._break()}function nr(){var n=document.createElement("div");n.style.visibility="hidden",document.body.appendChild(n);var s=document.createElement("object");if(s.style.visibility="hidden",s.style.width="0px",s.style.height="0px",s.classid="CLSID:1ACE1618-1C7D-4561-AEE1-34842AA85E90",s.type="audio/x-jazz",document.body.appendChild(s),s.isJazz){Pn(s);return}this._break()}var Fi,Tt;function Fo(){if(typeof navigator<"u"&&navigator.requestMIDIAccess){Fi=navigator,Tt=navigator.requestMIDIAccess;try{Tt.toString().indexOf("JZZ(")!=-1&&(Tt=void 0)}catch{}}}function rr(){if(Fo(),Tt){var n=this,s=function(_){Li(_),n._resume()},l=function(_){n._crash(_)},v={};Tt.call(Fi,v).then(s,l),this._pause();return}this._break()}function va(){if(Fo(),Tt){var n=this,s=function(_){Li(_,!0),n._resume()},l=function(_){n._crash(_)},v={sysex:!0};Tt.call(Fi,v).then(s,l),this._pause();return}this._break()}function ir(){var n=this,s,l;function v(_){s=!0;var N=_.detail;if(!N){if(l||(l=document.getElementById("jazz-midi-msg")),!l)return;try{N=JSON.parse(l.innerText)}catch{}l.innerText=""}document.removeEventListener("jazz-midi-msg",v),N[0]==="version"?(bn(l,N[2]),n._resume()):n._crash()}this._pause();try{document.addEventListener("jazz-midi-msg",v),document.dispatchEvent(new Event("jazz-midi"))}catch{}setTimeout(function(){s||n._crash()},50)}function ya(){this._pause();var n=this;f(function(){n._crash()})}function or(n){for(var s=[],l=ga(n),v=0;v<l.length;v++)l[v]=="webmidi"?(n&&n.sysex===!0&&s.push(va),(!n||n.sysex!==!0||n.degrade===!0)&&s.push(rr)):l[v]=="node"?(s.push(Zr),s.push(ya)):l[v]=="extension"?s.push(ir):l[v]=="plugin"&&s.push(nr);return s.push(_t),s}function ga(n){var s=["node","extension","plugin","webmidi"];if(!n||!n.engine)return s;var l=n.engine instanceof Array?n.engine:[n.engine],v={},_,N,D=[],W=[],Q;for(Q=0;Q<l.length;Q++){var ae=l[Q].toString().toLowerCase();v[ae]||(v[ae]=!0,ae==="none"&&(_=!0),(ae==="etc"||typeof ae>"u")&&(N=!0),N?W.push(ae):D.push(ae),V(s,ae))}return(N||D.length||W.length)&&(_=!1),_?[]:D.concat(N?s:W)}function sr(n){ye=new j,ye._options=n,ye._push(J,[or(n)]),ye.refresh(),ye._resume()}function _t(){A._type="none",A._version=i,A._sysex=!0,A._outs=[],A._ins=[],A._refresh=function(){te()},A._watch=w,A._unwatch=w,A._close=w}function Nr(){A._inArr=[],A._outArr=[],A._inMap={},A._outMap={},A._outsW=[],A._insW=[],A._version=A._main.version,A._sysex=!0;var n;function s(){for(var l=0;l<this.clients.length;l++)this._close(this.clients[l])}A._refresh=function(){A._outs=[],A._ins=[];var l,v;for(l=0;(v=A._main.MidiOutInfo(l)).length;l++)A._outs.push({type:A._type,name:v[0],manufacturer:v[1],version:v[2]});for(l=0;(v=A._main.MidiInInfo(l)).length;l++)A._ins.push({type:A._type,name:v[0],manufacturer:v[1],version:v[2]});te()},A._openOut=function(l,v){var _=A._outMap[v];if(!_){A._pool.length<=A._outArr.length&&A._pool.push(A._newPlugin()),_={name:v,clients:[],info:{name:v,manufacturer:A._allOuts[v].manufacturer,version:A._allOuts[v].version,type:"MIDI-out",sysex:A._sysex,engine:A._type},_close:function(W){A._closeOut(W)},_closeAll:s,_receive:function(W){W.length&&this.plugin.MidiOutRaw(W.slice())}};var N=A._pool[A._outArr.length];_.plugin=N,A._outArr.push(_),A._outMap[v]=_}if(!_.open){var D=_.plugin.MidiOutOpen(v);if(D!==v){D&&_.plugin.MidiOutClose(),l._break();return}_.open=!0}l._orig._impl=_,$(_.clients,l._orig),l._info=_.info,l._receive=function(W){_._receive(W)},l._close=function(){_._close(this)}},A._openIn=function(l,v){var _=A._inMap[v];if(!_){A._pool.length<=A._inArr.length&&A._pool.push(A._newPlugin()),_={name:v,clients:[],info:{name:v,manufacturer:A._allIns[v].manufacturer,version:A._allIns[v].version,type:"MIDI-in",sysex:A._sysex,engine:A._type},_close:function(Q){A._closeIn(Q)},_closeAll:s,handle:function(Q,ae){for(var $e=0;$e<this.clients.length;$e++){var qn=L(ae);this.clients[$e]._emit(qn)}}};var N=function(Q){return function(ae,$e){Q.handle(ae,$e)}};_.onmidi=N(_);var D=A._pool[A._inArr.length];_.plugin=D,A._inArr.push(_),A._inMap[v]=_}if(!_.open){var W=_.plugin.MidiInOpen(v,_.onmidi);if(W!==v){W&&_.plugin.MidiInClose(),l._break();return}_.open=!0}l._orig._impl=_,$(_.clients,l._orig),l._info=_.info,l._close=function(){_._close(this)}},A._closeOut=function(l){var v=l._impl;V(v.clients,l._orig),!v.clients.length&&v.open&&(v.open=!1,v.plugin.MidiOutClose())},A._closeIn=function(l){var v=l._impl;V(v.clients,l._orig),!v.clients.length&&v.open&&(v.open=!1,v.plugin.MidiInClose())},A._close=function(){for(var l=0;l<A._inArr.length;l++)A._inArr[l].open&&A._inArr[l].plugin.MidiInClose();A._unwatch()},A._watch=function(){n||(n=setInterval(function(){A._refresh()},250))},A._unwatch=function(){n&&clearInterval(n),n=void 0}}function Lo(n){A._type="node",A._main=n,A._pool=[],A._newPlugin=function(){return new n.MIDI},Nr()}function Pn(n){A._type="plugin",A._main=n,A._pool=[n],A._newPlugin=function(){var s=document.createElement("object");return s.style.visibility="hidden",s.style.width="0px",n.style.height="0px",s.classid="CLSID:1ACE1618-1C7D-4561-AEE1-34842AA85E90",s.type="audio/x-jazz",document.body.appendChild(s),s.isJazz?s:void 0},Nr()}function Li(n,s){A._type="webmidi",A._version=43,A._sysex=!!s,A._access=n,A._inMap={},A._outMap={},A._outsW=[],A._insW=[];var l;function v(){for(var _=0;_<this.clients.length;_++)this._close(this.clients[_])}A._refresh=function(){A._outs=[],A._ins=[],A._access.outputs.forEach(function(_){A._outs.push({type:A._type,name:_.name,manufacturer:_.manufacturer,version:_.version})}),A._access.inputs.forEach(function(_){A._ins.push({type:A._type,name:_.name,manufacturer:_.manufacturer,version:_.version})}),te()},A._openOut=function(_,N){var D=A._outMap[N];D||(D={name:N,clients:[],info:{name:N,manufacturer:A._allOuts[N].manufacturer,version:A._allOuts[N].version,type:"MIDI-out",sysex:A._sysex,engine:A._type},_close:function(Q){A._closeOut(Q)},_closeAll:v,_receive:function(Q){D.dev&&Q.length&&this.dev.send(Q.slice())}});var W;A._access.outputs.forEach(function(Q){Q.name===N&&(W=Q)}),W?(D.dev=W,A._outMap[N]=D,_._orig._impl=D,$(D.clients,_._orig),_._info=D.info,_._receive=function(Q){D._receive(Q)},_._close=function(){D._close(this)},D.dev.open&&(_._pause(),D.dev.open().then(function(){_._resume()},function(){_._crash()}))):_._break()},A._openIn=function(_,N){var D=A._inMap[N];D||(D={name:N,clients:[],info:{name:N,manufacturer:A._allIns[N].manufacturer,version:A._allIns[N].version,type:"MIDI-in",sysex:A._sysex,engine:A._type},_close:function(ae){A._closeIn(ae)},_closeAll:v,handle:function(ae){for(var $e=0;$e<this.clients.length;$e++){var qn=L([].slice.call(ae.data));this.clients[$e]._emit(qn)}}});var W;if(A._access.inputs.forEach(function(ae){ae.name===N&&(W=ae)}),W){D.dev=W;var Q=function(ae){return function($e){ae.handle($e)}};D.dev.onmidimessage=Q(D),A._inMap[N]=D,_._orig._impl=D,$(D.clients,_._orig),_._info=D.info,_._close=function(){D._close(this)},D.dev.open&&(_._pause(),D.dev.open().then(function(){_._resume()},function(){_._crash()}))}else _._break()},A._closeOut=function(_){var N=_._impl;V(N.clients,_._orig),N.clients.length||(N.dev&&N.dev.close&&N.dev.close(),N.dev=void 0)},A._closeIn=function(_){var N=_._impl;V(N.clients,_._orig),N.clients.length||(N.dev&&(N.dev.onmidimessage=null,N.dev.close&&N.dev.close()),N.dev=void 0)},A._close=function(){A._unwatch()},A._watch=function(){A._access.onstatechange=function(){l=!0,f(function(){l&&(A._refresh(),l=!1)})}},A._unwatch=function(){A._access.onstatechange=void 0}}function bn(n,s){A._type="extension",A._version=s,A._sysex=!0,A._pool=[],A._outs=[],A._ins=[],A._inArr=[],A._outArr=[],A._inMap={},A._outMap={},A._outsW=[],A._insW=[],A.refreshClients=[],A._msg=n,A._newPlugin=function(){var _={id:A._pool.length};A._pool.push(_),_.id?document.dispatchEvent(new CustomEvent("jazz-midi",{detail:["new"]})):_.ready=!0},A._newPlugin(),A._refresh=function(_){A.refreshClients.push(_),_._pause(),f(function(){document.dispatchEvent(new CustomEvent("jazz-midi",{detail:["refresh"]}))})};function l(){for(var _=0;_<this.clients.length;_++)this._close(this.clients[_])}A._openOut=function(_,N){var D=A._outMap[N];if(!D){A._pool.length<=A._outArr.length&&A._newPlugin();var W=A._pool[A._outArr.length];D={name:N,clients:[],info:{name:N,manufacturer:A._allOuts[N].manufacturer,version:A._allOuts[N].version,type:"MIDI-out",sysex:A._sysex,engine:A._type},_start:function(){document.dispatchEvent(new CustomEvent("jazz-midi",{detail:["openout",W.id,N]}))},_close:function(Q){A._closeOut(Q)},_closeAll:l,_receive:function(Q){if(Q.length){var ae=Q.slice();ae.splice(0,0,"play",W.id),document.dispatchEvent(new CustomEvent("jazz-midi",{detail:ae}))}}},D.plugin=W,W.output=D,A._outArr.push(D),A._outMap[N]=D}_._orig._impl=D,$(D.clients,_._orig),_._info=D.info,_._receive=function(Q){D._receive(Q)},_._close=function(){D._close(this)},D.open||(_._pause(),D.plugin.ready&&D._start())},A._openIn=function(_,N){var D=A._inMap[N];if(!D){A._pool.length<=A._inArr.length&&A._newPlugin();var W=A._pool[A._inArr.length];D={name:N,clients:[],info:{name:N,manufacturer:A._allIns[N].manufacturer,version:A._allIns[N].version,type:"MIDI-in",sysex:A._sysex,engine:A._type},_start:function(){document.dispatchEvent(new CustomEvent("jazz-midi",{detail:["openin",W.id,N]}))},_close:function(Q){A._closeIn(Q)},_closeAll:l},D.plugin=W,W.input=D,A._inArr.push(D),A._inMap[N]=D}_._orig._impl=D,$(D.clients,_._orig),_._info=D.info,_._close=function(){D._close(this)},D.open||(_._pause(),D.plugin.ready&&D._start())},A._closeOut=function(_){var N=_._impl;V(N.clients,_._orig),!N.clients.length&&N.open&&(N.open=!1,document.dispatchEvent(new CustomEvent("jazz-midi",{detail:["closeout",N.plugin.id]})))},A._closeIn=function(_){var N=_._impl;V(N.clients,_._orig),!N.clients.length&&N.open&&(N.open=!1,document.dispatchEvent(new CustomEvent("jazz-midi",{detail:["closein",N.plugin.id]})))},A._close=function(){A._unwatch()};var v;A._watch=function(){A._insW=A._ins,A._outsW=A._outs,v=setInterval(function(){document.dispatchEvent(new CustomEvent("jazz-midi",{detail:["refresh"]}))},250)},A._unwatch=function(){clearInterval(v),v=void 0},document.addEventListener("jazz-midi-msg",function(_){var N,D,W,Q=_.detail?[_.detail]:void 0;if(!Q)for(Q=A._msg.innerText.split(`
`),A._msg.innerText="",N=0;N<Q.length;N++)try{Q[N]=JSON.parse(Q[N])}catch{Q[N]=[]}for(N=0;N<Q.length;N++){var ae=Q[N];if(ae.length){if(ae[0]==="refresh"){if(ae[1].ins){for(D=0;D<ae[1].ins.length;D++)ae[1].ins[D].type=A._type;A._ins=ae[1].ins}if(ae[1].outs){for(D=0;D<ae[1].outs.length;D++)ae[1].outs[D].type=A._type;A._outs=ae[1].outs}for(te(),D=0;D<A.refreshClients.length;D++)A.refreshClients[D]._resume();A.refreshClients=[]}else if(ae[0]==="version"){var $e=A._pool[ae[1]];$e&&($e.ready=!0,$e.input&&$e.input._start(),$e.output&&$e.output._start())}else if(ae[0]==="openout"){if(W=A._pool[ae[1]].output,W){if(ae[2]==W.name){if(W.open=!0,W.clients)for(D=0;D<W.clients.length;D++)W.clients[D]._resume()}else if(W.clients)for(D=0;D<W.clients.length;D++)W.clients[D]._crash()}}else if(ae[0]==="openin"){if(W=A._pool[ae[1]].input,W){if(ae[2]==W.name){if(W.open=!0,W.clients)for(D=0;D<W.clients.length;D++)W.clients[D]._resume()}else if(W.clients)for(D=0;D<W.clients.length;D++)W.clients[D]._crash()}}else if(ae[0]==="midi"&&(W=A._pool[ae[1]].input,W&&W.clients))for(D=0;D<W.clients.length;D++){var qn=L(ae.slice(3));W.clients[D]._emit(qn)}}}})}var re=function(n){return ye||sr(n),ye._thenable()};re.JZZ=re,re.version=i,re.info=function(){return j.prototype.info()};function Tn(n){var s=new x;return n instanceof Object&&fe(n,function(l){s[l]=n[l]}),s._resume(),s}re.Widget=Tn,j.prototype.Widget=re.Widget,re.addMidiIn=function(n,s){var l=Ie(s._info||{});l.name=n,l.type=l.type||"javascript",l.manufacturer=l.manufacturer||"virtual",l.version=l.version||"0.0";var v={_info:function(){return l},_openIn:function(_){_._pause(),_._info=Ie(l),_._close=function(){s.disconnect(_)},s.connect(_),_._resume()}};return re.lib.registerMidiIn(n,v)},j.prototype.addMidiIn=re.addMidiIn,re.addMidiOut=function(n,s){var l=Ie(s._info||{});l.name=n,l.type=l.type||"javascript",l.manufacturer=l.manufacturer||"virtual",l.version=l.version||"0.0";var v={_info:function(){return l},_openOut:function(_){_._pause(),_._info=Ie(l),_._close=function(){_.disconnect()},ee.apply(_,[s]),_._resume()}};return re.lib.registerMidiOut(n,v)},j.prototype.addMidiOut=re.addMidiOut,re.maskMidiIn=function(n){X[n]=!0},j.prototype.maskMidiIn=re.maskMidiIn,re.unmaskMidiIn=function(n){delete X[n]},j.prototype.unmaskMidiIn=re.unmaskMidiIn,re.maskMidiOut=function(n){We[n]=!0},j.prototype.maskMidiOut=re.maskMidiOut,re.unmaskMidiOut=function(n){delete We[n]},j.prototype.unmaskMidiOut=re.unmaskMidiOut;function Ee(){var n=this instanceof Ee?this:n=new Ee;return Ee.prototype.reset.apply(n,arguments),n}Ee.prototype.reset=function(n){if(n instanceof Ee)return this.setType(n.getType()),this.setHour(n.getHour()),this.setMinute(n.getMinute()),this.setSecond(n.getSecond()),this.setFrame(n.getFrame()),this.setQuarter(n.getQuarter()),this;var s=n instanceof Array?n:arguments;return this.setType(s[0]),this.setHour(s[1]),this.setMinute(s[2]),this.setSecond(s[3]),this.setFrame(s[4]),this.setQuarter(s[5]),this};function Mt(){this.type==29.97&&!this.second&&this.frame<2&&this.minute%10&&(this.frame=2)}Ee.prototype.isFullFrame=function(){return this.quarter==0||this.quarter==4},Ee.prototype.getType=function(){return this.type},Ee.prototype.getHour=function(){return this.hour},Ee.prototype.getMinute=function(){return this.minute},Ee.prototype.getSecond=function(){return this.second},Ee.prototype.getFrame=function(){return this.frame},Ee.prototype.getQuarter=function(){return this.quarter},Ee.prototype.setType=function(n){if(typeof n>"u"||n==24)this.type=24;else if(n==25)this.type=25;else if(n==29.97)this.type=29.97,Mt.apply(this);else if(n==30)this.type=30;else throw RangeError("Bad SMPTE frame rate: "+n);return this.frame>=this.type&&(this.frame=this.type-1),this},Ee.prototype.setHour=function(n){if(typeof n>"u"&&(n=0),n!=parseInt(n)||n<0||n>=24)throw RangeError("Bad SMPTE hours value: "+n);return this.hour=n,this},Ee.prototype.setMinute=function(n){if(typeof n>"u"&&(n=0),n!=parseInt(n)||n<0||n>=60)throw RangeError("Bad SMPTE minutes value: "+n);return this.minute=n,Mt.apply(this),this},Ee.prototype.setSecond=function(n){if(typeof n>"u"&&(n=0),n!=parseInt(n)||n<0||n>=60)throw RangeError("Bad SMPTE seconds value: "+n);return this.second=n,Mt.apply(this),this},Ee.prototype.setFrame=function(n){if(typeof n>"u"&&(n=0),n!=parseInt(n)||n<0||n>=this.type)throw RangeError("Bad SMPTE frame number: "+n);return this.frame=n,Mt.apply(this),this},Ee.prototype.setQuarter=function(n){if(typeof n>"u"&&(n=0),n!=parseInt(n)||n<0||n>=8)throw RangeError("Bad SMPTE quarter frame: "+n);return this.quarter=n,this},Ee.prototype.incrFrame=function(){return this.frame++,this.frame>=this.type&&(this.frame=0,this.second++,this.second>=60&&(this.second=0,this.minute++,this.minute>=60&&(this.minute=0,this.hour=this.hour>=23?0:this.hour+1))),Mt.apply(this),this},Ee.prototype.decrFrame=function(){return!this.second&&this.frame==2&&this.type==29.97&&this.minute%10&&(this.frame=0),this.frame--,this.frame<0&&(this.frame=this.type==29.97?29:this.type-1,this.second--,this.second<0&&(this.second=59,this.minute--,this.minute<0&&(this.minute=59,this.hour=this.hour?this.hour-1:23))),this},Ee.prototype.incrQF=function(){return this.backwards=!1,this.quarter=this.quarter+1&7,(this.quarter==0||this.quarter==4)&&this.incrFrame(),this},Ee.prototype.decrQF=function(){return this.backwards=!0,this.quarter=this.quarter+7&7,(this.quarter==3||this.quarter==7)&&this.decrFrame(),this};function Uo(n){return[[24,25,29.97,30][n[7]>>1&3],(n[7]&1)<<4|n[6],n[5]<<4|n[4],n[3]<<4|n[2],n[1]<<4|n[0]]}Ee.prototype.read=function(n){if(n instanceof L||(n=L.apply(null,arguments)),n[0]==240&&n[1]==127&&n[3]==1&&n[4]==1&&n[9]==247)return this.type=[24,25,29.97,30][n[5]>>5&3],this.hour=n[5]&31,this.minute=n[6],this.second=n[7],this.frame=n[8],this.quarter=0,this._=void 0,this._b=void 0,this._f=void 0,!0;if(n[0]==241&&typeof n[1]<"u"){var s=n[1]>>4,l=n[1]&15;return s==0?this._==7&&(this._f==7&&(this.reset(Uo(this._a)),this.incrFrame()),this.incrFrame()):s==3?this._==4&&this.decrFrame():s==4?this._==3&&this.incrFrame():s==7&&this._===0&&(this._b===0&&(this.reset(Uo(this._a)),this.decrFrame()),this.decrFrame()),this._a||(this._a=[]),this._a[s]=l,this._f=this._f===s-1||s==0?s:void 0,this._b=this._b===s+1||s==7?s:void 0,this._=s,this.quarter=s,!0}return!1};function Mn(n){!n.backwards&&n.quarter>=4?n.decrFrame():n.backwards&&n.quarter<4&&n.incrFrame();var s;switch(n.quarter>>1){case 0:s=n.frame;break;case 1:s=n.second;break;case 2:s=n.minute;break;default:s=n.hour}return n.quarter&1?s>>=4:s&=15,n.quarter==7&&(n.type==25?s|=2:n.type==29.97?s|=4:n.type==30&&(s|=6)),!n.backwards&&n.quarter>=4?n.incrFrame():n.backwards&&n.quarter<4&&n.decrFrame(),s|n.quarter<<4}function ma(n){return n.type==25?n.hour|32:n.type==29.97?n.hour|64:n.type==30?n.hour|96:n.hour}function In(n){return n<10?"0"+n:n}function Vo(n){for(var s=[],l=0;l<n.length;l++)s[l]=In(l?n[l]:n[l]&31);return s.join(":")}Ee.prototype.toString=function(){return Vo([this.hour,this.minute,this.second,this.frame])},re.SMPTE=Ee,j.prototype.SMPTE=Ee;function L(n){var s=this instanceof L?this:s=new L,l;if(n instanceof L)return s._from=n._from.slice(),fe(n,function(_){_!="_from"&&(s[_]=n[_])}),s;if(s._from=[],typeof n>"u")return s;var v=n instanceof Array?n:arguments;for(l=0;l<v.length;l++)m=v[l],l==1&&(s[0]>=128&&s[0]<=175&&(m=L.noteValue(m)),s[0]>=192&&s[0]<=207&&(m=L.programValue(m))),(m!=parseInt(m)||m<0||m>255)&&An(v[l]),s.push(m);return s}L.prototype=[],L.prototype.constructor=L,L.prototype.isMidi=function(){return 1};var tt={};L.noteValue=function(n){return typeof n>"u"?void 0:tt[n.toString().toLowerCase()]},L.programValue=function(n){return n},L.octaveValue=function(n){var s=tt[n.toString().toLowerCase()];return typeof s>"u"&&(s=tt[n.toString().toLowerCase()+"1"]),typeof s>"u"?void 0:s%12},L.freq=function(n,s){return typeof s>"u"&&(s=440),lt(s),n!=parseFloat(n)&&(n=ke(n)),s*Math.pow(2,(n-69)/12)};function lt(n){if(n!=parseFloat(n))throw TypeError("Not a number: "+n)}L.shift=function(n,s){return typeof s>"u"&&(s=440),lt(n),lt(s),Math.log2(n/s)*12},L.midi=function(n,s){return n!=parseFloat(n)?ke(n):L.shift(n,s)+69},L.to7b=function(n){return lt(n),n<=0?0:n>=1?127:Math.floor(n*128)},L.to14b=function(n){return lt(n),n<=0?0:n>=1?16383:Math.floor(n*16384)},L.to21b=function(n){return typeof n>"u"?2097151:(lt(n),n<=0?0:(n=(Math.floor(n)<<14)+L.to14b(n-Math.floor(n)),n<2097151?n:2097150))};function Ui(){}Ui.prototype=L,L._sxid=127,L.sxId=function(n){if(typeof n>"u"&&(n=L._sxid),n==this._sxid)return this;n=ie(n);var s=new Ui;return s._ch=this._ch,s._sxid=n,s},L.ch=function(n){if(n==this._ch||typeof n>"u"&&typeof this._ch>"u")return this;var s=new Ui;return typeof n<"u"&&(n=se(n)),s._ch=n,s._sxid=this._sxid,s};var hn={c:0,d:2,e:4,f:5,g:7,a:9,b:11,h:11};for(fe(hn,function(n){for(m=0;m<12&&(g=hn[n]+m*12,!(g>127));m++)tt[n+m]=g,tt[n+""+m]=g,g>0&&(tt[n+"b"+m]=g-1,tt[n+""+m]=g-1,tt[n+"bb"+m]=g-2,tt[n+""+m]=g-2,tt[n+""+m]=g-2),g<127&&(tt[n+"#"+m]=g+1,tt[n+""+m]=g+1,tt[n+"##"+m]=g+2,tt[n+""+m]=g+2,tt[n+""+m]=g+2)}),m=0;m<128;m++)tt[m]=m;function An(n){throw RangeError("Bad MIDI value: "+n)}function fn(n){throw TypeError("Invalid value: "+n)}function Vi(n){throw RangeError("Out of range: "+n)}function se(n){return mt(n),parseInt(n)}function Me(n){if(n!=parseInt(n)||n<0||n>15)throw RangeError("Expected a 4-bit value: "+n);return parseInt(n)}function ie(n,s){return(n!=parseInt(n)||n<0||n>127)&&An(typeof s>"u"?n:s),parseInt(n)}function Vt(n){return(n!=parseInt(n)||n<0||n>255)&&An(n),parseInt(n)}function jo(n){return(n!=parseInt(n)||n<0||n>16383)&&An(n),parseInt(n)}function nt(n){if(n!=parseInt(n)||n<0||n>65535)throw RangeError("Expected a 16-bit value: "+n);return parseInt(n)}function _a(n){if(n!=parseInt(n)||n<0||n>1048575)throw RangeError("Expected a 20-bit value: "+n);return parseInt(n)}function Jr(n){return(n!=parseInt(n)||n<0||n>2097151)&&An(n),parseInt(n)}function ke(n){return ie(L.noteValue(n),n)}function Qe(n){return jo(n)&127}function Ae(n){return jo(n)>>7}function wa(n){n=""+n;for(var s=0;s<n.length;s++)n.charCodeAt(s)>255&&An(n[s]);return n}function It(n){return[n>>14,n>>7&127,n&127]}function At(n,s){return n!=parseFloat(n)&&fn(typeof s>"u"?n:s),(n<0||n>1)&&Vi(typeof s>"u"?n:s),parseFloat(n)}function Dr(n){return typeof n<"u"&&!n?126:127}function Ho(n){var s,l,v=[],_={};fe(n,function(D){if(l=Jr(n[D]),D=ke(D),D in _)throw RangeError("Duplicate MIDI value: "+D);v.push(D),_[D]=l}),v.sort();var N=[v.length];for(s=0;s<v.length;s++)N=N.concat([v[s]],It(_[v[s]]));return N}function Vn(n){var s={};return fe(n,function(l){s[l]=L.to21b(n[l]==parseFloat(n[l])?n[l]:ke(n[l]))}),s}function qo(n){var s={};return fe(n,function(l){s[l]=L.to21b(L.midi(n[l]))}),s}function ar(n){var s=[];if(!(n instanceof Array)||n.length!=12)throw TypeError("Expected an array of size 12");for(var l=0;l<12;l++)s.push(ie(n[l]));return s}function xa(n){var s=[];if(!(n instanceof Array)||n.length!=12)throw TypeError("Expected an array of size 12");for(var l=0;l<12;l++)s.push(Ae(n[l])),s.push(Qe(n[l]));return s}var dn={noteOff:function(n,s,l){return typeof l>"u"&&(l=64),[128+se(n),ke(s),ie(l)]},noteOn:function(n,s,l){return typeof l>"u"&&(l=127),[144+se(n),ke(s),ie(l)]},aftertouch:function(n,s,l){return[160+se(n),ke(s),ie(l)]}},ue={control:function(n,s,l){return[176+se(n),ie(s),ie(l)]},program:function(n,s){return[192+se(n),ie(L.programValue(s),s)]},pressure:function(n,s){return[208+se(n),ie(s)]},pitchBend:function(n,s,l){return typeof l>"u"?[224+se(n),Qe(s),Ae(s)]:[224+se(n),ie(l),ie(s)]},pitchBendF:function(n,s){return ue.pitchBend(n,L.to14b((s+1)/2))},bankMSB:function(n,s){return[176+se(n),0,ie(s)]},bankLSB:function(n,s){return[176+se(n),32,ie(s)]},modMSB:function(n,s){return[176+se(n),1,ie(s)]},modLSB:function(n,s){return[176+se(n),33,ie(s)]},breathMSB:function(n,s){return[176+se(n),2,ie(s)]},breathLSB:function(n,s){return[176+se(n),34,ie(s)]},footMSB:function(n,s){return[176+se(n),4,ie(s)]},footLSB:function(n,s){return[176+se(n),36,ie(s)]},portamentoMSB:function(n,s){return[176+se(n),5,ie(s)]},portamentoLSB:function(n,s){return[176+se(n),37,ie(s)]},dataMSB:function(n,s){return[176+se(n),6,ie(s)]},dataLSB:function(n,s){return[176+se(n),38,ie(s)]},volumeMSB:function(n,s){return[176+se(n),7,ie(s)]},volumeLSB:function(n,s){return[176+se(n),39,ie(s)]},balanceMSB:function(n,s){return[176+se(n),8,ie(s)]},balanceLSB:function(n,s){return[176+se(n),40,ie(s)]},panMSB:function(n,s){return[176+se(n),10,ie(s)]},panLSB:function(n,s){return[176+se(n),42,ie(s)]},expressionMSB:function(n,s){return[176+se(n),11,ie(s)]},expressionLSB:function(n,s){return[176+se(n),43,ie(s)]},damper:function(n,s){return typeof s>"u"&&(s=!0),[176+se(n),64,s?127:0]},portamento:function(n,s){return typeof s>"u"&&(s=!0),[176+se(n),65,s?127:0]},sostenuto:function(n,s){return typeof s>"u"&&(s=!0),[176+se(n),66,s?127:0]},soft:function(n,s){return typeof s>"u"&&(s=!0),[176+se(n),67,s?127:0]},legato:function(n,s){return typeof s>"u"&&(s=!0),[176+se(n),68,s?127:0]},hold2:function(n,s){return typeof s>"u"&&(s=!0),[176+se(n),69,s?127:0]},soundVariation:function(n,s){return[176+se(n),70,ke(s)]},filterResonance:function(n,s){return[176+se(n),71,ke(s)]},releaseTime:function(n,s){return[176+se(n),72,ke(s)]},attackTime:function(n,s){return[176+se(n),73,ke(s)]},brightness:function(n,s){return[176+se(n),74,ke(s)]},decayTime:function(n,s){return[176+se(n),75,ke(s)]},vibratoRate:function(n,s){return[176+se(n),76,ke(s)]},vibratoDepth:function(n,s){return[176+se(n),77,ke(s)]},vibratoDelay:function(n,s){return[176+se(n),78,ke(s)]},ptc:function(n,s){return[176+se(n),84,ke(s)]},dataIncr:function(n){return[176+se(n),96,0]},dataDecr:function(n){return[176+se(n),97,0]},nrpnLSB:function(n,s){return[176+se(n),98,ie(s)]},nrpnMSB:function(n,s){return[176+se(n),99,ie(s)]},rpnLSB:function(n,s){return[176+se(n),100,ie(s)]},rpnMSB:function(n,s){return[176+se(n),101,ie(s)]},allSoundOff:function(n){return[176+se(n),120,0]},resetAllControllers:function(n){return[176+se(n),121,0]},localControl:function(n,s){return typeof s>"u"&&(s=!0),[176+se(n),122,s?127:0]},allNotesOff:function(n){return[176+se(n),123,0]},omni:function(n,s){return typeof s>"u"&&(s=!0),[176+se(n),s?125:124,0]},mono:function(n,s){return typeof s>"u"&&(s=1),[176+se(n),126,ie(s)]},poly:function(n){return[176+se(n),127,0]}};function jn(n,s,l,v){return typeof s<"u"?[ie(n),ie(s),ie(l),ie(v)]:((n!=parseInt(n)||n<0||n>65535)&&fn(n),n=parseInt(n),[n>>12&15,n>>8&15,n>>4&15,n&15])}function ur(n){return lt(n),n=Math.round(n*65536+16384),n<0?0:n>65535?65535:n}var ei={mtc:function(n){return[241,Mn(n)]},songPosition:function(n,s){return typeof s>"u"?[242,Qe(n),Ae(n)]:[242,ie(s),ie(n)]},songSelect:function(n){return[243,ie(n)]},tune:function(){return[246]},clock:function(){return[248]},start:function(){return[250]},continue:function(){return[251]},stop:function(){return[252]},active:function(){return[254]},reset:function(){return[255]}},oe={sxIdRequest:function(){return[240,126,this._sxid,6,1,247]},sxTuningDumpRequest:function(n,s){return typeof s>"u"?[240,126,this._sxid,8,0,ie(n),247]:[240,126,this._sxid,8,3,ie(n),ie(s),247]},sxFullFrame:function(n){return[240,127,this._sxid,1,1,ma(n),n.getMinute(),n.getSecond(),n.getFrame(),247]},sxMasterVolume:function(n,s){return typeof s>"u"?[240,127,this._sxid,4,1,Qe(n),Ae(n),247]:[240,127,this._sxid,4,1,ie(s),ie(n),247]},sxMasterVolumeF:function(n){return oe.sxMasterVolume.call(this,L.to14b(At(n)))},sxMasterFineTuning:function(n,s){return typeof s>"u"?[240,127,this._sxid,4,3,Qe(n),Ae(n),247]:[240,127,this._sxid,4,3,ie(s),ie(n),247]},sxMasterFineTuningF:function(n){return oe.sxMasterFineTuning.call(this,L.to14b(At((n%1+1)/2,n)))},sxMasterCoarseTuning:function(n){return[240,127,this._sxid,4,4,0,ie(n),247]},sxMasterCoarseTuningF:function(n){return oe.sxMasterCoarseTuning.call(this,64+(n-n%1))},sxNoteTuning:function(n,s,l,v){return s==parseInt(s)?[240,Dr(v),this._sxid,8,7,ie(n),ie(s)].concat(Ho(l),[247]):[240,127,this._sxid,8,2,ie(n)].concat(Ho(s),[247])},sxNoteTuningF:function(n,s,l,v){return s==parseInt(s)?oe.sxNoteTuning.call(this,n,s,Vn(l),v):oe.sxNoteTuning.call(this,n,Vn(s))},sxNoteTuningHZ:function(n,s,l,v){return s==parseInt(s)?oe.sxNoteTuning.call(this,n,s,qo(l),v):oe.sxNoteTuning.call(this,n,qo(s))},sxScaleTuning1:function(n,s,l){return n==parseInt(n)?[240,Dr(l),this._sxid,8,8].concat(It(nt(n)),ar(s),[247]):oe.sxScaleTuning1.call(this,65535,n,s)},sxScaleTuning1F:function(n,s,l){if(n!=parseInt(n))return oe.sxScaleTuning1F.call(this,65535,n,s);for(var v=[],_=0;_<s.length;_++){if(s[_]<-.64||s[_]>.63)throw RangeError("Out of range: "+s[_]);v.push(Math.floor(s[_]*100+64))}return oe.sxScaleTuning1.call(this,n,v,l)},sxScaleTuning2:function(n,s,l){return n==parseInt(n)?[240,Dr(l),this._sxid,8,9].concat(It(nt(n)),xa(s),[247]):oe.sxScaleTuning2.call(this,65535,n,s)},sxScaleTuning2F:function(n,s,l){if(n!=parseInt(n))return oe.sxScaleTuning2F.call(this,65535,n,s);for(var v=[],_=0;_<s.length;_++){var N=(s[_]+1)/2;if(N<-1||N>1)throw RangeError("Out of range: "+s[_]);v.push(L.to14b((s[_]+1)/2))}return oe.sxScaleTuning2.call(this,n,v,l)},sxGM:function(n){return typeof n>"u"&&(n=1),[240,126,this._sxid,9,n?n==2?3:1:2,247]},sxGS:function(n){for(var s=typeof n>"u"?[64,0,127,0]:n instanceof Array?n:arguments,l=0,v=[240,65,this._sxid,66,18],_=0;_<s.length;_++){var N=ie(s[_]);v.push(N),l+=N}return l%=128,v.push(l?128-l:0),v.push(247),v},sxXG:function(n){var s=typeof n>"u"?[0,0,126,0]:n instanceof Array?n:arguments,l=this._sxid==127?0:this._sxid;l>15&&An("Bad Yamaha device number: "+l);for(var v=[240,67,16+l,76],_=0;_<s.length;_++)v.push(ie(s[_]));return v.push(247),v},sxMidiSoft:function(n,s){var l=[240,0,32,36,0,ie(n||0)];s=typeof s>"u"?"":""+s;for(var v=0;v<s.length;v++)l.push(ie(s.charCodeAt(v)));return l.push(247),l},gsMasterVolume:function(n){return oe.sxGS.call(this,[64,0,4,ie(n)])},gsMasterVolumeF:function(n){return oe.gsMasterVolume.call(this,L.to7b(At(n)))},gsMasterFineTuning:function(n,s,l,v){return n=jn(n,s,l,v),oe.sxGS.call(this,[64,0,0,n[0],n[1],n[2],n[3]])},gsMasterFineTuningF:function(n){return oe.gsMasterFineTuning.call(this,ur(n%1))},gsMasterCoarseTuning:function(n){return oe.sxGS.call(this,[64,0,5,ie(n)])},gsMasterCoarseTuningF:function(n){return oe.gsMasterCoarseTuning.call(this,64+(n-n%1))},gsOctaveTuning:function(n,s,l){return oe.sxGS.call(this,[64,16+[1,2,3,4,5,6,7,8,9,0,11,12,13,14,15][se(n)],64+L.octaveValue(s),ie(l)])},gsOctaveTuningF:function(n,s,l){if(l<-.64||l>.63)throw RangeError("Out of range: "+l);return oe.gsOctaveTuning.call(this,n,s,Math.floor(l*100+64))},xgMasterVolume:function(n){return oe.sxXG.call(this,[0,0,4,ie(n)])},xgMasterVolumeF:function(n){return oe.xgMasterVolume.call(this,L.to7b(At(n)))},xgMasterFineTuning:function(n,s,l,v){return n=jn(n,s,l,v),oe.sxXG.call(this,[0,0,0,n[0],n[1],n[2],n[3]])},xgMasterFineTuningF:function(n){return oe.xgMasterFineTuning.call(this,ur(n%1))},xgMasterCoarseTuning:function(n){return oe.sxXG.call(this,[0,0,6,ie(n)])},xgMasterCoarseTuningF:function(n){return oe.xgMasterCoarseTuning.call(this,64+(n-n%1))},xgOctaveTuning:function(n,s,l){return oe.sxXG.call(this,[8,se(n),65+L.octaveValue(s),ie(l)])},xgOctaveTuningF:function(n,s,l){if(l<-.64||l>.63)throw RangeError("Out of range: "+l);return oe.xgOctaveTuning.call(this,n,s,Math.floor(l*100+64))}};oe.sxScaleTuning=oe.sxScaleTuning2,oe.sxScaleTuningF=oe.sxScaleTuning2F,oe.sxMasterTranspose=oe.sxMasterCoarseTuning,oe.sxMasterTransposeF=oe.sxMasterCoarseTuningF,oe.gsMasterTranspose=oe.gsMasterCoarseTuning,oe.gsMasterTransposeF=oe.gsMasterCoarseTuningF,oe.xgMasterTranspose=oe.xgMasterCoarseTuning,oe.xgMasterTransposeF=oe.xgMasterCoarseTuningF;var me={bank:function(n,s,l){return typeof l>"u"?[ue.bankMSB(n,Ae(s)),ue.bankLSB(n,Qe(s))]:[ue.bankMSB(n,s),ue.bankLSB(n,l)]},modF:function(n,s){return me.mod(n,L.to14b(s))},mod:function(n,s,l){return typeof l>"u"?[ue.modMSB(n,Ae(s)),ue.modLSB(n,Qe(s))]:[ue.modMSB(n,s),ue.modLSB(n,l)]},breathF:function(n,s){return me.breath(n,L.to14b(s))},breath:function(n,s,l){return typeof l>"u"?[ue.breathMSB(n,Ae(s)),ue.breathLSB(n,Qe(s))]:[ue.breathMSB(n,s),ue.breathLSB(n,l)]},footF:function(n,s){return me.foot(n,L.to14b(s))},foot:function(n,s,l){return typeof l>"u"?[ue.footMSB(n,Ae(s)),ue.footLSB(n,Qe(s))]:[ue.footMSB(n,s),ue.footLSB(n,l)]},portamentoTimeF:function(n,s){return me.portamentoTime(n,L.to14b(s))},portamentoTime:function(n,s,l){return typeof l>"u"?[ue.portamentoMSB(n,Ae(s)),ue.portamentoLSB(n,Qe(s))]:[ue.portamentoMSB(n,s),ue.portamentoLSB(n,l)]},dataF:function(n,s){return me.data(n,L.to14b(s))},data:function(n,s,l){return typeof l>"u"?[ue.dataMSB(n,Ae(s)),ue.dataLSB(n,Qe(s))]:[ue.dataMSB(n,s),ue.dataLSB(n,l)]},volumeF:function(n,s){return me.volume(n,L.to14b(s))},volume:function(n,s,l){return typeof l>"u"?[ue.volumeMSB(n,Ae(s)),ue.volumeLSB(n,Qe(s))]:[ue.volumeMSB(n,s),ue.volumeLSB(n,l)]},balanceF:function(n,s){return me.balance(n,L.to14b((s+1)/2))},balance:function(n,s,l){return typeof l>"u"?[ue.balanceMSB(n,Ae(s)),ue.balanceLSB(n,Qe(s))]:[ue.balanceMSB(n,s),ue.balanceLSB(n,l)]},panF:function(n,s){return me.pan(n,L.to14b((s+1)/2))},pan:function(n,s,l){return typeof l>"u"?[ue.panMSB(n,Ae(s)),ue.panLSB(n,Qe(s))]:[ue.panMSB(n,s),ue.panLSB(n,l)]},expressionF:function(n,s){return me.expression(n,L.to14b(s))},expression:function(n,s,l){return typeof l>"u"?[ue.expressionMSB(n,Ae(s)),ue.expressionLSB(n,Qe(s))]:[ue.expressionMSB(n,s),ue.expressionLSB(n,l)]},nrpn:function(n,s,l){return typeof l>"u"?[ue.nrpnMSB(n,Ae(s)),ue.nrpnLSB(n,Qe(s))]:[ue.nrpnMSB(n,s),ue.nrpnLSB(n,l)]},rpn:function(n,s,l){return typeof l>"u"?[ue.rpnMSB(n,Ae(s)),ue.rpnLSB(n,Qe(s))]:[ue.rpnMSB(n,s),ue.rpnLSB(n,l)]},rpnPitchBendRange:function(n,s,l){return me.rpn(n,0,0).concat(me.data(n,s,l))},rpnPitchBendRangeF:function(n,s){return me.rpnPitchBendRange(n,ie(s-s%1),Math.floor(s%1*100))},rpnFineTuning:function(n,s,l){return me.rpn(n,0,1).concat(me.data(n,s,l))},rpnFineTuningF:function(n,s){return me.rpn(n,0,1).concat(me.dataF(n,(s%1+1)/2))},rpnCoarseTuning:function(n,s){return me.rpn(n,0,2).concat([ue.dataMSB(n,s)])},rpnCoarseTuningF:function(n,s){return me.rpn(n,0,2).concat([ue.dataMSB(n,64+(s-s%1))])},rpnTuning:function(n,s,l,v){return me.rpnCoarseTuning(n,s).concat(me.rpnFineTuning(n,l,v))},rpnTuningF:function(n,s){return me.rpnCoarseTuningF(n,s).concat(me.rpnFineTuningF(n,s))},rpnTuningA:function(n,s){return me.rpnTuningF(n,L.shift(s))},rpnSelectTuningProgram:function(n,s){return me.rpn(n,0,3).concat([ue.dataMSB(n,s)])},rpnSelectTuningBank:function(n,s){return me.rpn(n,0,4).concat([ue.dataMSB(n,s)])},rpnSelectTuning:function(n,s,l){return typeof l>"u"?me.rpnSelectTuningProgram(n,s):me.rpnSelectTuningBank(n,s).concat(me.rpnSelectTuningProgram(n,l))},rpnModulationDepthRange:function(n,s,l){return me.rpn(n,0,5).concat(me.data(n,s,l))},rpnModulationDepthRangeF:function(n,s){return me.rpnModulationDepthRange(n,ie(s-s%1),Math.floor(s%1*128))},rpnNull:function(n){return me.rpn(n,127,127)},mode1:function(n){return[ue.omni(n,!0),ue.poly(n)]},mode2:function(n){return[ue.omni(n,!0),ue.mono(n)]},mode3:function(n){return[ue.omni(n,!1),ue.poly(n)]},mode4:function(n){return[ue.omni(n,!1),ue.mono(n)]}},pn={sxMasterTuning:function(n,s,l){return[oe.sxMasterCoarseTuning.call(this,n),oe.sxMasterFineTuning.call(this,s,l)]},sxMasterTuningF:function(n){return[oe.sxMasterCoarseTuningF.call(this,n),oe.sxMasterFineTuningF.call(this,n)]},gsMasterTuningF:function(n){return[oe.gsMasterCoarseTuningF.call(this,n),oe.gsMasterFineTuningF.call(this,n)]},xgMasterTuningF:function(n){return[oe.xgMasterCoarseTuningF.call(this,n),oe.xgMasterFineTuningF.call(this,n)]},sxMasterTuningA:function(n){return pn.sxMasterTuningF.call(this,L.shift(n))},gsMasterTuningA:function(n){return pn.gsMasterTuningF.call(this,L.shift(n))},xgMasterTuningA:function(n){return pn.xgMasterTuningF.call(this,L.shift(n))},gsScaleTuning:function(n,s){var l=[];if(s.length!=12)throw RangeError("Wrong input size: "+s.length);for(var v=0;v<12;v++)l.push(oe.gsOctaveTuning.call(this,n,v,s[v]));return l},gsScaleTuningF:function(n,s){var l=[];if(s.length!=12)throw RangeError("Wrong input size: "+s.length);for(var v=0;v<12;v++)l.push(oe.gsOctaveTuningF.call(this,n,v,s[v]));return l},xgScaleTuning:function(n,s){var l=[];if(s.length!=12)throw RangeError("Wrong input size: "+s.length);for(var v=0;v<12;v++)l.push(oe.xgOctaveTuning.call(this,n,v,s[v]));return l},xgScaleTuningF:function(n,s){var l=[];if(s.length!=12)throw RangeError("Wrong input size: "+s.length);for(var v=0;v<12;v++)l.push(oe.xgOctaveTuningF.call(this,n,v,s[v]));return l}};function xe(n,s){var l=new L;return l.ff=Vt(n),l.dd=typeof s>"u"?"":wa(s),l}var Bn={smf:function(n){if(n instanceof L)return new L(n);var s=n instanceof Array?n:arguments,l=Vt(s[0]),v="";return s.length==2?v=je(s[1]):s.length>2&&(v=je(Array.prototype.slice.call(s,1))),xe(l,v)},smfSeqNumber:function(n){if(n==parseInt(n)){if(n<0||n>65535)throw RangeError("Sequence number out of range: "+n);n=String.fromCharCode(n>>8)+String.fromCharCode(n&255)}else if(n=""+n,n.length==0)n="\0\0";else if(n.length==1)n="\0"+n;else if(n.length>2)throw RangeError("Sequence number out of range"+wt(n));return xe(0,n)},smfText:function(n){return xe(1,re.lib.toUTF8(n))},smfCopyright:function(n){return xe(2,re.lib.toUTF8(n))},smfSeqName:function(n){return xe(3,re.lib.toUTF8(n))},smfInstrName:function(n){return xe(4,re.lib.toUTF8(n))},smfLyric:function(n){return xe(5,re.lib.toUTF8(n))},smfMarker:function(n){return xe(6,re.lib.toUTF8(n))},smfCuePoint:function(n){return xe(7,re.lib.toUTF8(n))},smfProgName:function(n){return xe(8,re.lib.toUTF8(n))},smfDevName:function(n){return xe(9,re.lib.toUTF8(n))},smfChannelPrefix:function(n){if(n==parseInt(n))mt(n),n=String.fromCharCode(n);else if(n=""+n,n.length==0)n="\0";else if(n.length>1||n.charCodeAt(0)>15)throw RangeError("Channel number out of range"+wt(n));return xe(32,n)},smfMidiPort:function(n){if(n==parseInt(n)){if(n<0||n>127)throw RangeError("Port number out of range: "+n);n=String.fromCharCode(n)}else if(n=""+n,n.length==0)n="\0";else if(n.length>1||n.charCodeAt(0)>127)throw RangeError("Port number out of range"+wt(n));return xe(33,n)},smfEndOfTrack:function(n){if(je(n)!="")throw RangeError("Unexpected data"+wt(je(n)));return xe(47)},smfTempo:function(n){if((""+n).length==3)return xe(81,n);if(n==parseInt(n)&&n>0&&n<=16777215)return xe(81,String.fromCharCode(n>>16)+String.fromCharCode(n>>8&255)+String.fromCharCode(n&255));throw RangeError("Out of range"+wt(je(n)))},smfBPM:function(n){return Bn.smfTempo(Math.round(6e7/n))},smfSMPTE:function(n){if(n instanceof Ee)return xe(84,String.fromCharCode(n.hour)+String.fromCharCode(n.minute)+String.fromCharCode(n.second)+String.fromCharCode(n.frame)+String.fromCharCode(n.quarter%4*25));var s=""+n;if(s.length==5)return xe(84,n);var l=n instanceof Array?n:Array.prototype.slice.call(arguments);return l.splice(0,0,30),Bn.smfSMPTE(new Ee(l))},smfTimeSignature:function(n,s,l,v){var _,N,D,W,Q=(""+n).match(/^\s*(\d+)\s*\/\s*(\d+)\s*$/);if(Q){if(_=parseInt(Q[1]),N=parseInt(Q[2]),_>0&&_<256&&N>0&&!(N&N-1)){for(D=N,N=0,D>>=1;D;D>>=1)N++;return D=s==parseInt(s)?s:24,W=l==parseInt(l)?l:8,xe(88,String.fromCharCode(_)+String.fromCharCode(N)+String.fromCharCode(D)+String.fromCharCode(W))}else if((""+n).length==4)return xe(88,n)}else if(n==parseInt(n)&&s==parseInt(s)){if(n>0&&n<256&&s>0&&!(s&s-1)){for(_=n,N=0,D=s,D>>=1;D;D>>=1)N++;return D=l==parseInt(l)?l:24,W=v==parseInt(v)?v:8,xe(88,String.fromCharCode(_)+String.fromCharCode(N)+String.fromCharCode(D)+String.fromCharCode(W))}else if((""+n).length==4)return xe(88,n);n=n+"/"+s}else if((""+n).length==4)return xe(88,n);throw RangeError("Wrong time signature"+wt(je(""+n)))},smfKeySignature:function(n){n=""+n;var s=n.match(/^\s*([A-H][b#]?)\s*(|maj|major|dur|m|min|minor|moll)\s*$/i);if(s){var l={CB:0,GB:1,DB:2,AB:3,EB:4,BB:5,F:6,C:7,G:8,D:9,A:10,E:11,B:12,H:12,"F#":13,"C#":14,"G#":15,"D#":16,"A#":17}[s[1].toUpperCase()],v={"":0,MAJ:0,MAJOR:0,DUR:0,M:1,MIN:1,MINOR:1,MOLL:1}[s[2].toUpperCase()];typeof l<"u"&&typeof v<"u"&&(v&&(l-=3),l-=7,l>=-7&&l<0?n=String.fromCharCode(256+l)+String.fromCharCode(v):l>=0&&l<=7&&(n=String.fromCharCode(l)+String.fromCharCode(v)))}if(n.length==2&&n.charCodeAt(1)<=1&&(n.charCodeAt(0)<=7||n.charCodeAt(0)<=255&&n.charCodeAt(0)>=249))return xe(89,n);throw RangeError("Incorrect key signature"+wt(n))},smfSequencer:function(n){return xe(127,je(n))}},vn={};function Hn(n,s){L[n]=function(){return new L(s.apply(this,arguments))},vn[n]=function(){return this.send(s.apply(this,arguments))}}function Wo(n,s){L[n]=function(){return s.apply(this,arguments)},vn[n]=function(){return this.send(s.apply(this,arguments))}}function lr(n,s){L[n]=function(){var l,v=[],_=s.apply(this,arguments);for(l=0;l<_.length;l++)v.push(new L(_[l]));return v},vn[n]=function(){for(var l=s.apply(this,arguments),v=this,_=0;_<l.length;_++)v=v.send(l[_]);return v}}function Go(n,s){L[n]=function(){return new L(s.apply(this,typeof this._ch>"u"?arguments:[this._ch].concat(Array.prototype.slice.call(arguments))))},vn[n]=function(){if(typeof this._master<"u"){var l=new L(s.apply(this,[this._master].concat(Array.prototype.slice.call(arguments))));return l._mpe=l[1],this.send(l)}return this.send(s.apply(this,typeof this._ch>"u"?arguments:[this._ch].concat(Array.prototype.slice.call(arguments))))}}function cr(n,s){L[n]=function(){return new L(s.apply(this,typeof this._ch>"u"?arguments:[this._ch].concat(Array.prototype.slice.call(arguments))))},vn[n]=function(){if(typeof this._master<"u"){var l,v=Array.prototype.slice.call(arguments);v.length<s.length?v=[this._master].concat(v):(l=ke(v[0]),v[0]=this._master);var _=new L(s.apply(this,v));return _._mpe=l,this.send(_)}return this.send(s.apply(this,typeof this._ch>"u"?arguments:[this._ch].concat(Array.prototype.slice.call(arguments))))}}function hr(n,s){L[n]=function(){var l,v=[],_=s.apply(this,typeof this._ch>"u"?arguments:[this._ch].concat(Array.prototype.slice.call(arguments)));for(l=0;l<_.length;l++)v.push(new L(_[l]));return v},vn[n]=function(){var l,v,_;if(typeof this._master<"u"){var N,D=Array.prototype.slice.call(arguments);for(D.length<s.length?D=[this._master].concat(D):(N=ke(D[0]),D[0]=this._master),v=s.apply(this,D),_=this,l=0;l<v.length;l++){var W=L(v[l]);W._mpe=N,_=_.send(W)}return _}for(v=s.apply(this,typeof this._ch>"u"?arguments:[this._ch].concat(Array.prototype.slice.call(arguments))),_=this,l=0;l<v.length;l++)_=_.send(v[l]);return _}}fe(ei,function(n){Hn(n,ei[n])}),fe(oe,function(n){Hn(n,oe[n])}),fe(Bn,function(n){Wo(n,Bn[n])}),fe(pn,function(n){lr(n,pn[n])}),fe(dn,function(n){Go(n,dn[n])}),fe(ue,function(n){cr(n,ue[n])}),fe(me,function(n){hr(n,me[n])});function o(n){fe(vn,function(s){n.prototype[s]=vn[s]})}o(x);var d={a:10,b:11,c:12,d:13,e:14,f:15,A:10,B:11,C:12,D:13,E:14,F:15};for(c=0;c<16;c++)d[c]=c;L.prototype.getChannel=function(){if(this.ff==32&&this.dd.length==1&&this.dd.charCodeAt(0)<16)return this.dd.charCodeAt(0);var n=this[0];if(!(typeof n>"u"||n<128||n>239))return n&15},L.prototype.setChannel=function(n){if(n=d[n],typeof n>"u")return this;if(this.ff==32)this.dd=String.fromCharCode(n);else{var s=this[0];typeof s<"u"&&s>=128&&s<=239&&(this[0]=s&240|n)}return this},L.prototype.getNote=function(){var n=this[0];if(!(typeof n>"u"||n<128||n>175))return this[1]},L.prototype.setNote=function(n){var s=this[0];return typeof s>"u"||s<128||s>175?this:(n=L.noteValue(n),typeof n<"u"&&(this[1]=n),this)},L.prototype.getVelocity=function(){var n=this[0];if(!(typeof n>"u"||n<128||n>159))return this[2]},L.prototype.setVelocity=function(n){var s=this[0];return typeof s>"u"||s<128||s>159?this:(n=parseInt(n),n>=0&&n<128&&(this[2]=n),this)},L.prototype.getSysExId=function(){if(this[0]==240)return this[2]},L.prototype.setSysExId=function(n){return this[0]==240&&this.length>2&&(n=parseInt(n),n>=0&&n<128&&(this[2]=n)),this},L.prototype.getData=function(){if(typeof this.dd<"u")return this.dd.toString()},L.prototype.setData=function(n){return this.dd=je(n),this};function y(n,s){return n==127&&typeof s<"u"&&s.charCodeAt(0)==67&&s.charCodeAt(1)==123}function k(n,s){return y(n,s)&&s.charCodeAt(2)==1}function R(n,s){if(n>=0&&n<=127&&s>=0&&s<=127){var l=n&15,v=n>>4;if(l>0&&l<8&&v<7)l=["C","D","E","F","G","A","B"][l-1]+["bbb","bb","b","","#","##","###"][v];else return"-";return s>34?l+"?":l+["","6","Maj7","Maj7(#11)","(9)","Maj7(9)","6(9)","aug","m","m6","m7","m7b5","m(9)","m7(9)","m7(11)","m+7","m+7(9)","dim","dim7","7","7sus4","7b5","7(9)","7(#11)","7(13)","7(b9)","7(b13)","7(#9)","Maj7aug","7aug","1+8","1+5","sus4","1+2+5","cc"][s]}return"-"}L.prototype.getText=function(){if(typeof this.dd<"u")return k(this.ff,this.dd)?R(this.dd.charCodeAt(3),this.dd.charCodeAt(4)):re.lib.fromUTF8(this.dd);if(this.isMidiSoft()){for(var n=[],s=6;s<this.length-1;s++)n.push(String.fromCharCode(this[s]));return n.join("")}},L.prototype.setText=function(n){return this.dd=re.lib.toUTF8(n),this},L.prototype.getTempo=function(){if(this.ff==81&&typeof this.dd<"u")return this.dd.charCodeAt(0)*65536+this.dd.charCodeAt(1)*256+this.dd.charCodeAt(2)},L.prototype.getBPM=function(){var n=this.getTempo();if(n)return 6e7/n},L.prototype.getTimeSignature=function(){if(this.ff==88&&typeof this.dd<"u")return[this.dd.charCodeAt(0),1<<this.dd.charCodeAt(1)]},L.prototype.getTimeSignature4=function(){if(this.ff==88&&typeof this.dd<"u"){var n=[this.dd.charCodeAt(0),1<<this.dd.charCodeAt(1)];return this.dd.length==4&&n.push(this.dd.charCodeAt(2),this.dd.charCodeAt(3)),n}},L.prototype.getKeySignature=function(){if(this.ff==89&&typeof this.dd<"u"){var n=this.dd.charCodeAt(0),s=this.dd.charCodeAt(1);if(n&128&&(n=n-256),n>=-7&&n<=7&&s>=0&&s<=1)return[n,["Cb","Gb","Db","Ab","Eb","Bb","F","C","G","D","A","E","B","F#","C#","G#","D#","A#"][s?n+10:n+7],!!s]}},L.prototype.isNoteOn=function(){var n=this[0];return typeof n>"u"||n<144||n>159?!1:this[2]>0},L.prototype.isNoteOff=function(){var n=this[0];return typeof n>"u"||n<128||n>159?!1:n<144?!0:this[2]==0},L.prototype.isSysEx=function(){return this[0]==240},L.prototype.isFullSysEx=function(){return this[0]==240&&this[this.length-1]==247},L.prototype.isMidiSoft=function(){return this.isFullSysEx()&&this[1]==0&&this[2]==32&&this[3]==36&&this[4]==0},L.prototype.isSMF=function(){return this.ff>=0&&this.ff<=127},L.prototype.isEOT=function(){return this.ff==47},L.prototype.isText=function(){return this.ff==1},L.prototype.isCopyright=function(){return this.ff==2},L.prototype.isSeqName=function(){return this.ff==3},L.prototype.isInstrName=function(){return this.ff==4},L.prototype.isLyric=function(){return this.ff==5},L.prototype.isMarker=function(){return this.ff==6},L.prototype.isCuePoint=function(){return this.ff==7},L.prototype.isProgName=function(){return this.ff==8},L.prototype.isDevName=function(){return this.ff==9},L.prototype.isTempo=function(){return this.ff==81},L.prototype.isTimeSignature=function(){return this.ff==88},L.prototype.isKeySignature=function(){return this.ff==89},L.prototype.isGmReset=function(){return this.match([240,126,[0,0],9,[0,0],247])},L.prototype.isGsReset=function(){return this.match([240,65,[0,0],66,18,64,0,127,0,65,247])},L.prototype.isXgReset=function(){return this.match([240,67,[16,240],76,0,0,126,0,247])},L.prototype.match=function(n){var s,l;for(s=0;s<n.length;s++)if(l=n[s][1],typeof l>"u"){if(this[s]!=n[s])return!1}else if((this[s]&l)!=(n[s][0]&l))return!1;return!0};function Y(n){for(var s=[],l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s}function Ve(n){for(var s="",l=0;l<n.length;l++)s+=String.fromCharCode(n[l]);return s}function je(n){return n instanceof Array?Ve(n):typeof n>"u"?"":""+n}function Xe(n){for(var s=0,l=0;l<n.length;l++)s=(s<<8)+n.charCodeAt(l);return s}function Se(n){return(n<16?"0":"")+n.toString(16)}function jt(n){for(var s=[],l=0;l<n.length;l++)s.push(Se(n[l]));return s.join(" ")}function ot(n){for(var s=[],l=0;l<n.length;l++)l&&l%4==0&&s.push(" "),s.push(Se(n[l]));return s.join("")}function Ht(n){for(var s="",l=0;l<n.length;l++)n[l]==`
`?s+="\\n":n[l]=="\r"?s+="\\r":n[l]=="	"?s+="\\t":n.charCodeAt(l)<32?s+="\\x"+Se(n.charCodeAt(l)):s+=n[l];return s}function en(n){return n.length?": "+jt(Y(n)):""}function wt(n){return n.length?": "+Ht(re.lib.fromUTF8(n)):""}L.prototype.label=function(n){return this.lbl=this.lbl?this.lbl+", "+n:n,this},L.prototype.toString=function(){return this.lbl?this._str()+" ("+this.lbl+")":this._str()},L.prototype._str=function(){var n,s;if(this.length)n=jt(this);else{if(typeof this.ff>"u")return"empty";n="ff"+Se(this.ff)}return s=this._string(),s?n+" -- "+s:n},L.prototype._string=function(){var n="",s;if(!this.length){if(this.ff==0)n+="Sequence Number: "+Xe(this.dd);else if(this.ff>0&&this.ff<10)n+=["","Text","Copyright","Sequence Name","Instrument Name","Lyric","Marker","Cue Point","Program Name","Device Name"][this.ff]+wt(this.dd);else if(this.ff==32)n+="Channel Prefix"+en(this.dd);else if(this.ff==33)n+="MIDI Port"+en(this.dd);else if(this.ff==47)n+="End of Track"+en(this.dd);else if(this.ff==81){var l=Math.round(this.getBPM()*100)/100;n+="Tempo: "+l+" bpm"}else if(this.ff==84)n+="SMPTE Offset: "+Vo(Y(this.dd));else if(this.ff==88){var v=1<<this.dd.charCodeAt(1);n+="Time Signature: "+this.dd.charCodeAt(0)+"/"+v,n+=" "+this.dd.charCodeAt(2)+" "+this.dd.charCodeAt(3)}else if(this.ff==89){n+="Key Signature: ";var _=this.getKeySignature();_?(n+=_[1],_[2]&&(n+=" min")):n+="invalid"}else if(this.ff==127){if(this.dd.charCodeAt(0)==67&&this.dd.charCodeAt(1)==123)return n+="[XF:"+Se(this.dd.charCodeAt(2))+"]",s={0:"Version",1:"Chord",2:"Rehearsal Mark",3:"Phrase Mark",4:"Max Phrase Mark",5:"Fingering Number",12:"Guide Track Flag",16:"Guitar Info",18:"Chord Voicing",127:"XG Song Data Number"}[this.dd.charCodeAt(2)],n+=s?" "+s:"",n+=": ",this.dd.charCodeAt(2)==0?n+this.dd.substr(3,4)+" "+jt(Y(this.dd.substr(7))):this.dd.charCodeAt(2)==1?n+this.getText():n+jt(Y(this.dd.substr(3)));n+="Sequencer Specific"+en(this.dd)}else n+="SMF"+en(this.dd);return n}if(s={241:"MIDI Time Code",242:"Song Position",243:"Song Select",244:"Undefined",245:"Undefined",246:"Tune request",248:"Timing clock",249:"Undefined",250:"Start",251:"Continue",252:"Stop",253:"Undefined",254:"Active Sensing",255:"Reset"}[this[0]],s)return s;if(this.isMidiSoft())return s=Ht(this.getText()),s&&(s=" "+s),"[K:"+Se(this[5])+"]"+s;var N=this[0]>>4;return s={8:"Note Off",10:"Aftertouch",12:"Program Change",13:"Channel Aftertouch",14:"Pitch Wheel"}[N],s||(N==9?this[2]?"Note On":"Note Off":N!=11?n:(s={0:"Bank Select MSB",1:"Modulation Wheel MSB",2:"Breath Controller MSB",4:"Foot Controller MSB",5:"Portamento Time MSB",6:"Data Entry MSB",7:"Channel Volume MSB",8:"Balance MSB",10:"Pan MSB",11:"Expression Controller MSB",12:"Effect Control 1 MSB",13:"Effect Control 2 MSB",16:"General Purpose Controller 1 MSB",17:"General Purpose Controller 2 MSB",18:"General Purpose Controller 3 MSB",19:"General Purpose Controller 4 MSB",31:"Karaoke",32:"Bank Select LSB",33:"Modulation Wheel LSB",34:"Breath Controller LSB",36:"Foot Controller LSB",37:"Portamento Time LSB",38:"Data Entry LSB",39:"Channel Volume LSB",40:"Balance LSB",42:"Pan LSB",43:"Expression Controller LSB",44:"Effect control 1 LSB",45:"Effect control 2 LSB",48:"General Purpose Controller 1 LSB",49:"General Purpose Controller 2 LSB",50:"General Purpose Controller 3 LSB",51:"General Purpose Controller 4 LSB",64:"Damper Pedal",65:"Portamento",66:"Sostenuto",67:"Soft Pedal",68:"Legato",69:"Hold 2",70:"Sound Variation",71:"Filter Resonance",72:"Release Time",73:"Attack Time",74:"Brightness",75:"Decay Time",76:"Vibrato Rate",77:"Vibrato Depth",78:"Vibrato Delay",79:"Sound Controller 10",80:"General Purpose Controller 5",81:"General Purpose Controller 6",82:"General Purpose Controller 7",83:"General Purpose Controller 8",84:"Portamento Control",88:"High Resolution Velocity Prefix",91:"Effects 1 Depth",92:"Effects 2 Depth",93:"Effects 3 Depth",94:"Effects 4 Depth",95:"Effects 5 Depth",96:"Data Increment",97:"Data Decrement",98:"Non-Registered Parameter Number LSB",99:"Non-Registered Parameter Number MSB",100:"Registered Parameter Number LSB",101:"Registered Parameter Number MSB",120:"All Sound Off",121:"Reset All Controllers",122:"Local Control On/Off",123:"All Notes Off",124:"Omni Mode Off",125:"Omni Mode On",126:"Mono Mode On",127:"Poly Mode On"}[this[1]],this[1]>=64&&this[1]<=69&&(s+=this[2]<64?" Off":" On"),s||(s="Undefined"),s))},L.prototype._stamp=function(n){return this._from.push(n._orig?n._orig:n),this},L.prototype._unstamp=function(n){if(typeof n>"u")this._from=[];else{n._orig&&(n=n._orig);var s=this._from.indexOf(n);s>-1&&this._from.splice(s,1)}return this},L.prototype._stamped=function(n){n._orig&&(n=n._orig);for(var s=0;s<this._from.length;s++)if(this._from[s]==n)return!0;return!1},re.MIDI=L,j.prototype.MIDI=L;function ct(){var n;for(this._cc=[],n=0;n<16;n++)this._cc[n]={}}function ht(n,s){var l=typeof n>"u"?"??":Se(n),v=typeof s>"u"?"??":Se(s),_={"0000":"Pitch Bend Sensitivity","0001":"Channel Fine Tune","0002":"Channel Coarse Tune","0003":"Select Tuning Program","0004":"Select Tuning Bank","0005":"Vibrato Depth Range","7f7f":"NONE"}[l+""+v];return"RPN "+l+" "+v+(_?": "+_:"")}function ji(n,s){var l=typeof n>"u"?"??":Se(n),v=typeof s>"u"?"??":Se(s);return"NRPN "+l+" "+v}function xt(n){if(!n.length||n[0]<128)return n;if(n[0]==255)return this._clear(),n;var s=n[0]&15,l=n[0]>>4,v;if(l==12)n._bm=this._cc[s].bm,n._bl=this._cc[s].bl,re.MIDI.programName&&n.label(re.MIDI.programName(n[1],n._bm,n._bl));else if(l==11)switch(n[1]){case 0:this._cc[s].bm=n[2];break;case 32:this._cc[s].bl=n[2];break;case 98:this._cc[s].nl=n[2],this._cc[s].rn="n";break;case 99:this._cc[s].nm=n[2],this._cc[s].rn="n";break;case 100:this._cc[s].rl=n[2],this._cc[s].rn="r";break;case 101:this._cc[s].rm=n[2],this._cc[s].rn="r";break;case 6:case 38:case 96:case 97:this._cc[s].rn=="r"&&(n._rm=this._cc[s].rm,n._rl=this._cc[s].rl,n.label(ht(this._cc[s].rm,this._cc[s].rl))),this._cc[s].rn=="n"&&(n._nm=this._cc[s].rm,n._nl=this._cc[s].nl,n.label(ji(this._cc[s].nm,this._cc[s].nl)));break}else n.isFullSysEx()&&(n[1]==127?n[3]==4?(v={1:"Master Volume",2:"Master Balance",3:"Master Fine Tuning",4:"Master Coarse Tuning"}[n[4]],v&&n.label(v)):n[3]==8&&(v={2:"Note Tuning",7:"Note Tuning, Bank",8:"Scale Tuning, 1 byte format",9:"Scale Tuning, 2 byte format"}[n[4]],v&&n.label(v)):n[1]==126?n[3]==6?n[4]==1?n.label("Device ID Request"):n[4]==2&&n.label("Device ID Response"):n[3]==8?(v={0:"Bulk Tuning Dump Request",1:"Bulk Tuning Dump",3:"Bulk Tuning Dump Request, Bank",4:"Bulk Tuning Dump, Bank",5:"Scale Tuning Dump, 1 byte format",6:"Scale Tuning Dump, 2 byte format",7:"Note Tuning, Bank",8:"Scale Tuning, 1 byte format",9:"Scale Tuning, 2 byte format"}[n[4]],v&&n.label(v)):n[3]==9&&(n[4]==1?(n.label("GM1 System On"),this._clear(),this._gm="1"):n[4]==2?(n.label("GM System Off"),this._clear(),this._gm="0"):n[4]==3&&(n.label("GM2 System On"),this._clear(),this._gm="2")):n[1]==67?(n[2]&240)==16&&n[3]==76&&(n[4]==0&&n[5]==0&&n[6]==126&&n[7]==0?(n.label("XG System On"),this._clear(),this._gm="Y"):n[4]==0&&n[5]==0&&n[6]==0?n.label("XG Master Tuning"):n[4]==0&&n[5]==0&&n[6]==4?n.label("XG Master Volume"):n[4]==0&&n[5]==0&&n[6]==6?n.label("XG Master Transpose"):n[4]==8&&n[5]<16&&n[6]>=65&&n[6]<=76?n.label("XG Scale Tuning"):n.label("XG Parameter")):n[1]==65&&n[3]==66&&n[4]==18&&(n[5]==64&&(n[6]==0?n[7]==127&&n[8]==0&&n[9]==65?(n.label("GS Reset"),this._clear(),this._gm="R"):n[7]==0?n.label("GS Master Tuning"):n[7]==4?n.label("GS Master Volume"):n[7]==5?n.label("GS Master Transpose"):n.label("GS Parameter"):(n[6]&240)==16&&n[7]==21?n.label("GS Drum Part Change"):(n[6]&240)==16&&n[7]>=64&&n[7]<=75?n.label("GS Scale Tuning"):n.label("GS Parameter")),n[5]==65&&n.label("GS Parameter")));return n}function ft(){var n=new x;return n._clear=ct,n._read=xt,n._receive=function(s){this._emit(this._read(s))},n._clear(),n._resume(),n}re.Context=ft,j.prototype.Context=ft;function yn(){var n=this instanceof yn?this:n=new yn;return n.reset(),arguments.length&&yn.prototype.setup.apply(n,arguments),n}yn.validate=function(n){var s=n instanceof Array?n:arguments;if(s[0]!=parseInt(s[0])||s[0]<0||s[0]>14)throw RangeError("Bad master channel value: "+s[0]);if(s[1]!=parseInt(s[1])||s[1]<0||s[0]+s[1]>15)throw RangeError("Bad zone size value: "+s[1])},yn.prototype.reset=function(){for(var n=0;n<16;n++)this[n]={band:0,master:n}},yn.prototype.setup=function(n,s){yn.validate(n,s);var l,v=n+s;if(!(this[n].master==n&&this[n].band==s)&&!(!s&&!this[n].band)){for(this[n].band?(l=n+this[n].band,v<l&&(v=l)):this[n].master==n-1?(l=n-1,l=l+this[l].band,v<l&&(v=l),this[n-1]={band:0,master:n-1}):this[n].master!=n&&(l=this[n].master,l=l+this[l].band,v<l&&(v=l),this[this[n].master].band=n-this[n].master-1),this[n].master=n,this[n].band=s,l=n+1;l<=n+s;l++)this[l].band&&v<l+this[l].band&&(v=l+this[l].band),this[l]={band:0,master:n};for(;l<=v;l++)this[l]={band:0,master:l}}},yn.prototype.filter=function(n){var s=n.getChannel();if(!this[s]||!this[this[s].master].band)return n;var l=this[s].master,v=this[l].band,_,N,D;if(typeof n._mpe<"u"){for(D=256,_=l+1;_<=l+v;_++)if(!this[_].notes)D>0&&(s=_,D=0);else for(D>this[_].notes.length&&(s=_,D=this[_].notes.length),N=0;N<this[_].notes.length;N++)if(this[_].notes[N]==n._mpe){s=_,D=-1;break}n.setChannel(s),n._mpe=void 0}return s==l||(n.isNoteOn()?(this[s].notes||(this[s].notes=[]),$(this[s].notes,n.getNote())):n.isNoteOff()&&this[s].notes&&V(this[s].notes,n.getNote())),n},re.MPE=yn;function he(n){var s=this instanceof he?this:s=new he,l;if(n instanceof he)return s._from=n._from.slice(),fe(n,function(_){_!="_from"&&(s[_]=n[_])}),s;s._from=[],typeof n>"u"&&(n=[0,0,0,0]);var v=n instanceof Array?n:arguments;for(s.length=0,l=0;l<v.length;l++)m=v[l],(m!=parseInt(m)||m<0||m>255)&&An(v[l]),s.push(m);if(s.length!=[4,4,4,8,8,16,4,4,8,8,8,12,12,16,16,16][s[0]>>4])throw RangeError("Wrong UMP size");return s}he.prototype=[],he.prototype.constructor=he,he.prototype.isMidi=function(){return 2},he.prototype.isMidi2=!0,he.prototype.dump=function(){var n,s="";for(n=0;n<this.length;n++)s+=String.fromCharCode(this[n]);return s};function Xo(){}Xo.prototype=he,he._sxid=127,he.sxId=function(n){if(typeof n>"u"&&(n=he._sxid),n==this._sxid)return this;n=ie(n);var s=new Xo;return s._ch=this._ch,s._gr=this._gr,s._sxid=n,s},he.ch=function(n){if(n==this._ch||typeof n>"u"&&typeof this._ch>"u")return this;var s=new Xo;return typeof n<"u"&&(n=se(n)),s._ch=n,s._gr=this._gr,s._sxid=this._sxid,s},he.gr=function(n){if(n==this._gr||typeof n>"u"&&typeof this._gr>"u")return this;var s=new Xo;return typeof n<"u"&&(n=Me(n)),s._ch=this._ch,s._gr=n,s._sxid=this._sxid,s},he.prototype.getGroup=function(){if(this[0]){var n=this[0]>>4;if(n==1||n==2||n==3||n==4||n==5||n==13)return this[0]&15}};var Rn=[0,0,0,0,0,0,0,0,0,0,0,0,0],Kl={noop:function(){return[0,0,0,0]},umpClock:function(n){return n=nt(n),[0,16,n>>8,n&255]},umpTimestamp:function(n){return n=nt(n),[0,32,n>>8,n&255]},umpTicksPQN:function(n){return n=nt(n),[0,48,n>>8,n&255]},umpDelta:function(n){return n=n||0,n=_a(n),[0,64+(n>>16),n>>8&255,n&255]},umpStartClip:function(){return[240,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},umpEndClip:function(){return[240,33,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},Ca={umpTempo:function(n,s){return[208+Me(n),16,0,0,s>>24,s>>16&255,s>>8&255,s&255,0,0,0,0,0,0,0,0]},umpBPM:function(n,s){return Ca.umpTempo(n,Math.round(6e9/s))},umpTimeSignature:function(n,s,l){var v,_,N,D=(""+s).match(/^\s*(\d+)\s*\/\s*(\d+)\s*$/);if(D?(v=parseInt(D[1]),_=parseInt(D[2])):s==parseInt(s)&&l==parseInt(l)&&(v=parseInt(s),_=parseInt(l)),v>0&&v<256&&_>0&&!(_&_-1)){for(N=0,_>>=1;_;_>>=1)N++;if(_=Math.round(v*32/(1<<N)),_<256)return[208+Me(n),16,0,1,v,N,_,0,0,0,0,0,0,0,0,0]}throw RangeError("Wrong time signature "+s+(typeof l>"u"?"":"/"+l))}},Zl={umpMetadata:function(n,s){return _e.umpCustomText(n,0,1,1,0,s)},umpProjectName:function(n,s){return _e.umpCustomText(n,0,1,1,1,s)},umpCompositionName:function(n,s){return _e.umpCustomText(n,0,1,1,2,s)},umpClipName:function(n,s){return _e.umpCustomText(n,0,1,1,3,s)},umpCopyright:function(n,s){return _e.umpCustomText(n,0,1,1,4,s)},umpComposerName:function(n,s){return _e.umpCustomText(n,0,1,1,5,s)},umpLyricistName:function(n,s){return _e.umpCustomText(n,0,1,1,6,s)},umpArrangerName:function(n,s){return _e.umpCustomText(n,0,1,1,7,s)},umpPublisherName:function(n,s){return _e.umpCustomText(n,0,1,1,8,s)},umpPerformerName:function(n,s){return _e.umpCustomText(n,0,1,1,9,s)},umpAccPerformerName:function(n,s){return _e.umpCustomText(n,0,1,1,10,s)},umpRecordingDate:function(n,s){return _e.umpCustomText(n,0,1,1,11,s)},umpRecordingLocation:function(n,s){return _e.umpCustomText(n,0,1,1,12,s)},umpText:function(n,s){return _e.umpCustomText(n,0,1,2,0,s)},umpLyrics:function(n,s){return _e.umpCustomText(n,0,1,2,1,s)},umpLyricsLanguage:function(n,s){return _e.umpCustomText(n,0,1,2,2,s)},umpRuby:function(n,s){return _e.umpCustomText(n,0,1,2,3,s)},umpRubyLanguage:function(n,s){return _e.umpCustomText(n,0,1,2,4,s)}},Jl={umpNoteOn:function(n,s,l,v,_,N){return typeof v>"u"&&(v=65535),_=_||0,N=N||0,v=nt(v),N=nt(N),[64+Me(n),144+se(s),ke(l),Vt(_),v>>8,v&255,N>>8,N&255]},umpNoteOff:function(n,s,l,v,_,N){return v=v||0,_=_||0,N=N||0,v=nt(v),N=nt(N),[64+Me(n),128+se(s),ke(l),Vt(_),v>>8,v&255,N>>8,N&255]},umpProgram:function(n,s,l,v,_){return typeof v>"u"&&typeof _>"u"?[64+Me(n),192+se(s),0,0,ke(l),0,0,0]:[64+Me(n),192+se(s),0,1,ke(l),0,ke(v),ke(_)]}},_e={umpCustomText:function(n,s,l,v,_,N){var D,W=[];for(N=re.lib.toUTF8(""+N),D=0;D<N.length;D++)W.push(N.charCodeAt(D));for(W=tc(W,12),D=0;D<W.length;D++)W[D]=[208+Me(n),ec(W.length,D)*64+(l?16:0)+se(s),v,_].concat(W[D],Rn).slice(0,16);return W},umpCMetadata:function(n,s,l){return _e.umpCustomText(n,s,0,1,0,l)},umpCProjectName:function(n,s,l){return _e.umpCustomText(n,s,0,1,1,l)},umpCCompositionName:function(n,s,l){return _e.umpCustomText(n,s,0,1,2,l)},umpCClipName:function(n,s,l){return _e.umpCustomText(n,s,0,1,3,l)},umpCCopyright:function(n,s,l){return _e.umpCustomText(n,s,0,1,4,l)},umpCComposerName:function(n,s,l){return _e.umpCustomText(n,s,0,1,5,l)},umpCLyricistName:function(n,s,l){return _e.umpCustomText(n,s,0,1,6,l)},umpCArrangerName:function(n,s,l){return _e.umpCustomText(n,s,0,1,7,l)},umpCPublisherName:function(n,s,l){return _e.umpCustomText(n,s,0,1,8,l)},umpCPerformerName:function(n,s,l){return _e.umpCustomText(n,s,0,1,9,l)},umpCAccPerformerName:function(n,s,l){return _e.umpCustomText(n,s,0,1,10,l)},umpCRecordingDate:function(n,s,l){return _e.umpCustomText(n,s,0,1,11,l)},umpCRecordingLocation:function(n,s,l){return _e.umpCustomText(n,s,0,1,12,l)},umpCText:function(n,s,l){return _e.umpCustomText(n,s,0,2,0,l)},umpCLyrics:function(n,s,l){return _e.umpCustomText(n,s,0,2,1,l)},umpCLyricsLanguage:function(n,s,l){return _e.umpCustomText(n,s,0,2,2,l)},umpCRuby:function(n,s,l){return _e.umpCustomText(n,s,0,2,3,l)},umpCRubyLanguage:function(n,s,l){return _e.umpCustomText(n,s,0,2,4,l)}},tn={};function dp(n,s){he[n]=function(){return new he(s.apply(this,arguments))},tn[n]=function(){return this.send(s.apply(this,arguments))}}function pp(n,s){he[n]=function(){var l=Array.prototype.slice.call(arguments);return typeof this._gr<"u"&&(l=[this._gr].concat(l)),new he(s.apply(this,l))},tn[n]=function(){var l=Array.prototype.slice.call(arguments);return typeof this._gr<"u"&&(l=[this._gr].concat(l)),this.send(s.apply(this,l))}}function vp(n,s){he[n]=function(){var l=Array.prototype.slice.call(arguments);typeof this._gr<"u"&&(l=[this._gr].concat(l));for(var v=s.apply(this,l),_=0;_<v.length;_++)v[_]=new he(v[_]);return v},tn[n]=function(){var l=Array.prototype.slice.call(arguments);typeof this._gr<"u"&&(l=[this._gr].concat(l));for(var v=s.apply(this,l),_=0;_<v.length;_++)this.send(v[_]);return this}}function yp(n,s){he[n]=function(){var l=Array.prototype.slice.call(arguments);return typeof this._gr<"u"&&(l=[this._gr].concat(l)),typeof this._ch<"u"&&(l=[l[0]].concat([this._ch]).concat(l.slice(1))),new he(s.apply(this,l))},tn[n]=function(){var l=Array.prototype.slice.call(arguments);return typeof this._gr<"u"&&(l=[this._gr].concat(l)),typeof this._ch<"u"&&(l=[l[0]].concat([this._ch]).concat(l.slice(1))),this.send(s.apply(this,l))}}function gp(n,s){he[n]=function(){var l=Array.prototype.slice.call(arguments);typeof this._gr<"u"&&(l=[this._gr].concat(l)),typeof this._ch<"u"&&(l=[l[0]].concat([this._ch]).concat(l.slice(1)));for(var v=s.apply(this,l),_=0;_<v.length;_++)v[_]=new he(v[_]);return v},tn[n]=function(){var l=Array.prototype.slice.call(arguments);typeof this._gr<"u"&&(l=[this._gr].concat(l)),typeof this._ch<"u"&&(l=[l[0]].concat([this._ch]).concat(l.slice(1)));for(var v=s.apply(this,l),_=0;_<v.length;_++)this.send(v[_]);return this}}function ec(n,s){return n==1?0:s==0?1:s==n-1?3:2}function tc(n,s){for(var l=[],v=n;v.length;v=v.slice(s))l.push(v.slice(0,s));return l.length?l:[[]]}function Hi(n,s){for(var l=tc(s.slice(1,s.length-1),6),v=0;v<l.length;v++)l[v]=new he([48+n,ec(l.length,v)*16+l[v].length].concat(l[v],Rn).slice(0,8));return l}function mp(n,s){he[n]=function(){var l=Array.prototype.slice.call(arguments);return typeof this._gr<"u"&&(l=[this._gr].concat(l)),Hi(Me(l[0]),s.apply(this,l.slice(1)))},tn[n]=function(){var l=Array.prototype.slice.call(arguments);typeof this._gr<"u"&&(l=[this._gr].concat(l));for(var v=Hi(Me(l[0]),s.apply(this,l.slice(1))),_=this,N=0;N<v.length;N++)_=_.send(v[N]);return _}}function _p(n,s){he[n]=function(){var l=Array.prototype.slice.call(arguments);typeof this._gr<"u"&&(l=[this._gr].concat(l));for(var v=s.apply(this,l.slice(1)),_=[],N=0;N<v.length;N++)_=_.concat(Hi(Me(l[0]),v[N]));return _},tn[n]=function(){var l=Array.prototype.slice.call(arguments);typeof this._gr<"u"&&(l=[this._gr].concat(l));for(var v=s.apply(this,l.slice(1)),_=this,N=0;N<v.length;N++)for(var D=Hi(Me(l[0]),v[N]),W=0;W<D.length;W++)_=_.send(D[W]);return _}}function wp(n,s){he[n]=function(){var l=Array.prototype.slice.call(arguments);return typeof this._gr<"u"&&(l=[this._gr].concat(l)),new he([16+Me(l[0])].concat(s.apply(this,l.slice(1)),Rn).slice(0,4))},tn[n]=function(){var l=Array.prototype.slice.call(arguments);return typeof this._gr<"u"&&(l=[this._gr].concat(l)),this.send([16+Me(l[0])].concat(s.apply(this,l.slice(1)),Rn).slice(0,4))}}function nc(n,s){he[n]=function(){var l=Array.prototype.slice.call(arguments);return typeof this._gr<"u"&&(l=[this._gr].concat(l)),typeof this._ch<"u"&&(l=[l[0]].concat([this._ch]).concat(l.slice(1))),new he([32+Me(l[0])].concat(s.apply(this,l.slice(1)),Rn).slice(0,4))},tn[n]=function(){var l=Array.prototype.slice.call(arguments);return typeof this._gr<"u"&&(l=[this._gr].concat(l)),typeof this._ch<"u"&&(l=[l[0]].concat([this._ch]).concat(l.slice(1))),this.send([32+Me(l[0])].concat(s.apply(this,l.slice(1)),Rn).slice(0,4))}}function xp(n,s){he[n]=function(){var l=Array.prototype.slice.call(arguments);typeof this._gr<"u"&&(l=[this._gr].concat(l)),typeof this._ch<"u"&&(l=[l[0]].concat([this._ch]).concat(l.slice(1)));for(var v=s.apply(this,l.slice(1)),_=0;_<v.length;_++)v[_]=new he([32+Me(l[0])].concat(v[_],Rn).slice(0,4));return v},tn[n]=function(){var l=Array.prototype.slice.call(arguments);typeof this._gr<"u"&&(l=[this._gr].concat(l)),typeof this._ch<"u"&&(l=[l[0]].concat([this._ch]).concat(l.slice(1)));for(var v=s.apply(this,l.slice(1)),_=this,N=0;N<v.length;N++)_=_.send([32+Me(l[0])].concat(v[N],Rn).slice(0,4));return _}}fe(Kl,function(n){dp(n,Kl[n])}),fe(Ca,function(n){pp(n,Ca[n])}),fe(Zl,function(n){vp(n,Zl[n])}),fe(Jl,function(n){yp(n,Jl[n])}),fe(_e,function(n){gp(n,_e[n])}),fe(ei,function(n){wp(n,ei[n])}),fe(dn,function(n){nc(n,dn[n])}),fe(ue,function(n){nc(n,ue[n])}),fe(me,function(n){xp(n,me[n])}),fe(oe,function(n){mp(n,oe[n])}),fe(pn,function(n){_p(n,pn[n])});function ka(n){fe(tn,function(s){n.prototype[s]=tn[s]})}ka(Te),he.prototype.getTempo=function(){if(this.isTempo())return(this[4]<<24)+(this[5]<<16)+(this[6]<<8)+this[7]},he.prototype.getBPM=function(){var n=this.getTempo();if(n)return Math.round(6e9/n)},he.prototype.getTimeSignature=function(){if(this.isTimeSignature())return[this[4],1<<this[5]]},he.prototype.getTicksPQN=function(){if(this.isTicksPQN())return(this[2]<<8)+this[3]},he.prototype.getDelta=function(){if(this.isDelta())return((this[1]&15)<<16)+(this[2]<<8)+this[3]},he.prototype.isTempo=function(){return this[0]>>4==13&&this[1]>>4==1&&this[2]==0&&this[3]==0},he.prototype.isTimeSignature=function(){return this[0]>>4==13&&this[1]>>4==1&&this[2]==0&&this[3]==1},he.prototype.isTicksPQN=function(){return this[0]==0&&this[1]>>4==3},he.prototype.isDelta=function(){return this[0]==0&&this[1]>>4==4},he.prototype.isStartClip=function(){return this.match([240,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0])},he.prototype.isEndClip=function(){return this.match([240,33,0,0,0,0,0,0,0,0,0,0,0,0,0,0])},he.prototype.isNoteOn=function(){var n=(this[0]||0)>>4,s=(this[1]||0)>>4;return n==4?s==9:n==2?s==9&&!!this[3]:!1},he.prototype.isNoteOff=function(){var n=(this[0]||0)>>4,s=(this[1]||0)>>4;return n==4?s==8:n==2?s==8||s==9&&!this[3]:!1},he.prototype.toString=L.prototype.toString,he.prototype._str=function(){var n=this._string();return n?ot(this)+" -- "+n:ot(this)},he.prototype._string=function(){var n,s,l=this[0]>>4;return l==1||l==2?new L(this.slice(1))._string():(l==0?(n=this[1]>>4,s=["NOOP","JR Clock","JR Timestamp","Ticks Per Quarter Note","Delta Ticks"][n]):l==3?s="SysEx":l==4?(n=this[1]>>4,s={0:"Registered Per-Note Controller",1:"Assignable Per-Note Controller",2:"Registered Controller",3:"Assignable Controller",4:"Relative Registered Controller",5:"Relative Assignable Controller",6:"Per-Note Pitch Bend",8:"Note Off",9:"Note On",10:"Poly Pressure",11:"Control Change",12:"Program Change",13:"Channel Pressure",14:"Pitch Bend",15:"Per-Note Management"}[n]):l==5?s="Data":l==13&&(n=this[2],n==0?(n=this[3],s={0:"Tempo ",1:"Time Signature ",2:"Metronome",5:"Key Signature",6:"Chord Name"}[n],n==0?s+=this.getBPM()+" BPM":n==1&&(s+=this.getTimeSignature().join("/"))):n==1?(n=this[3],s={0:"Metadata",1:"Project Name",2:"Composition Name",3:"Clip Name",4:"Copyright",5:"Composer Name",6:"Lyricist Name",7:"Arranger Name",8:"Publisher Name",9:"Primary Performer Name",10:"Accompanying Performer Name",11:"Recording Date",12:"Recording Location"}[n]||"Unknown Text"):n==2&&(n=this[3],s={0:"Text",1:"Lyrics",2:"Lyrics Language",3:"Ruby",4:"Ruby Language"}[n]||"Unknown Text")),l==15&&(s={32:"Start of Clip",33:"End of Clip"}[this[1]]),s)},he.prototype._stamp=L.prototype._stamp,he.prototype._unstamp=L.prototype._unstamp,he.prototype._stamped=L.prototype._stamped,he.prototype.match=L.prototype.match,re.UMP=he,j.prototype.UMP=he,re.MIDI2=he,j.prototype.MIDI2=he;function Cp(n){return n?n>>9||1:0}function zr(n,s){return n.gr=s,n}function kp(n){if(n.isMidi2){var s,l,v=n[0]>>4,_=n[0]&15;v==1||v==2?this._emit(zr(new L(n.slice(1)),_)):v==3?(l=n[1]>>4,s=n[1]&15,l==0?(this._emit(zr(new L([240].concat(n.slice(2,2+s),[247])),_)),this._sx[_]=void 0):l==1?this._sx[_]=n.slice(2,2+s):l==2?this._sx[_]&&(this._sx[_]=this._sx[_].concat(n.slice(2,2+s))):l==3&&(this._sx[_]&&this._emit(zr(new L([240].concat(this._sx[_],n.slice(2,2+s),[247])),_)),this._sx[_]=void 0)):v==4&&(s=n[1]>>4,l=n[1]&15,s==8||s==9?this._emit(zr(new L([n[1],n[2],Cp(n[4]*256+n[5])]),_)):s==12&&(n[3]&&(this._emit(zr(new L([176+l,0,n[6]]),_)),this._emit(zr(new L([176+l,32,n[7]]),_))),this._emit(zr(new L([n[1],n[4]]),_))))}else this._emit(n)}function Ep(){var n=new x;return n._sx=[],n._receive=kp,n._resume(),n.MIDI2()}re.M2M1=Ep,j.prototype.M2M1=re.M2M1;function Sp(n){if(n.isMidi2)this._emit(n);else{var s=n.gr>=0&&n.gr<=15?n.gr:0;if(n[0]>=128&&n[0]<240)this._emit(re.MIDI2([32+s].concat(n.slice(),Rn).slice(0,4)));else if(n[0]>240&&n[0]<=255&&n[0]!=247)this._emit(re.MIDI2([16+s].concat(n.slice(),Rn).slice(0,4)));else if(n.isFullSysEx())for(var l=Hi(s,n.slice()),v=0;v<l.length;v++)this._emit(re.MIDI2(l[v]))}}function Pp(){var n=new x;return n._receive=Sp,n._resume(),n}re.M1M2=Pp,j.prototype.M1M2=re.M1M2,re.lib={},re.lib.now=M,re.lib.schedule=f;var Ea=[],ti,Sa=0;try{var bp=URL.createObjectURL(new Blob(["(",(function(){function n(){postMessage({}),setTimeout(n,0)}n()}).toString(),")()"],{type:"application/javascript"})),Tp=function(){for(var n=Ea.length,s=0;s<n;s++)Ea.shift()();Sa++,Sa>20&&ti&&(ti.terminate(),ti=void 0)},rc=function(n){Ea.push(n),Sa=0,ti||(ti=new Worker(bp),ti.onmessage=Tp)};rc(function(){re.lib.schedule=rc})}catch{}re.lib.openMidiOut=function(n,s){var l=new x;return s._openOut(l),l._info=s._info(n),l},re.lib.openMidiIn=function(n,s){var l=new x;return s._openIn(l),l._info=s._info(n),l},re.lib.registerMidiOut=function(n,s){for(var l=s._info(n),v=0;v<bt._outs.length;v++)if(bt._outs[v].name==l.name)return!1;return l.engine=s,bt._outs.push(l),ye&&(te(),ye._bad&&(ye._repair(),ye._resume())),!0},re.lib.registerMidiIn=function(n,s){for(var l=s._info(n),v=0;v<bt._ins.length;v++)if(bt._ins[v].name==l.name)return!1;return l.engine=s,bt._ins.push(l),ye&&(te(),ye._bad&&(ye._repair(),ye._resume())),!0};var qt;function Mp(){if(!qt&&typeof window<"u"){var n=window.AudioContext||window.webkitAudioContext;if(n){qt=new n,qt&&!qt.createGain&&(qt.createGain=qt.createGainNode);var s=function(){if(qt.state!="running"){qt.resume();var l=qt.createOscillator(),v=qt.createGain();try{v.gain.value=0}catch{}v.gain.setTargetAtTime(0,qt.currentTime,.01),l.connect(v),v.connect(qt.destination),l.start||(l.start=l.noteOn),l.stop||(l.stop=l.noteOff),l.start(.1),l.stop(.11)}else typeof document<"u"&&(document.removeEventListener("touchstart",s),document.removeEventListener("touchend",s),document.removeEventListener("mousedown",s),document.removeEventListener("keydown",s))};typeof document<"u"&&(document.addEventListener("touchstart",s),document.addEventListener("touchend",s),document.addEventListener("mousedown",s),document.addEventListener("keydown",s)),s()}}}re.lib.copyMidiHelpers=o,re.lib.copyMidi2Helpers=ka,re.lib.copyUmpHelpers=ka,re.lib.getAudioContext=function(){return Mp(),qt};var fr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";re.lib.fromBase64=function(n){var s="",l,v,_,N,D,W,Q,ae=0;for(n=n.replace(/[^A-Za-z0-9+/=]/g,"");ae<n.length;)N=fr.indexOf(n.charAt(ae++)),D=fr.indexOf(n.charAt(ae++)),W=fr.indexOf(n.charAt(ae++)),Q=fr.indexOf(n.charAt(ae++)),l=N<<2|D>>4,v=(D&15)<<4|W>>2,_=(W&3)<<6|Q,s=s+String.fromCharCode(l),W!=64&&(s=s+String.fromCharCode(v)),Q!=64&&(s=s+String.fromCharCode(_));return s},re.lib.toBase64=function(n){var s,l,v,_,N,D,W,Q,ae=0,$e=0,qn="",Pa=[];if(!n)return n;do s=n.charCodeAt(ae++),l=n.charCodeAt(ae++),v=n.charCodeAt(ae++),Q=s<<16|l<<8|v,_=Q>>18&63,N=Q>>12&63,D=Q>>6&63,W=Q&63,Pa[$e++]=fr.charAt(_)+fr.charAt(N)+fr.charAt(D)+fr.charAt(W);while(ae<n.length);qn=Pa.join("");var ba=n.length%3;return ba?qn.slice(0,ba-3)+"===".slice(ba):qn},re.lib.fromUTF8=function(n){n=typeof n>"u"?"":""+n;var s="",l,v,_;for(l=0;l<n.length;l++){if(v=n.charCodeAt(l),v>255)return n;if(v<128)s+=n[l];else if((v&224)==192){if(v=(v&31)<<6,l++,l>=n.length||(_=n.charCodeAt(l),(_&192)!=128))return n;v+=_&63,s+=String.fromCharCode(v)}else if((v&240)==224){if(v=(v&15)<<12,l++,l>=n.length||(_=n.charCodeAt(l),(_&192)!=128)||(v+=(_&63)<<6,l++,l>=n.length)||(_=n.charCodeAt(l),(_&192)!=128))return n;v+=_&63,s+=String.fromCharCode(v)}else if((v&248)==240){if(v=(v&7)<<18,l++,l>=n.length||(_=n.charCodeAt(l),(_&192)!=128)||(v+=(_&63)<<12,l++,l>=n.length)||(_=n.charCodeAt(l),(_&192)!=128)||(v+=(_&63)<<6,l++,l>=n.length)||(_=n.charCodeAt(l),(_&192)!=128)||(v+=_&63,v>1114111))return n;v-=65536,s+=String.fromCharCode(55296+(v>>10)),s+=String.fromCharCode(56320+(v&1023))}}return s},re.lib.toUTF8=function(n){n=typeof n>"u"?"":""+n;var s="",l,v;for(l=0;l<n.length;l++)v=n.charCodeAt(l),v<128?s+=n[l]:v<2048?(s+=String.fromCharCode(192+(v>>6)),s+=String.fromCharCode(128+(v&63))):v<65536?(s+=String.fromCharCode(224+(v>>12)),s+=String.fromCharCode(128+(v>>6&63)),s+=String.fromCharCode(128+(v&63))):(s+=String.fromCharCode(240+(v>>18)),s+=String.fromCharCode(128+(v>>12&63)),s+=String.fromCharCode(128+(v>>6&63)),s+=String.fromCharCode(128+(v&63)));return s};var dt=[],nn={},rn={},On=r.Promise;typeof On!="function"&&(On=function(n){this.executor=n},On.prototype.then=function(n,s){typeof n!="function"&&(n=w),typeof s!="function"&&(s=w),this.executor(n,s)});function qi(n,s,l){this.name=n,this.message=s,this.code=l}function ic(n,s){this.bubbles=!1,this.cancelBubble=!1,this.cancelable=!1,this.currentTarget=s,this.defaultPrevented=!1,this.eventPhase=0,this.path=[],this.port=n,this.returnValue=!0,this.srcElement=s,this.target=s,this.timeStamp=M(),this.type="statechange"}function Ip(n,s){this.bubbles=!1,this.cancelBubble=!1,this.cancelable=!1,this.currentTarget=n,this.data=s,this.defaultPrevented=!1,this.eventPhase=0,this.path=[],this.receivedTime=M(),this.returnValue=!0,this.srcElement=n,this.target=n,this.timeStamp=this.receivedTime,this.type="midimessage"}function Nn(n,s){n&&(n.onstatechange&&n.onstatechange(new ic(n,n)),s.onstatechange&&s.onstatechange(new ic(n,s)))}function Ap(n,s){var l=this,v=!1,_=null,N=null;this.type="input",this.id=s.id,this.name=s.name,this.manufacturer=s.man,this.version=s.ver,Object.defineProperty(this,"state",{get:function(){return s.connected?"connected":"disconnected"},enumerable:!0}),Object.defineProperty(this,"connection",{get:function(){return v?s.proxy?"open":"pending":"closed"},enumerable:!0}),Object.defineProperty(this,"onmidimessage",{get:function(){return N},set:function(D){E(D)?(N=D,v||l.open().then(w,w)):N=null},enumerable:!0}),Object.defineProperty(this,"onstatechange",{get:function(){return _},set:function(D){E(D)?_=D:_=null},enumerable:!0}),this.open=function(){return new On(function(D,W){v?D(l):s.open().then(function(){v||(v=!0,Nn(l,n)),D(l)},function(){W(new qi("InvalidAccessError","Port is not available",15))})})},this.close=function(){return new On(function(D){v&&(v=!1,s.close(),Nn(l,n)),D(l)})},Object.freeze(this)}function oc(n){for(var s,l;n.length;){for(s=0;s<n.length&&!(n[s]==parseInt(n[s])&&n[s]>=128&&n[s]<=255&&n[s]!=247);s++);if(n.splice(0,s),!n.length)return;if(n[0]==240){for(s=1;s<n.length&&n[s]!=247;s++);return s==n.length?void 0:n.splice(0,s+1)}else{if(l=sc(n[0])+1,l>n.length)return;for(s=1;s<l&&!(n[s]!=parseInt(n[s])||n[s]<0||n[s]>=128);s++);if(s==l)return n.splice(0,s);n.splice(0,s)}}}function ni(n,s,l,v){var _=this;this.id=n,this.name=s,this.man=l,this.ver=v,this.connected=!0,this.ports=[],this.pending=[],this.proxy=void 0,this.queue=[],this.onmidi=function(N){var D;for(_.queue=_.queue.concat(N.slice()),D=oc(_.queue);D;D=oc(_.queue))for(a=0;a<_.ports.length;a++)_.ports[a][0].onmidimessage&&(D[0]!=240||_.ports[a][1])&&_.ports[a][0].onmidimessage(new Ip(_,new Uint8Array(D)))}}ni.prototype.open=function(){var n=this;return new On(function(s,l){var v;n.proxy||!n.connected?s():(n.pending.push([s,l]),n.pending.length==1&&re().openMidiIn(n.name).or(function(){for(v=0;v<n.pending.length;v++)n.pending[v][1]();n.pending=[]}).and(function(){for(n.proxy=this,n.proxy.connect(n.onmidi),v=0;v<n.pending.length;v++)n.pending[v][0]();n.pending=[]}))})},ni.prototype.close=function(){var n;if(this.proxy){for(n=0;n<this.ports.length;n++)if(this.ports[n].connection=="open")return;this.proxy.close(),this.proxy=void 0}},ni.prototype.disconnect=function(){this.connected=!1,this.proxy&&(this.proxy.close(),this.proxy=void 0)},ni.prototype.reconnect=function(){var n=this,s,l,v=[];for(this.connected=!0,s=0;s<dt.length;s++)l=dt[s].inputs.get(this.id),l.connection=="closed"?Nn(l,dt[s]):v.push([l,dt[s]]);v.length&&re()._openMidiInNR(n.name).or(function(){for(s=0;s<v.length;s++)v[s][0].close()}).and(function(){for(n.proxy=this,n.proxy.connect(n.onmidi),s=0;s<v.length;s++)Nn(v[s][0],v[s][1])})};function sc(n){return n>=128&&n<=191||n>=224&&n<=239||n==242?2:n>=192&&n<=223||n==241||n==243?1:0}var ri="Failed to execute 'send' on 'MIDIOutput': ";function Bp(n,s){var l,v,_,N=[];for(l=0;l<n.length;l++)if(n[l]!=parseInt(n[l])||n[l]<0||n[l]>255)throw TypeError(ri+n[l]+" is not a UInt8 value.");for(v=0,l=0;l<n.length;l++)if(v){if(n[l]>127)throw TypeError(ri+"Unexpected status byte at index "+l+" ("+n[l]+").");_.push(n[l]),v--}else{if(n[l]<128)throw TypeError(ri+"Running status is not allowed at index "+l+" ("+n[l]+").");if(n[l]==247)throw TypeError(ri+"Unexpected end of system exclusive message at index "+l+" ("+n[l]+").");if(_=[n[l]],N.push(_),n[l]==240){if(!s)throw new qi("InvalidAccessError",ri+"System exclusive messag is not allowed at index "+l+" ("+n[l]+").",15);for(v=-1;l<n.length;l++)if(_.push(n[l]),n[l]==247){v=0;break}}else v=sc(n[l])}if(v)throw TypeError(ri+"Message is incomplete");return[N]}function Rp(n,s){var l=this,v=!1,_=null;this.type="output",this.id=s.id,this.name=s.name,this.manufacturer=s.man,this.version=s.ver,Object.defineProperty(this,"state",{get:function(){return s.connected?"connected":"disconnected"},enumerable:!0}),Object.defineProperty(this,"connection",{get:function(){return v?s.proxy?"open":"pending":"closed"},enumerable:!0}),Object.defineProperty(this,"onstatechange",{get:function(){return _},set:function(N){E(N)?_=N:_=null},enumerable:!0}),this.open=function(){return new On(function(N,D){v?N(l):s.open().then(function(){v||(v=!0,Nn(l,n)),N(l)},function(){D(new qi("InvalidAccessError","Port is not available",15))})})},this.close=function(){return new On(function(N){v&&(v=!1,l.clear(),s.close(),Nn(l,n)),N(l)})},this.clear=function(){},this.send=function(N,D){if(Bp(N,n.sysexEnabled),!s.connected)throw new qi("InvalidStateError","Port is not connected",11);if(v){var W=M();D>W?setTimeout(function(){s.proxy.send(N)},D-W):s.proxy.send(N)}else this.open().then(function(){l.send(N,D)},w)},Object.freeze(this)}function ii(n,s,l,v){this.id=n,this.name=s,this.man=l,this.ver=v,this.connected=!0,this.ports=[],this.pending=[],this.proxy=void 0}ii.prototype.open=function(){var n=this;return new On(function(s,l){var v;n.proxy||!n.connected?s():(n.pending.push([s,l]),n.pending.length==1&&re().openMidiOut(n.name).or(function(){for(v=0;v<n.pending.length;v++)n.pending[v][1]();n.pending=[]}).and(function(){for(n.proxy=this,v=0;v<n.pending.length;v++)n.pending[v][0]();n.pending=[]}))})},ii.prototype.close=function(){var n;if(this.proxy){for(n=0;n<this.ports.length;n++)if(this.ports[n].connection=="open")return;this.proxy.close(),this.proxy=void 0}},ii.prototype.disconnect=function(){this.connected=!1,this.proxy&&(this.proxy.close(),this.proxy=void 0)},ii.prototype.reconnect=function(){var n=this,s,l,v=[];for(this.connected=!0,s=0;s<dt.length;s++)l=dt[s].outputs.get(this.id),l.connection=="closed"?Nn(l,dt[s]):v.push([l,dt[s]]);v.length&&re()._openMidiOutNR(n.name).or(function(){for(s=0;s<v.length;s++)v[s][0].close()}).and(function(){for(n.proxy=this,s=0;s<v.length;s++)Nn(v[s][0],v[s][1])})};function ac(n){this.has=function(s){return n.hasOwnProperty(s)&&n[s].connected},this.keys=function(){try{var s=new Map;for(var l in n)this.has(l)&&s.set(l,this.get(l));return s.keys()}catch{}},this.values=function(){try{var s=new Map;for(var l in n)this.has(l)&&s.set(l,this.get(l));return s.values()}catch{}},this.entries=function(){try{var s=new Map;for(var l in n)this.has(l)&&s.set(l,this.get(l));return s.entries()}catch{}},this.forEach=function(s,l){typeof l>"u"&&(l=this);for(var v in n)this.has(v)&&s.call(l,this.get(v),v,this)},Object.defineProperty(this,"size",{get:function(){var s=0;for(var l in n)this.has(l)&&s++;return s},enumerable:!0})}function $o(n,s){this.get=function(l){if(rn.hasOwnProperty(l)&&rn[l].connected)return s[l]||(s[l]=new Ap(n,rn[l]),rn[l].ports.push([s[l],n.sysexEnabled])),s[l]},Object.freeze(this)}$o.prototype=new ac(rn),$o.prototype.constructor=$o;function Yo(n,s){this.get=function(l){if(nn.hasOwnProperty(l)&&nn[l].connected)return s[l]||(s[l]=new Rp(n,nn[l]),nn[l].ports.push([s[l],n.sysexEnabled])),s[l]},Object.freeze(this)}Yo.prototype=new ac(nn),Yo.prototype.constructor=Yo;function Op(n){var s,l,v,_;for(s=0;s<n.inputs.added.length;s++)v=n.inputs.added[s],rn.hasOwnProperty(v.id)||(rn[v.id]=new ni(v.id,v.name,v.manufacturer,v.version)),rn[v.id].reconnect();for(s=0;s<n.outputs.added.length;s++)v=n.outputs.added[s],nn.hasOwnProperty(v.id)||(nn[v.id]=new ii(v.id,v.name,v.manufacturer,v.version)),nn[v.id].reconnect();for(s=0;s<n.inputs.removed.length;s++)if(v=n.inputs.removed[s],rn.hasOwnProperty(v.id)){for(_=[],l=0;l<dt.length;l++)_.push([dt[l].inputs.get(v.id),dt[l]]);for(rn[v.id].disconnect(),l=0;l<_.length;l++)Nn(_[l][0],_[l][1])}for(s=0;s<n.outputs.removed.length;s++)if(v=n.outputs.removed[s],nn.hasOwnProperty(v.id)){for(_=[],l=0;l<dt.length;l++)_.push([dt[l].outputs.get(v.id),dt[l]]);for(nn[v.id].disconnect(),l=0;l<_.length;l++)Nn(_[l][0],_[l][1])}}function Np(n){var s={},l={},v=null,_=this;this.sysexEnabled=n,this.inputs=new $o(_,s),this.outputs=new Yo(_,l),Object.defineProperty(this,"onstatechange",{get:function(){return v},set:function(Q){v=E(Q)?Q:null},enumerable:!0}),Object.freeze(this);var N,D,W=ye._info;for(N=0;N<W.inputs.length;N++)D=W.inputs[N],rn.hasOwnProperty(D.id)||(rn[D.id]=new ni(D.id,D.name,D.manufacturer,D.version));for(N=0;N<W.outputs.length;N++)D=W.outputs[N],nn.hasOwnProperty(D.id)||(nn[D.id]=new ii(D.id,D.name,D.manufacturer,D.version));dt.length||re().onChange(Op),dt.push(this)}return re.requestMIDIAccess=function(n){return new On(function(s,l){re.JZZ(n).or(function(){}).and(function(){var v=!!(n&&n.sysex);if(v&&!this.info().sysex)l(new qi("SecurityError","Sysex is not allowed",18));else{var _=new Np(v);s(_)}})})},typeof navigator<"u"&&!navigator.requestMIDIAccess&&(navigator.requestMIDIAccess=re.requestMIDIAccess),re.close=function(){A._close&&A._close()},re})}(nu)),nu.exports}var iu={exports:{}},Ah;function Oy(){return Ah||(Ah=1,function(e,t){(function(r,i){i.SMF=i,e.exports=i})(Tr,function(r){if(r.MIDI.SMF)return;var i="1.8.1",a=r.lib.now;function u(h){throw new Error(h)}function c(h){var p="";return h>2097151&&(p+=String.fromCharCode((h>>21&127)+128)),h>16383&&(p+=String.fromCharCode((h>>14&127)+128)),h>127&&(p+=String.fromCharCode((h>>7&127)+128)),p+=String.fromCharCode(h&127),p}function g(h){return String.fromCharCode(h>>8)+String.fromCharCode(h&255)}function m(h){return String.fromCharCode(h>>24&255)+String.fromCharCode(h>>16&255)+String.fromCharCode(h>>8&255)+String.fromCharCode(h&255)}function C(h){return String.fromCharCode(h&255)+String.fromCharCode(h>>8&255)+String.fromCharCode(h>>16&255)+String.fromCharCode(h>>24&255)}function S(h){for(var p="",x=h.byteLength,B=0;B<x;B++)p+=String.fromCharCode(h[B]);return p}function M(){var h=this;h instanceof M||(h=new M,delete h.ppqn);var p=1,x=96,B,z;if(arguments.length==1){if(arguments[0]instanceof M)return arguments[0].copy();if(arguments[0]instanceof X){h.type=0,h.ppqn=x,h.push(new V);for(var H=0;H<arguments[0].length;H++)h[0].add(0,arguments[0][H]);return h}var ee;try{arguments[0]instanceof ArrayBuffer&&(ee=S(new Uint8Array(arguments[0])))}catch{}try{(arguments[0]instanceof Uint8Array||arguments[0]instanceof Int8Array)&&(ee=S(new Uint8Array(arguments[0])))}catch{}try{arguments[0]instanceof Buffer&&(ee=arguments[0].toString("binary"))}catch{}if(typeof arguments[0]=="string"&&arguments[0]!="0"&&arguments[0]!="1"&&arguments[0]!="2"&&(ee=arguments[0]),ee==""&&u("Empty file"),ee)return h.load(ee),h;p=parseInt(arguments[0])}else arguments.length==2?(p=parseInt(arguments[0]),x=parseInt(arguments[1])):arguments.length==3?(p=parseInt(arguments[0]),B=parseInt(arguments[1]),z=parseInt(arguments[2])):arguments.length&&u("Invalid parameters");return(isNaN(p)||p<0||p>2)&&u("Invalid parameters"),h.type=p,typeof B>"u"?((isNaN(x)||x<0||x>65535)&&u("Invalid parameters"),h.ppqn=x):(B!=24&&B!=25&&B!=29&&B!=30&&u("Invalid parameters"),(isNaN(z)||z<0||z>255)&&u("Invalid parameters"),h.fps=B,h.ppf=z),h}M.version=function(){return i},M.num4=m,M.prototype=[],M.prototype.constructor=M,M.prototype.copy=function(){var h=new M;h.type=this.type,h.ppqn=this.ppqn,h.fps=this.fps,h.ppf=this.ppf,h.rmi=this.rmi,h.ntrk=this.ntrk;for(var p=0;p<this.length;p++)h.push(this[p].copy());return h};function f(h,p,x,B,z){var H={off:h,msg:p,data:x};return typeof B<"u"&&(H.tick=B),typeof z<"u"&&(H.track=z),H}M.prototype._complain=function(h,p,x){this._warn||(this._warn=[]),this._warn.push(f(h,p,x))},M.prototype.load=function(h){var p=0;h.substr(0,4)=="RIFF"&&h.substr(8,8)=="RMIDdata"&&(this.rmi=!0,p=20,h=h.substr(20,h.charCodeAt(16)+h.charCodeAt(17)*256+h.charCodeAt(18)*65536+h.charCodeAt(19)*16777216)),E(this,h,p)};var w="MThd\0\0\0";function E(h,p,x){if(p.substr(0,8)!=w){var B=p.indexOf(w);B!=-1?(p=p.substr(B),h._complain(x,"Extra leading characters",B),x+=B):u("Not a MIDI file")}h._off=x,h.type=p.charCodeAt(8)*16+p.charCodeAt(9),h._off_type=x+8,h.ntrk=p.charCodeAt(10)*16+p.charCodeAt(11),h._off_ntrk=x+10,p.charCodeAt(12)>127?(h.fps=256-p.charCodeAt(12),h.ppf=p.charCodeAt(13),h._off_fps=x+12,h._off_ppf=x+13):(h.ppqn=p.charCodeAt(12)*256+p.charCodeAt(13),h._off_ppqn=x+12),h.type>2?h._complain(8+x,"Invalid MIDI file type",h.type):h.type==0&&h.ntrk>1&&h._complain(10+x,"Wrong number of tracks for the type 0 MIDI file",h.ntrk),!h.ppf&&!h.ppqn&&u("Invalid MIDI header");for(var z=0,H=14;H<p.length-8;){var ee=H+x,ve=p.substr(H,4);ve=="MTrk"&&z++;var be=(p.charCodeAt(H+4)<<24)+(p.charCodeAt(H+5)<<16)+(p.charCodeAt(H+6)<<8)+p.charCodeAt(H+7);be<=0&&(be=p.length-H-8,h._complain(H+x+4,"Invalid track length",p.charCodeAt(H+4)+"/"+p.charCodeAt(H+5)+"/"+p.charCodeAt(H+6)+"/"+p.charCodeAt(H+7))),H+=8;var mt=p.substr(H,be);h.push(new Z(ve,mt,ee)),ve=="MThd"&&h._complain(ee,"Unexpected chunk type","MThd"),H+=be}z!=h.ntrk&&(h._complain(x+10,"Incorrect number of tracks",h.ntrk),h.ntrk=z),h.ntrk||u("No MIDI tracks"),(!h.type&&h.ntrk>1||h.type>2)&&(h.type=1),H<p.length&&h._complain(x+H,"Extra trailing characters",p.length-H),H>p.length&&h._complain(x+p.length,"Incomplete data",H-p.length)}function O(h){if(!(this instanceof O))return new O(h);for(var p in h)h.hasOwnProperty(p)&&(this[p]=h[p])}O.prototype.toString=function(){var h=[];return typeof this.off<"u"&&h.push("offset "+this.off),typeof this.track<"u"&&h.push("track "+this.track),typeof this.tick<"u"&&h.push("tick "+this.tick),h.join(" ")+" -- "+this.msg+" ("+this.data+")"},M.prototype.tracks=function(){for(var h=0,p=0;p<this.length;p++)this[p]instanceof V&&h++;return h};function q(h,p){var x;for(x=0;x<16;x++)p[x]&&(p[x].rm&&p[x].rl&&p[x].rm[0][2]==127&&p[x].rl[0][2]==127&&(p[x].rm[1]=!0,p[x].rl[1]=!0),b(h,p,x,"bm"),b(h,p,x,"bl"),b(h,p,x,"nm"),b(h,p,x,"nl"),b(h,p,x,"rm"),b(h,p,x,"rl")),p[x]={}}function T(h,p,x){if(!(!x.length||x[0]<128)){if(x.isGmReset()||x.isGsReset()||x.isXgReset()){q(h,p);return}var B=x[0]>>4,z=x[0]&15,H;if(B==11){switch(x[1]){case 0:b(h,p,z,"bm"),p[z].bm=[x,!1];break;case 32:b(h,p,z,"bl"),p[z].bl=[x,!1];break;case 98:b(h,p,z,"nl"),b(h,p,z,"rm"),b(h,p,z,"rl"),p[z].nl=[x,!1];break;case 99:b(h,p,z,"nm"),b(h,p,z,"rm"),b(h,p,z,"rl"),p[z].nm=[x,!1];break;case 100:b(h,p,z,"rl"),b(h,p,z,"nm"),b(h,p,z,"nl"),p[z].rl=[x,!1];break;case 101:b(h,p,z,"rm"),b(h,p,z,"nm"),b(h,p,z,"nl"),p[z].rm=[x,!1];break;case 6:case 38:case 96:case 97:p[z].rm&&p[z].rl&&(p[z].rm[1]=!0,p[z].rl[1]=!0),p[z].rm&&!p[z].rl&&!p[z].rm[1]&&(H=p[z].rm[0],h.push(f(H._off,"No matching RPN LSB",H.toString(),H.tt,H.track)),p[z].rm[1]=!0),!p[z].rm&&p[z].rl&&!p[z].rl[1]&&(H=p[z].rl[0],h.push(f(H._off,"No matching RPN MSB",H.toString(),H.tt,H.track)),p[z].rl[1]=!0),p[z].nm&&p[z].nl&&(p[z].nm[1]=!0,p[z].nl[1]=!0),p[z].nm&&!p[z].nl&&!p[z].nm[1]&&(H=p[z].nm[0],h.push(f(H._off,"No matching NRPN LSB",H.toString(),H.tt,H.track)),p[z].nm[1]=!0),!p[z].nm&&p[z].nl&&!p[z].nl[1]&&(H=p[z].nl[0],h.push(f(H._off,"No matching NRPN MSB",H.toString(),H.tt,H.track)),p[z].nl[1]=!0),!p[z].rm&&!p[z].rl&&!p[z].nm&&!p[z].nl&&h.push(f(x._off,"RPN/NRPN not set",x.toString(),x.tt,x.track)),p[z].rm&&p[z].rl&&p[z].rm[0][2]==127&&p[z].rl[0][2]==127&&h.push(f(x._off,"RPN/NRPN not set",x.toString(),x.tt,x.track));break}return}B==12&&(p[z].bm&&(p[z].bm[1]=!0),p[z].bl&&(p[z].bl[1]=!0),p[z].bl&&!p[z].bm&&(H=p[z].bl[0],h.push(f(H._off,"No matching Bank Select MSB",H.toString(),H.tt,H.track))),p[z].bm&&!p[z].bl&&(H=p[z].bm[0],h.push(f(H._off,"No matching Bank Select LSB",H.toString(),H.tt,H.track))))}}function b(h,p,x,B){if(p[x][B]&&!p[x][B][1]){var z;switch(B){case"bm":case"bl":z="Unnecessary Bank Select";break;case"nm":case"nl":z="Unnecessary NRPN";break;case"rm":case"rl":z="Unnecessary RPN";break}var H=p[x][B][0];h.push(f(H._off,z,H.toString(),H.tt,H.track)),delete p[x][B]}}M.prototype.validate=function(){var h,p,x,B=[];if(this._warn)for(h=0;h<this._warn.length;h++)B.push(O(this._warn[h]));var z=G(this);for(p=0,h=0;h<this.length;h++)this[h]instanceof V&&(this[h]._validate(B,p),p++);var H={};for(q(B,H),h=0;h<z.length;h++)x=qe(z[h],this.type==1),x&&(x.track=z[h].track,B.push(x)),T(B,H,z[h]);if(q(B,H),B.sort(function(ee,ve){return(ee.off||0)-(ve.off||0)||(ee.track||0)-(ve.track||0)||(ee.tick||0)-(ve.tick||0)}),B.length){for(h=0;h<B.length;h++)B[h]=O(B[h]);return B}},M.prototype.dump=function(h){var p="";if(h)return p=this.dump(),"RIFF"+C(p.length+12)+"RMIDdata"+C(p.length)+p;this.ntrk=0;for(var x=0;x<this.length;x++)this[x]instanceof V&&this.ntrk++,p+=this[x].dump();return p=(this.ppqn?g(this.ppqn):String.fromCharCode(256-this.fps)+String.fromCharCode(this.ppf))+p,p=w+"\0"+String.fromCharCode(this.type)+g(this.ntrk)+p,p},M.prototype.toBuffer=function(h){return Buffer.from(this.dump(h),"binary")},M.prototype.toUint8Array=function(h){for(var p=this.dump(h),x=new ArrayBuffer(p.length),B=new Uint8Array(x),z=0;z<p.length;z++)B[z]=p.charCodeAt(z);return B},M.prototype.toArrayBuffer=function(h){return this.toUint8Array(h).buffer},M.prototype.toInt8Array=function(h){return new Int8Array(this.toArrayBuffer(h))},M.prototype.toString=function(){var h;for(this.ntrk=0,h=0;h<this.length;h++)this[h]instanceof V&&this.ntrk++;var p=["SMF:","  type: "+this.type];for(this.ppqn?p.push("  ppqn: "+this.ppqn):p.push("  fps: "+this.fps,"  ppf: "+this.ppf),p.push("  tracks: "+this.ntrk),h=0;h<this.length;h++)p.push(this[h].toString());return p.join(`
`)};function P(h){if(!h.length)return 0;if(h.charCodeAt(0)<128)return[1,h.charCodeAt(0)];var p=h.charCodeAt(0)&127;return p<<=7,h.charCodeAt(1)<128?[2,p+h.charCodeAt(1)]:(p+=h.charCodeAt(1)&127,p<<=7,h.charCodeAt(2)<128?[3,p+h.charCodeAt(2)]:(p+=h.charCodeAt(2)&127,p<<=7,p+=h.charCodeAt(3)&127,[4,h.charCodeAt(3)<128?p:-p]))}function F(h){switch(h&240){case 128:case 144:case 160:case 176:case 224:return 2;case 192:case 208:return 1}switch(h){case 241:case 243:return 1;case 242:return 2}return 0}function G(h){var p,x,B=[],z=[];for(p=0;p<h.length;p++)h[p]instanceof V&&B.push(h[p]);if(h.type!=1)for(p=0;p<B.length;p++)for(x=0;x<B[p].length;x++)B[p][x].track=p,z.push(B[p][x]);else{var H=0,ee=[];for(p=0;p<B.length;p++)ee[p]=0;for(;;){var ve=!0,be=0;for(p=0;p<B.length;p++){for(;ee[p]<B[p].length&&B[p][ee[p]].tt==H;)B[p][ee[p]].track=p,z.push(B[p][ee[p]]),ee[p]++;ee[p]>=B[p].length||(ve&&(be=B[p][ee[p]].tt),ve=!1,be>B[p][ee[p]].tt&&(be=B[p][ee[p]].tt))}if(H=be,ve)break}}return z}M.prototype.annotate=function(){for(var h=G(this),p=r.Context(),x=0;x<h.length;x++)h[x].lbl&&(h[x].lbl=void 0),p._read(h[x]);return this},M.prototype.player=function(){var h=new ge;h.ppqn=this.ppqn,h.fps=this.fps,h.ppf=this.ppf;var p,x,B=G(this);if(this.type==2){var z=0,H=0,ee=0;for(p=0;p<B.length;p++)x=r.MIDI(B[p]),z!=x.track&&(z=x.track,H=ee),ee=x.tt+H,x.tt=ee,h._data.push(x)}else for(p=0;p<B.length;p++)x=r.MIDI(B[p]),h._data.push(x);return h._type=this.type,h._tracks=this.tracks(),h._timing(),h};function Z(h,p,x){if(!(this instanceof Z))return new Z(h,p,x);var B;if(this.sub[h])return this.sub[h](h,p,x);for((typeof h!="string"||h.length!=4)&&u("Invalid chunk type: "+h),B=0;B<h.length;B++)(h.charCodeAt(B)<0||h.charCodeAt(B)>255)&&u("Invalid chunk type: "+h);for(typeof p!="string"&&u("Invalid data type: "+p),B=0;B<p.length;B++)(p.charCodeAt(B)<0||p.charCodeAt(B)>255)&&u("Invalid data character: "+p[B]);this.type=h,this.data=p,this._off=x}M.Chunk=Z,Z.prototype=[],Z.prototype.constructor=Z,Z.prototype.copy=function(){return new Z(this.type,this.data)},Z.prototype.sub={MTrk:function(h,p,x){return new V(p,x)}},Z.prototype.dump=function(){return this.type+m(this.data.length)+this.data},Z.prototype.toString=function(){return this.type+": "+this.data.length+" bytes"};function J(h,p,x,B,z,H){var ee=p.substr(x,B);ee.length<B&&(h._complain(H,"Incomplete track data",B-ee.length,z),ee=(ee+"\0\0").substr(0,B));for(var ve=0;ve<B;ve++)ee.charCodeAt(ve)>127&&(h._complain(H+ve,"Bad MIDI value set to 0",ee.charCodeAt(ve),z),ee=ee.substr(0,ve)+"\0"+ee.substr(ve+1));return ee}function $(h,p,x,B,z){var H=P(p);return z&&(B+=H[1]),H[1]<0?(H[1]=-H[1],h._complain(x,"Bad byte sequence",p.charCodeAt(0)+"/"+p.charCodeAt(1)+"/"+p.charCodeAt(2)+"/"+p.charCodeAt(3),B)):H[0]==4&&H[1]<2097152?h._complain(x,"Long VLQ value",p.charCodeAt(0)+"/"+p.charCodeAt(1)+"/"+p.charCodeAt(2)+"/"+p.charCodeAt(3),B):H[0]==3&&H[1]<16384?h._complain(x,"Long VLQ value",p.charCodeAt(0)+"/"+p.charCodeAt(1)+"/"+p.charCodeAt(2),B):H[0]==2&&H[1]<128&&h._complain(x,"Long VLQ value",p.charCodeAt(0)+"/"+p.charCodeAt(1),B),H}function V(h,p){if(!(this instanceof V))return new V(h,p);if(this._off=p,this._orig=this,this._tick=0,typeof h>"u"){this.push(new et(0,"/",""));return}var x=0,B=0,z="",H,ee;p+=8;for(var ve=B+p;B<h.length;)ee=$(this,h.substr(B,4),ve,x,!0),B+=ee[0],x+=ee[1],ve=B+p,h.charCodeAt(B)==255?(H=h.substr(B,2),H.length<2&&(this._complain(ve,"Incomplete track data",3-H.length,x),H="/"),B+=2,ee=$(this,h.substr(B,4),ve+2,x),B+=ee[0],this.push(new et(x,H,h.substr(B,ee[1]),ve)),B+=ee[1]):h.charCodeAt(B)==240||h.charCodeAt(B)==247?(H=h.substr(B,1),B+=1,ee=$(this,h.substr(B,4),ve+1,x),B+=ee[0],this.push(new et(x,H,h.substr(B,ee[1]),ve)),B+=ee[1]):h.charCodeAt(B)&128?(z=h.substr(B,1),B+=1,ee=F(z.charCodeAt(0)),z.charCodeAt(0)>240&&this._complain(ve,"Unexpected MIDI message",z.charCodeAt(0).toString(16),x),this.push(new et(x,z,J(this,h,B,ee,x,ve+1),ve)),B+=ee):z.charCodeAt(0)&128&&(ee=F(z.charCodeAt(0)),z.charCodeAt(0)>240&&this._complain(ve,"Unexpected MIDI message",z.charCodeAt(0).toString(16),x),this.push(new et(x,z,J(this,h,B,ee,x,ve),ve)),B+=ee)}M.MTrk=V,V.prototype=[],V.prototype.constructor=V,V.prototype.type="MTrk",V.prototype.copy=function(){var h=new V;h.length=0;for(var p=0;p<this.length;p++)h.push(new r.MIDI(this[p]));return h};function j(h){var p=h.toString();return p.length>80&&(p=p.substr(0,78),p=p.substr(0,p.lastIndexOf(" "))+" ..."),p}function fe(h,p,x){if(h.dd.length<x)return f(h._off,"Invalid "+p+" meta event: "+(h.dd.length?"data too short":"no data"),j(h),h.tt);if(h.dd.length>x)return f(h._off,"Invalid "+p+" meta event: data too long",j(h),h.tt)}function Ie(h,p){return f(h._off,p+" meta events must be in the first track",j(h),h.tt)}function qe(h,p){var x;if(typeof h.ff<"u"){if(h.ff>127)return f(h._off,"Invalid meta event",j(h),h.tt);if(h.ff==0){if(x=fe(h,"Sequence Number",2),x)return x}else if(h.ff<10){if(!h.dd.length)return f(h._off,"Invalid Text meta event: no data",j(h),h.tt)}else if(h.ff==32){if(x=fe(h,"Channel Prefix",1),x)return x;if(h.dd.charCodeAt(0)>15)return f(h._off,"Invalid Channel Prefix meta event: incorrect data",j(h),h.tt)}else if(h.ff==33){if(x=fe(h,"MIDI Port",1),x)return x;if(h.dd.charCodeAt(0)>127)return f(h._off,"Invalid MIDI Port meta event: incorrect data",j(h),h.tt)}else if(h.ff==47){if(x=fe(h,"End of Track",0),x)return x}else if(h.ff==81){if(x=fe(h,"Tempo",3),x)return x;if(p&&h.track)return Ie(h,"Tempo")}else if(h.ff==84){if(x=fe(h,"SMPTE",5),x)return x;if((h.dd.charCodeAt(0)&31)>=24||h.dd.charCodeAt(1)>=60||h.dd.charCodeAt(2)>=60||h.dd.charCodeAt(3)>=30||h.dd.charCodeAt(4)>=200||h.dd.charCodeAt(4)%25)return f(h._off,"Invalid SMPTE meta event: incorrect data",j(h),h.tt);if(h.dd.charCodeAt(0)>>5>3)return f(h._off,"Invalid SMPTE meta event: incorrect format",h.dd.charCodeAt(0)>>5,h.tt);if(p&&h.track)return Ie(h,"SMPTE")}else if(h.ff==88){if(x=fe(h,"Time Signature",4),x)return x;if(h.dd.charCodeAt(1)>8)return f(h._off,"Invalid Time Signature meta event: incorrect data",j(h),h.tt);if(p&&h.track)return Ie(h,"Time Signature")}else if(h.ff==89){if(x=fe(h,"Key Signature",2),x)return x;if(h.dd.charCodeAt(1)>1||h.dd.charCodeAt(0)>255||h.dd.charCodeAt(0)>7&&h.dd.charCodeAt(0)<249)return f(h._off,"Invalid Key Signature meta event: incorrect data",h.toString(),h.tt)}else if(h.ff!=127)return f(h._off,"Unknown meta event",j(h),h.tt)}}V.prototype._validate=function(h,p){var x,B;if(this._warn)for(x=0;x<this._warn.length;x++)B=O(this._warn[x]),B.track=p,h.push(B)},V.prototype._complain=function(h,p,x,B){this._warn||(this._warn=[]),this._warn.push(f(h,p,x,B))},V.prototype.dump=function(){var h="",p=0,x="",B,z;for(B=0;B<this.length;B++)if(h+=c(this[B].tt-p),p=this[B].tt,typeof this[B].dd<"u")h+="",h+=String.fromCharCode(this[B].ff),h+=c(this[B].dd.length),h+=this[B].dd;else if(this[B][0]==240||this[B][0]==247)for(h+=String.fromCharCode(this[B][0]),h+=c(this[B].length-1),z=1;z<this[B].length;z++)h+=String.fromCharCode(this[B][z]);else for(this[B][0]!=x&&(x=this[B][0],h+=String.fromCharCode(this[B][0])),z=1;z<this[B].length;z++)h+=String.fromCharCode(this[B][z]);return"MTrk"+m(h.length)+h},V.prototype.toString=function(){for(var h=["MTrk:"],p=0;p<this.length;p++)h.push(this[p].tt+": "+this[p].toString());return h.join(`
  `)},V.prototype.add=function(h,p){if(h=parseInt(h),(isNaN(h)||h<0)&&u("Invalid parameter"),p=r.MIDI(p),p.tt=h,this[this._orig.length-1].tt<h&&(this[this._orig.length-1].tt=h),p.ff==47||p[0]>240&&p[0]!=247)return this;var x;for(x=0;x<this._orig.length-1&&!(this._orig[x].tt>h);x++);return this._orig.splice(x,0,p),this},V.prototype._sxid=127,V.prototype._image=function(){var h=function(){};h.prototype=this._orig;var p=new h;return p._ch=this._ch,p._sxid=this._sxid,p._tick=this._tick,p},V.prototype.send=function(h){return this._orig.add(this._tick,h),this},V.prototype.tick=function(h){if(h!=parseInt(h)||h<0)throw RangeError("Bad tick value: "+h);if(!h)return this;var p=this._image();return p._tick=this._tick+h,p},V.prototype.sxId=function(h){if(typeof h>"u"&&(h=V.prototype._sxid),h==this._sxid)return this;if(h!=parseInt(h)||h<0||h>127)throw RangeError("Bad MIDI value: "+h);var p=this._image();return p._sxid=h,p},V.prototype.ch=function(h){if(h==this._ch||typeof h>"u"&&typeof this._ch>"u")return this;if(typeof h<"u"&&(h!=parseInt(h)||h<0||h>15))throw RangeError("Bad channel value: "+h+" (must be from 0 to 15)");var p=this._image();return p._ch=h,p},V.prototype.note=function(h,p,x,B){return this.noteOn(h,p,x),typeof this._ch>"u"?B>0&&this.tick(B).noteOff(h,p):x>0&&this.tick(x).noteOff(h),this},r.lib.copyMidiHelpers(V);function et(h,p,x,B){var z;if(p.charCodeAt(0)==255)z=r.MIDI.smf(p.charCodeAt(1),x);else{for(var H=[p.charCodeAt(0)],ee=0;ee<x.length;ee++)H.push(x.charCodeAt(ee));z=r.MIDI(H)}return typeof B<"u"&&(z._off=B),z.tt=h,z}function ge(){var h=new r.Widget;h._info.name="MIDI Player",h._info.manufacturer="Jazz-Soft",h._info.version=i,h.playing=!1,h._loop=0,h._data=[],h._hdr=[],h._pos=0,h._tick=function(x){return function(){x.tick()}}(h);for(var p in ge.prototype)ge.prototype.hasOwnProperty(p)&&(h[p]=ge.prototype[p]);return h}ge.prototype.onEnd=function(){},ge.prototype.loop=function(h){h==parseInt(h)&&h>0?this._loop=h:this._loop=h?-1:0},ge.prototype.play=function(){this.event=void 0,this.playing=!0,this.paused=!1,this._ptr=0,this._pos=0,this._p0=0,this._t0=a(),this._list=this._hdr,this.tick()},ge.prototype.stop=function(){this._pos=0,this.playing=!1,this.event="stop",this.paused=void 0},ge.prototype.pause=function(){this.event="pause"},ge.prototype.resume=function(){this.playing||(this.paused?(this.event=void 0,this._t0=a(),this.playing=!0,this.paused=!1,this.tick()):this.play())},ge.prototype.sndOff=function(){var h;for(h=0;h<16;h++)this._emit(r.MIDI.allSoundOff(h));for(h=0;h<16;h++)this._emit(r.MIDI.resetAllControllers(h))};function Pt(h){this._receive(h)}ge.prototype._filter=Pt,ge.prototype.filter=function(h){this._filter=h instanceof Function?h:Pt},ge.prototype._receive=function(h){h.isTempo()&&this.ppqn&&(this._mul=this.ppqn*(h.isMidi2?1e5:1e3)/(h.getTempo()||1),this.mul=this._mul*this._speed,this._t0=a(),this._p0=this._pos),this._emit(h)},ge.prototype.tick=function(){var h=a(),p;for(this._pos=this._p0+(h-this._t0)*this.mul;this._ptr<this._list.length&&(p=this._list[this._ptr],!(p.tt>this._pos));this._ptr++)this._filter(p);this._ptr>=this._list.length&&(this._list==this._hdr?(this._list=this._data,this._ptr=0,this._p0=0,this._t0=h):(this._loop&&this._loop!=-1&&this._loop--,this._loop?(this._ptr=0,this._p0=0,this._t0=h):this.stop(),this.onEnd())),this.event=="stop"&&(this.playing=!1,this.paused=!1,this._pos=0,this._ptr=0,this.sndOff(),this.event=void 0),this.event=="pause"&&(this.playing=!1,this.paused=!0,this._pos>=this._duration&&(this._pos=this._duration-1),this._p0=this._pos,this.sndOff(),this.event=void 0),this.playing&&r.lib.schedule(this._tick)},ge.prototype.trim=function(){var h,p,x,B=[];for(p=0,h=0;h<this._data.length;h++)if(x=this._data[h],x.length||x.ff==1||x.ff==5)for(;p<=h;p++)B.push(this._data[p]);var z=(h?this._data[h-1].tt:0)-(p?this._data[p-1].tt:0);return this._data=B,this._timing(),z},ge.prototype._timing=function(){var h,p,x,B;if(this._duration=this._data.length?this._data[this._data.length-1].tt:0,this._ttt=[],this.ppqn){for(this._mul=this.ppqn/500,p=this._mul,h=0;h<this._hdr.length;h++)B=this._hdr[h],B.isTempo()&&(p=this.ppqn*1e5/(B.getTempo()||1));for(x=0,this._durationMS=0,this._ttt.push({t:0,m:p,ms:0}),h=0;h<this._data.length;h++)B=this._data[h],B.isTempo()&&(this._durationMS+=(B.tt-x)/p,x=B.tt,p=this.ppqn*(B.isMidi2?1e5:1e3)/(B.getTempo()||1),this._ttt.push({t:x,m:p,ms:this._durationMS}));this._durationMS+=(this._duration-x)/p}else this._mul=this.fps*this.ppf/1e3,this._ttt.push({t:0,m:this._mul,ms:0}),this._durationMS=this._duration/this._mul;this._speed=1,this.mul=this._mul,this._ttt.push({t:this._duration,m:0,ms:this._durationMS}),this._durationMS||(this._durationMS=1)},ge.prototype.speed=function(h){return typeof h<"u"&&((isNaN(parseFloat(h))||h<=0)&&(h=1),this._speed=h,this.mul=this._mul*this._speed,this._p0=this._pos-(a()-this._t0)*this.mul),this._speed},ge.prototype.type=function(){return this._type},ge.prototype.tracks=function(){return this._tracks},ge.prototype.duration=function(){return this._duration},ge.prototype.durationMS=function(){return this._durationMS},ge.prototype.position=function(){return this._pos},ge.prototype.positionMS=function(){return this.tick2ms(this._pos)},ge.prototype.jump=function(h){isNaN(parseFloat(h))&&u("Not a number: "+h),h<0&&(h=0),h>=this._duration&&(h=this._duration-1),this._goto(h)},ge.prototype.jumpMS=function(h){isNaN(parseFloat(h))&&u("Not a number: "+h),h<0&&(h=0),h>=this._durationMS&&(h=this._durationMS-1),this._goto(this._ms2t(h))},ge.prototype._t2ms=function(h){if(!h)return 0;var p;for(p=0;this._ttt[p].t<h;p++);return p--,this._ttt[p].ms+(h-this._ttt[p].t)/this._ttt[p].m},ge.prototype._ms2t=function(h){if(!h)return 0;var p;for(p=0;this._ttt[p].ms<h;p++);return p--,this._ttt[p].t+(h-this._ttt[p].ms)*this._ttt[p].m},ge.prototype._goto=function(h){this._pos=h,this.playing||(this.paused=!!h),this._toPos(),this.playing&&this.sndOff()},ge.prototype._toPos=function(){var h,p;for(h=0;h<this._hdr.length;h++)p=this._hdr[h],p.isTempo()&&(this._mul=this.ppqn*1e5/(p.getTempo()||1));for(this._ptr=0;this._ptr<this._data.length&&(p=this._data[this._ptr],!(p.tt>=this._pos));this._ptr++)p.isTempo()&&this.ppqn&&(this._mul=this.ppqn*(p.isMidi2?1e5:1e3)/(p.getTempo()||1));this._list=this._data,this.mul=this._mul*this._speed,this._t0=a(),this._p0=this._pos},ge.prototype.tick2ms=function(h){return isNaN(parseFloat(h))&&u("Not a number: "+h),h<=0?0:h>=this._duration?this._durationMS:this._t2ms(h)},ge.prototype.ms2tick=function(h){return isNaN(parseFloat(h))&&u("Not a number: "+h),h<=0?0:h>=this._durationMS?this._duration:this._ms2t(h)},r.MIDI.SMF=M;function We(){u("Not a SYX file")}function X(h){var p=this instanceof X?this:new X;if(p._orig=p,typeof h<"u"){if(h instanceof M)return p.copy(h.player()._data),p;if(h instanceof X)return p.copy(h),p;try{h instanceof ArrayBuffer&&(h=S(new Uint8Array(h)))}catch{}try{(h instanceof Uint8Array||h instanceof Int8Array)&&(h=S(new Uint8Array(h)))}catch{}try{h instanceof Buffer&&(h=h.toString("binary"))}catch{}typeof h!="string"&&(h=String.fromCharCode.apply(null,h));var x,B=[],z=0,H=0;for(h.length||u("Empty file");z<h.length;){for(h.charCodeAt(z)!=240&&We();z<h.length;){if(x=h.charCodeAt(z),B.push(x),x==247){B=r.MIDI(B),B._off=H,p.push(r.MIDI(B)),B=[],H=z+1;break}z++}z++}return B.length&&We(),p}return p}X.version=function(){return i},X.prototype=[],X.prototype.constructor=X,X.prototype.copy=function(h){for(var p=0;p<h.length;p++)h[p].isSMF()||(h[p].isFullSysEx()?this.push(r.MIDI(h[p])):We())},X.prototype.validate=function(){return[]},X.prototype.dump=function(){var h,p,x="";for(h=0;h<this.length;h++)for(p=0;p<this[h].length;p++)x+=String.fromCharCode(this[h][p]);return x},X.prototype.toBuffer=function(){return Buffer.from(this.dump(),"binary")},X.prototype.toUint8Array=function(){for(var h=this.dump(),p=new ArrayBuffer(h.length),x=new Uint8Array(p),B=0;B<h.length;B++)x[B]=h.charCodeAt(B);return x},X.prototype.toArrayBuffer=function(){return this.toUint8Array().buffer},X.prototype.toInt8Array=function(){return new Int8Array(this.toArrayBuffer())},X.prototype.toString=function(){var h,p=["SYX:"];for(h=0;h<this.length;h++)p.push(this[h].toString());return p.join(`
  `)},X.prototype.annotate=function(){for(var h=r.Context(),p=0;p<this.length;p++)this[p].lbl&&(this[p].lbl=void 0),h._read(this[p]);return this},X.prototype.player=function(){var h=new ge;h.ppqn=96;var p;for(p=0;p<this.length;p++){var x=r.MIDI(this[p]);x.tt=0,h._data.push(x)}return h._type="syx",h._tracks=1,h._timing(),h.sndOff=function(){},h},X.prototype._sxid=127,X.prototype._image=function(){var h=function(){};h.prototype=this._orig;var p=new h;return p._ch=this._ch,p._sxid=this._sxid,p},X.prototype.add=function(h){return h=r.MIDI(h),h.isFullSysEx()&&this._orig.push(h),this},X.prototype.send=function(h){return this.add(h)},X.prototype.sxId=function(h){if(typeof h>"u"&&(h=X.prototype._sxid),h==this._sxid)return this;if(h!=parseInt(h)||h<0||h>127)throw RangeError("Bad MIDI value: "+h);var p=this._image();return p._sxid=h,p},X.prototype.ch=function(h){if(h==this._ch||typeof h>"u"&&typeof this._ch>"u")return this;if(typeof h<"u"&&(h!=parseInt(h)||h<0||h>15))throw RangeError("Bad channel value: "+h+" (must be from 0 to 15)");var p=this._image();return p._ch=h,p},r.lib.copyMidiHelpers(X),r.MIDI.SYX=X;function te(h){var p=this instanceof te?this:new te;if(p._orig=p,p._tick=0,p.ppqn=96,typeof h<"u"){if(h instanceof te)return Re(p,h),p;try{h instanceof ArrayBuffer&&(h=S(new Uint8Array(h)))}catch{}try{(h instanceof Uint8Array||h instanceof Int8Array)&&(h=S(new Uint8Array(h)))}catch{}try{h instanceof Buffer&&(h=h.toString("binary"))}catch{}return typeof h!="string"&&(h=String.fromCharCode.apply(null,h)),Lt(p,h,0),p}if(p.header||(p.header=new de),!p.length){var x=r.UMP.umpEndClip();x.tt=0,p.push(x)}return p}te.version=function(){return i},te.prototype=[],te.prototype.constructor=te,te.prototype._sxid=127;var U="SMF2CLIP";te.prototype._image=function(){var h=function(){};h.prototype=this._orig;var p=new h;return p._gr=this._gr,p._ch=this._ch,p._sxid=this._sxid,p._tick=this._tick,p},te.prototype.send=function(h){return this.add(this._tick,h)},te.prototype.tick=function(h){if(h!=parseInt(h)||h<0)throw RangeError("Bad tick value: "+h);if(!h)return this;var p=this._image();return p._tick=this._tick+h,p},te.prototype.add=function(h,p){h=parseInt(h),(isNaN(h)||h<0)&&u("Invalid parameter"),p=r.UMP(p);var x=this._orig[this._orig.length-1];if(x.tt<h&&(x.tt=h),p.isStartClip()||p.isEndClip())return this;if(p.isDelta())return this.tick(p.getDelta());p.tt=h;var B;for(B=0;B<this._orig.length-1&&!(this._orig[B].tt>h);B++);return this._orig.splice(B,0,p),this},te.prototype.sxId=function(h){if(typeof h>"u"&&(h=te.prototype._sxid),h==this._sxid)return this;if(h!=parseInt(h)||h<0||h>127)throw RangeError("Bad MIDI value: "+h);var p=this._image();return p._sxid=h,p},te.prototype.gr=function(h){if(h==this._gr||typeof h>"u"&&typeof this._gr>"u")return this;if(typeof h<"u"&&(h!=parseInt(h)||h<0||h>15))throw RangeError("Bad channel value: "+h+" (must be from 0 to 15)");var p=this._image();return p._gr=h,p},te.prototype.ch=function(h){if(h==this._ch||typeof h>"u"&&typeof this._ch>"u")return this;if(typeof h<"u"&&(h!=parseInt(h)||h<0||h>15))throw RangeError("Bad channel value: "+h+" (must be from 0 to 15)");var p=this._image();return p._ch=h,p};function de(){this._orig=this,this._tick=0}de.prototype=[],de.prototype.constructor=de,de.prototype._image=te.prototype._image,de.prototype.send=te.prototype.send,de.prototype.tick=te.prototype.tick,de.prototype.gr=te.prototype.gr,de.prototype.ch=te.prototype.ch,de.prototype.sxId=te.prototype.sxId,de.prototype.add=function(h,p){if(h=parseInt(h),(isNaN(h)||h<0)&&u("Invalid parameter"),p=r.UMP(p),p.isStartClip()||p.isEndClip())return this;if(p.isDelta())return this.tick(p.getDelta());p.tt=h;var x;for(x=0;x<this._orig.length&&!(this._orig[x].tt>h);x++);return this._orig.splice(x,0,p),this};function Re(h,p){var x,B;for(h.length=0,h.header=new de,h.ppqn=p.ppqn,x=0;x<p.header.length;x++)B=new r.UMP(p.header[x]),B.tt=p.header[x].tt,h.header.push(B);for(x=0;x<p.length;x++)B=new r.UMP(p[x]),B.tt=p[x].tt,h.push(B)}function Lt(h,p,x){if(p.length||u("Empty clip"),p.substr(0,8)!=U){var B=p.indexOf(U);B!=-1?(p=p.substr(B),h._complain(x,"Extra leading characters",B),x+=B):u("Not a clip")}x+=8;var z,H,ee,ve,be,mt;h.length=0,h.header=new de,h.ppqn=-1;for(var Te=!0,Or=!1,Ut=0;x<p.length;){for(ve=p.charCodeAt(x)>>4,be=[4,4,4,8,8,16,4,4,8,8,8,12,12,16,16,16][ve],z=[],H=0;H<be;H++)z.push(p.charCodeAt(x+H));mt=ee,ee=r.UMP(z),ee.isDelta()?(mt&&mt.isDelta()&&h._complain(x,"Consequential Delta Ticks message"),Ut+=ee.getDelta()):(ee.tt=Ut,Te?ee.isStartClip()?(Ut=0,Te=!1):ee.isTicksPQN()?(h.ppqn!=-1&&h._complain(x,"Multiple Ticks PQN message"),h.ppqn=ee.getTicksPQN(),h.ppqn||(h._complain(x,"Bad Ticks PQN value: 0"),h.ppqn=96)):ee.isEndClip()?h._complain(x,"Unexpected End of Clip message"):h.header.push(ee):ee.isStartClip()?h._complain(x,"Repeated Start of Clip message"):ee.isEndClip()?(Or&&h._complain(x,"Repeated End of Clip message"),Or=!0):h.push(ee)),x+=be}ee=r.UMP.umpEndClip(),ee.tt=Ut,h.push(ee),h.ppqn==-1&&(h._complain(x,"Missing Ticks PQN message"),h.ppqn=96)}te.prototype._complain=function(h,p,x,B){this._warn||(this._warn=[]);var z={off:h,msg:p,data:x};typeof B<"u"&&(z.tick=B),this._warn.push(z)},te.prototype.dump=function(){var h,p,x=[U];for(x.push(r.UMP.umpDelta(0).dump()),x.push(r.UMP.umpTicksPQN(this.ppqn).dump()),p=0,h=0;h<this.header.length;h++)x.push(r.UMP.umpDelta(this.header[h].tt-p).dump()),x.push(this.header[h].dump()),p=this.header[h].tt;for(x.push(r.UMP.umpDelta(0).dump()),x.push(r.UMP.umpStartClip().dump()),p=0,h=0;h<this.length;h++)x.push(r.UMP.umpDelta(this[h].tt-p).dump()),x.push(this[h].dump()),p=this[h].tt;return x.join("")},te.prototype.toBuffer=function(){return Buffer.from(this.dump(),"binary")},te.prototype.toUint8Array=function(){for(var h=this.dump(),p=new ArrayBuffer(h.length),x=new Uint8Array(p),B=0;B<h.length;B++)x[B]=h.charCodeAt(B);return x},te.prototype.toArrayBuffer=function(){return this.toUint8Array().buffer},te.prototype.toInt8Array=function(){return new Int8Array(this.toArrayBuffer())},te.prototype.toString=function(){var h,p=[U,"Header"];for(p.push("  0: "+r.UMP.umpTicksPQN(this.ppqn)),h=0;h<this.header.length;h++)p.push("  "+this.header[h].tt+": "+this.header[h]);for(p.push("Data","  0: "+r.UMP.umpStartClip()),h=0;h<this.length;h++)p.push("  "+this[h].tt+": "+this[h]);return p.join(`
`)},te.prototype.annotate=function(){return this},te.prototype.player=function(){var h=new ge;h.ppqn=this.ppqn;var p,x;for(p=0;p<this.header.length;p++)x=r.MIDI2(this.header[p]),h._hdr.push(x);for(p=0;p<this.length;p++)x=r.MIDI2(this[p]),h._data.push(x);return h._type="clip",h._tracks=1,h._timing(),h.sndOff=function(){},h},r.lib.copyMidi2Helpers(te),r.lib.copyMidi2Helpers(de),r.MIDI.Clip=te})}(iu)),iu.exports}var ou={exports:{}},Bh;function Ny(){return Bh||(Bh=1,function(e,t){(function(r,i){i.Player=i,e.exports=i})(Tr,function(r){if(r.gui||(r.gui={}),r.gui.Player)return;function i(){}var a={on:i,off:i,disable:i,title:i,div:{}},u={container:{backgroundColor:"#888",borderRadius:"0px",borderWidth:"1px"},lbl:{color:"#aaa",fontSize:"12px",fontFamily:"Arial, Helvetica, sans-serif"},btn:{borderRadius:"0px",backgroundColor:{on:"#ddd",off:"#aaa",disable:"#888"},borderColor:{on:"#ccc",off:"#ccc",disable:"#aaa"},svgFill:{on:"#000",off:"#000",disable:"#555"},close:{borderRadius:"0px",backgroundColor:"#f44"}},rail:{borderRadius:"2px",borderWidth:"1px",backgroundColor:{enable:"#ccc",disable:"#888"},borderColor:{enable:"#ccc",disable:"#aaa"}},caret:{borderRadius:"6px",borderWidth:"1px",backgroundColor:{mouseDown:"#ddd",mouseUp:"#aaa",enable:"#aaa",disable:"#888"},borderColor:{enable:"#ccc",disable:"#aaa"}},svg:{play:'<svg fill="#555" height="18" viewBox="0 0 24 24" width="18" xmlns="http://www.w3.org/2000/svg"><path d="M8 5v14l11-7z"/><path d="M0 0h24v24H0z" fill="none"/></svg>',pause:'<svg fill="#555" height="18" viewBox="0 0 24 24" width="18" xmlns="http://www.w3.org/2000/svg"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/><path d="M0 0h24v24H0z" fill="none"/></svg>',stop:'<svg fill="#555" height="18" viewBox="0 0 24 24" width="18" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M6 6h12v12H6z"/></svg>',loop:'<svg fill="#555" height="18" viewBox="0 0 24 24" width="18" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z"/></svg>',more:'<svg fill="#555" height="18" viewBox="0 0 24 24" width="18" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M12 3v9.28c-.47-.17-.97-.28-1.5-.28C8.01 12 6 14.01 6 16.5S8.01 21 10.5 21c2.31 0 4.2-1.75 4.45-4H15V6h4V3h-7z"/></svg>',open:'<svg fill="#555" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M10 4H2v16h20V6H12l-2-2z"/></svg>',link:'<svg fill="#555" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"><path d="M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"/><path fill="none" d="M0 0h24v24H0z"/></svg>',close:'<svg stroke="#ff8" xmlns="http://www.w3.org/2000/svg" width="7" height="7" viewBox="0 0 7 7"><line x1="1" y1="1" x2="6" y2="6"/><line x1="1" y1="6" x2="6" y2="1"/></svg>'}};function c(f){this.div=document.createElement("div"),this.div.style.display="inline-block",this.div.style.position="absolute",this.div.style.boxSizing="content-box",this.div.style.top="8px",this.div.style.margin="0",this.div.style.padding="2px",this.div.style.borderRadius=u.btn.borderRadius,this.div.style.borderStyle="solid",this.div.style.borderWidth=u.container.borderWidth,this.div.style.borderColor=u.btn.borderColor.disable,this.div.style.backgroundColor=u.btn.backgroundColor.disable,this.div.style.lineHeight="0",this.div.style.lineSpasing="0",this.div.style.width="18px",this.div.style.height="18px",this.div.innerHTML=f}c.prototype.on=function(){this.div.style.backgroundColor=u.btn.backgroundColor.on,this.div.style.borderColor=u.btn.borderColor.on,this.div.firstChild.style.fill=u.btn.svgFill.on},c.prototype.off=function(){this.div.style.backgroundColor=u.btn.backgroundColor.off,this.div.style.borderColor=u.btn.borderColor.off,this.div.firstChild.style.fill=u.btn.svgFill.off},c.prototype.disable=function(){this.div.style.backgroundColor=u.btn.backgroundColor.disable,this.div.style.borderColor=u.btn.borderColor.disable,this.div.firstChild.style.fill=u.btn.svgFill.disable},c.prototype.title=function(f){this.div.title=f};function g(f){f.stopPropagation(),f.preventDefault()}function m(f,w){f.gui=document.createElement("div"),f.gui.style.display="inline-block",f.gui.style.position="relative",f.gui.style.boxSizing="content-box",f.gui.style.margin="0px",f.gui.style.padding="0px",f.gui.style.borderRadius=u.container.borderRadius,f.gui.style.borderStyle="none",f.gui.style.backgroundColor=u.container.backgroundColor,f.gui.style.width="270px",f.gui.style.height="40px";var E=8,O=238,q=28;w.play?(f.playBtn=new c(u.svg.play),f.playBtn.div.style.left=E+"px",E+=q,f.playBtn.div.title="play",f.playBtn.div.addEventListener("click",function(){f.play()}),f.gui.appendChild(f.playBtn.div)):f.playBtn=a,w.pause?(f.pauseBtn=new c(u.svg.pause),f.pauseBtn.div.style.left=E+"px",E+=q,f.pauseBtn.div.title="pause",f.pauseBtn.div.addEventListener("click",function(){f.pause()}),f.gui.appendChild(f.pauseBtn.div)):f.pauseBtn=a,w.stop?(f.stopBtn=new c(u.svg.stop),f.stopBtn.div.style.left=E+"px",E+=q,f.stopBtn.div.title="stop",f.stopBtn.div.addEventListener("click",function(){f.stop()}),f.gui.appendChild(f.stopBtn.div)):f.stopBtn=a,w.loop?(f.loopBtn=new c(u.svg.loop),f.loopBtn.div.style.left=E+"px",E+=q,f.loopBtn.div.title="loop",f.loopBtn.div.addEventListener("click",function(){f.loop()}),f.gui.appendChild(f.loopBtn.div)):f.loopBtn=a,w.midi?(f.midiBtn=new c(u.svg.more),f.midiBtn.div.style.left=O+"px",O-=q,f.midiBtn.div.title="midi",f.midiBtn.div.addEventListener("click",function(){f.settings()}),f.gui.appendChild(f.midiBtn.div),f.sel=document.createElement("select"),f.sel.style.position="absolute",f.sel.style.top="30px",f.sel.style.left="40px",f.sel.style.width="230px",f.sel.style.display="none",f.sel.style.zIndex=1,f.sel.addEventListener("click",function(){f._selected()}),f.sel.addEventListener("keydown",function(T){f._keydown(T)}),f.sel.addEventListener("focusout",function(){f._closeselect()}),f.gui.appendChild(f.sel)):f.midiBtn=a,w.link&&(f.linkBtn=new c(u.svg.link),f.linkBtn.div.style.left=O+"px",O-=q,f.linkBtn.div.title="link",f.gui.appendChild(f.linkBtn.div)),w.file?(f.fileBtn=new c(u.svg.open),f.fileBtn.div.style.left=O+"px",O-=q,f.fileBtn.div.title="file",f.gui.appendChild(f.fileBtn.div),f.fileInput=document.createElement("input"),f.fileInput.type="file",f.fileInput.style.position="fixed",f.fileInput.style.visibility="hidden",f.fileInput.accept=".mid, .midi, .midi2, .kar, .rmi, .syx",f.gui.appendChild(f.fileInput),window.FileReader&&(f.fileBtn.off(),f.fileBtn.div.addEventListener("click",function(){f.fileInput.click()}),f.fileInput.addEventListener("change",function(T){g(T),T.target.files[0]&&f.readFile(T.target.files[0])}),f.gui.addEventListener("drop",function(T){g(T),f.fileBtn.off(),f.readFile(T.dataTransfer.files[0])}),f.gui.addEventListener("dragover",function(T){g(T),f.fileBtn.on(),T.dataTransfer.dropEffect="copy"}),f.gui.addEventListener("dragexit",function(T){g(T),f.fileBtn.off()}))):f.fileBtn=a,w.close&&(f.closeBtn=document.createElement("div"),f.closeBtn.style.display="inline-block",f.closeBtn.style.position="absolute",f.closeBtn.style.boxSizing="content-box",f.closeBtn.style.top="1px",f.closeBtn.style.left="262px",f.closeBtn.style.margin="0",f.closeBtn.style.padding="0",f.closeBtn.style.borderRadius=u.btn.close.borderRadius,f.closeBtn.style.backgroundColor=u.btn.close.backgroundColor,f.closeBtn.style.width="7px",f.closeBtn.style.height="7px",f.closeBtn.style.lineHeight="0",f.closeBtn.style.lineSpasing="0",f.closeBtn.innerHTML=u.svg.close,f.closeBtn.title="close",f.closeBtn.addEventListener("click",function(){f.destroy()}),f.gui.appendChild(f.closeBtn)),f.rlen=O-E+10,f.lbl=document.createElement("div"),f.lbl.style.display="inline-block",f.lbl.style.position="absolute",f.lbl.style.top="26px",f.lbl.style.left=E+"px",f.lbl.style.width=f.rlen+10+"px",f.lbl.style.height="12px",f.lbl.style.padding="0",f.lbl.style.textAlign="center",f.lbl.style.color=u.lbl.color,f.lbl.style.fontSize=u.lbl.fontSize,f.lbl.style.fontFamily=u.lbl.fontFamily,f.gui.appendChild(f.lbl),f.rail=document.createElement("div"),f.rail.style.display="inline-block",f.rail.style.position="absolute",f.rail.style.boxSizing="content-box",f.rail.style.top="19px",f.rail.style.left=E+5+"px",f.rail.style.width=f.rlen+"px",f.rail.style.height="0",f.rail.style.padding="1px",f.rail.style.borderStyle="solid",f.rail.style.borderWidth=u.rail.borderWidth,f.rail.style.borderRadius=u.rail.borderRadius,f.rail.style.borderColor=u.rail.borderColor.disable,f.rail.style.backgroundColor=u.rail.backgroundColor.disable,f.gui.appendChild(f.rail),f.caret=document.createElement("div"),f.caret.style.display="inline-block",f.caret.style.position="absolute",f.caret.style.boxSizing="content-box",f.caret.style.width="2px",f.caret.style.height="2px",f.caret.style.top="-5px",f.caret.style.left="-5px",f.caret.style.padding="4px",f.caret.style.borderStyle="solid",f.caret.style.borderWidth=u.caret.borderWidth,f.caret.style.borderRadius=u.caret.borderRadius,f.caret.style.borderColor=u.caret.borderColor.disable,f.caret.style.backgroundColor=u.caret.backgroundColor.disable,f.caret.addEventListener("mousedown",function(T){f._mousedown(T)}),f.rail.appendChild(f.caret),window.addEventListener("mousemove",function(T){f._mousemove(T)}),window.addEventListener("mouseup",function(T){f._mouseup(T)})}var C=0;function S(f,w){if(!(this instanceof S))return new S(f,w);this._m2m1=new r.M2M1,this._connect(this._m2m1);var E={at:void 0,x:void 0,y:void 0,play:!0,record:!1,pause:!0,stop:!0,loop:!0,file:!1,link:!1,midi:!0,close:!1,sndoff:!0,ports:[void 0,/MIDI Through/i],connect:!0};if(typeof f=="object")for(var O in E)E.hasOwnProperty(O)&&typeof f[O]<"u"&&(E[O]=f[O]);if(typeof E.at>"u"&&(E.at=f),typeof E.x>"u"&&(E.x=f),typeof E.y>"u"&&(E.y=w),m(this,E),E.ports instanceof Array||(E.ports=[E.ports]),E.ports.push(void 0),this._ports=E.ports,this._conn=E.connect,this._sndoff=E.sndoff,this.disable(),typeof E.at=="string")try{return document.getElementById(E.at).appendChild(this.gui),this}catch{}try{return E.at.appendChild(this.gui),this}catch{}(E.x!=parseInt(E.x)||E.y!=parseInt(E.y))&&(E.x=C*15+5,E.y=C*45+5,C++),this.gui.style.position="fixed",this.gui.style.top=E.y+"px",this.gui.style.left=E.x+"px",this.gui.style.opacity=.9;var q=this;this.gui.addEventListener("mousedown",function(T){q._startmove(T)}),document.body.appendChild(this.gui)}S.prototype=new r.Widget,S.prototype.constructor=S,S.prototype.label=function(f){this.lbl.innerHTML=f},S.prototype.disable=function(){this.playBtn.disable(),this.pauseBtn.disable(),this.stopBtn.disable(),this.loopBtn.disable(),this.midiBtn.disable(),this._conn&&this.midiBtn.off(),this.fileBtn.off(),this.rail.style.borderColor=u.rail.borderColor.disable,this.rail.style.backgroundColor=u.rail.backgroundColor.disable,this.caret.style.borderColor=u.caret.borderColor.disable,this.caret.style.backgroundColor=u.caret.backgroundColor.disable},S.prototype.enable=function(){this.playBtn.off(),this.pauseBtn.off(),this.stopBtn.off(),this.loopBtn.off(),this._conn&&this.midiBtn.off(),this.rail.style.borderColor=u.rail.borderColor.enable,this.caret.style.backgroundColor=u.caret.backgroundColor.enable,this.caret.style.borderColor=u.caret.borderColor.enable},S.prototype.load=function(f){var w=this;this._player=f.player(),this._player.trim(),this._player.connect(this),this._player.onEnd=function(){w._onEnd()},this._player.filter(this._setfilter),this._sndoff||(this._player.sndOff=i),this.enable(),this.onLoad(f)},S.prototype.filter=function(f){this._setfilter=f instanceof Function?f:void 0,this._player&&this._player.filter(this._setfilter)},S.prototype.onSelect=i,S.prototype.onEnd=i,S.prototype.onLoad=i,S.prototype._onEnd=function(){this.onEnd(),this._loop&&this._loop!=-1&&this._loop--,this._loop?this._loop==1?(this._loop=0,this.loopBtn.off(),this.loopBtn.title("loop")):this.loopBtn.title("loop: "+(this._loop==-1?"":this._loop)):(this._moving&&clearInterval(this._moving),this._move(),this._playing=!1,this.playBtn.off())},S.prototype._move=function(){var f=Math.round(this._player.positionMS()*this.rlen/this._player.durationMS())-5;this.caret.style.left=f+"px"},S.prototype.onPlay=i,S.prototype.onResume=i,S.prototype._resume=function(){var f=this;this._player.resume(),this._moving=setInterval(function(){f._move()},100)},S.prototype.play=function(){if(this._player){var f=this;if(this.playBtn.on(),this.pauseBtn.off(),this._playing)return;this._paused?this.onResume():this.onPlay(),this._playing=!0,this._paused=!1,this._out||!this._conn?this._resume():this._waiting||(this._waiting=!0,r().openMidiOut(f._ports).and(function(){f._out=this,f._outname=this.name(),f.midiBtn.title(f._outname),f._m2m1.connect(this),f._waiting=!1,f.onSelect(f._outname),f._playing&&f._resume()}).or(function(){f._waiting=!1,f._resume()}))}},S.prototype.onStop=i,S.prototype.stop=function(){if(this._player){var f=this;this._player.stop(),r.lib.schedule(function(){f.onStop()}),this._moving&&clearInterval(this._moving),this._playing=!1,this._paused=!1,this.playBtn.off(),this.pauseBtn.off(),this._move()}},S.prototype.onPause=i,S.prototype.pause=function(f){if(this._player){var w=this;this._paused?(typeof f>"u"||f)&&(this._out?(this._resume(),this.onResume(),this._playing=!0,this._paused=!1,this.playBtn.on(),this.pauseBtn.off()):this.play()):this._playing&&(typeof f>"u"||!f)&&(this._player.pause(),r.lib.schedule(function(){w.onPause()}),this._moving&&clearInterval(this._moving),this._playing=!1,this._paused=!0,this.playBtn.off(),this.pauseBtn.on())}},S.prototype.onLoop=i,S.prototype.loop=function(f){if(this._player){var w=this;typeof f>"u"&&(f=!this._loop),f==parseInt(f)&&f>0?this._loop=f:this._loop=f?-1:0,this._loop==1&&(this._loop=0),this._player.loop(this._loop),r.lib.schedule(function(){w.onLoop(f)}),this._loop?(this.loopBtn.on(),this.loopBtn.title("loop: "+(this._loop==-1?"":this._loop))):(this.loopBtn.off(),this.loopBtn.title("loop"))}},S.prototype.onClose=i,S.prototype.destroy=function(){if(this.stop(),this._out){var f=this._out;r.lib.schedule(function(){f.close()})}this.gui.parentNode.removeChild(this.gui),this.onClose()},S.prototype.setUrl=function(f,w){this.linkBtn&&(this._url&&(this.linkBtn.div.appendChild(this._url.firstChild),this.linkBtn.div.removeChild(this._url),this._url=void 0),typeof f>"u"?this.linkBtn.disable():(this.linkBtn.off(),this._url=document.createElement("a"),this._url.target="_blank",this._url.appendChild(this.linkBtn.div.firstChild),this.linkBtn.div.appendChild(this._url),this._url.href=f,this._url.dataset||(this._url.dataset={}),this._url.dataset.jzzGuiPlayer=!0,typeof w<"u"&&(this._url.download=w)))},S.prototype.readFile=function(f){var w=this,E=new FileReader;E.onload=function(O){for(var q="",T=new Uint8Array(O.target.result),b=0;b<T.length;b++)q+=String.fromCharCode(T[b]);var P,F="audio/midi";try{P=new r.MIDI.Clip(q),F="audio/midi2"}catch{}try{P||(P=new r.MIDI.SYX(q),F="application/octet-stream")}catch{}try{P||(P=new r.MIDI.SMF(q)),w.stop(),r.lib.schedule(function(){w.load(P)}),w.linkBtn&&w.setUrl("data:"+F+";base64,"+r.lib.toBase64(q),f.name)}catch(G){console.log(G.message)}},E.readAsArrayBuffer(f)},S.prototype.onSelect=i,S.prototype._closeselect=function(){this.midiBtn.off(),this.sel.style.display="none",this._more=!1},S.prototype.settings=function(){if(!(this._more||!this._conn)){var f=this;this._more=!0,this.midiBtn.on(),this.sel.style.display="inline-block",r().refresh().and(function(){var w=this.info().outputs,E;for(E=0;E<f.sel.options.length;E++)f.sel.remove(E);for(E=0;E<w.length;E++)f.sel[E]=new Option(w[E].name,w[E].name,w[E].name==f._outname,w[E].name==f._outname);f.sel.size=w.length<2?2:w.length,f.sel.focus()})}},S.prototype._selectMidi=function(){var f=this;r().openMidiOut(this._newname).or(function(){f._newname=void 0,f._closeselect()}).and(function(){if(f._newname=void 0,f._outname!=this.name()){if(f._outname=this.name(),f._closeselect(),f._out){if(f._playing)for(var w=0;w<16;w++)f._out._receive(r.MIDI.allSoundOff(w));f._m2m1.disconnect(f._out),f._out.close()}f._out=this,f._m2m1.connect(this),f.midiBtn.title(f._outname),f.onSelect(f._outname),setTimeout(function(){f.onSelect(f._outname)},0)}})},S.prototype.select=function(f){var w=this;this._newname=f||0,this._newname==this._outname?(this._newname=void 0,this._closeselect()):setTimeout(function(){w._selectMidi()},0)},S.prototype._selected=function(){var f=this.sel.options[this.sel.selectedIndex];f&&this.select(f.value)},S.prototype._keydown=function(f){(f.keyCode==13||f.keyCode==32)&&this._selected()},S.prototype.type=function(){return this._player?this._player.type():0},S.prototype.tracks=function(){return this._player?this._player.tracks():0},S.prototype.duration=function(){return this._player?this._player.duration():0},S.prototype.durationMS=function(){return this._player?this._player.durationMS():0},S.prototype.position=function(){return this._player?this._player.position():0},S.prototype.positionMS=function(){return this._player?this._player.positionMS():0},S.prototype.tick2ms=function(){return this._player?this._player.tick2ms():0},S.prototype.ms2tick=function(){return this._player?this._player.ms2tick():0},S.prototype.onJump=i,S.prototype.jump=function(f){this._player&&(this._player.jump(f),this._move(),this._playing||(f?(this._paused=!0,this.playBtn.off(),this.pauseBtn.on()):(this._paused=!1,this.playBtn.off(),this.pauseBtn.off())),this.onJump(this._player.position()))},S.prototype.jumpMS=function(f){this._player&&(this._player.jumpMS(f),this._move(),this._playing||(f?(this._paused=!0,this.playBtn.off(),this.pauseBtn.on()):(this._paused=!1,this.playBtn.off(),this.pauseBtn.off())),this.onJump(this._player.position()))},S.prototype.speed=function(f){return this._player?this._player.speed(f):1};function M(f){return typeof f.buttons>"u"?!f.button:f.buttons&1}S.prototype._mousedown=function(f){M(f)&&this._player&&(this._more||f.preventDefault(),this.caret.style.backgroundColor=u.caret.backgroundColor.mouseDown,this._wasPlaying=this._playing,this._player.pause(),this._caretX=f.clientX,this._caretPos=parseInt(this.caret.style.left)+5)},S.prototype._startmove=function(f){M(f)&&(this._more||f.preventDefault(),this._startX=parseInt(this.gui.style.left),this._startY=parseInt(this.gui.style.top),this._clickX=f.clientX,this._clickY=f.clientY)},S.prototype._mouseup=function(){this._player&&typeof this._caretX<"u"&&(this._wasPlaying&&(this._wasPlaying=void 0,this._player.resume()),this.caret.style.backgroundColor=u.caret.backgroundColor.mouseUp,this._caretX=void 0),typeof this._startX<"u"&&(this._startX=void 0,this._startY=void 0,this._clickX=void 0,this._clickY=void 0)},S.prototype._mousemove=function(f){if(this._more&&(this._startX=void 0,this._startY=void 0,this._clickX=void 0,this._clickY=void 0),this._player&&typeof this._caretX<"u"){f.preventDefault();var w=this._caretPos+f.clientX-this._caretX;w<0&&(w=0),w>this.rlen&&(w=this.rlen),this.jumpMS(this.durationMS()*w*1/this.rlen)}else typeof this._startX<"u"&&(f.preventDefault(),this.gui.style.left=this._startX-this._clickX+f.clientX+"px",this.gui.style.top=this._startY-this._clickY+f.clientY+"px")},S.prototype._connect=S.prototype.connect,S.prototype._disconnect=S.prototype.disconnect,S.prototype.connect=function(f){f==this?(this._conn=!0,this.midiBtn.off()):this._connect(f)},S.prototype.disconnect=function(f){f==this?(this._conn=!1,this._out&&this._m2m1.disconnect(this._out),this._outname=void 0,this.midiBtn.disable()):(this._disconnect(f),this._connect(this._m2m1))},S.prototype.connected=function(){return this._outname},r.gui.Player=S,r.gui.Player.Btn=c,r.gui.Player.theme=u})}(ou)),ou.exports}var su={exports:{}},Rh;function Dy(){return Rh||(Rh=1,function(e,t){(function(r,i){i.Tiny=i,e.exports=i})(Tr,function(r){if(!r||(r.synth||(r.synth={}),r.synth.Tiny))return;var i="1.3.7";function a(S){this.__proto__=this.sy={is:"webaudio-tinysynth",properties:{masterVol:{type:Number,value:.5,observer:"setMasterVol"},reverbLev:{type:Number,value:.3,observer:"setReverbLev"},quality:{type:Number,value:1,observer:"setQuality"},debug:{type:Number,value:0},src:{type:String,value:null,observer:"loadMIDIUrl"},loop:{type:Number,value:0},tsmode:{type:Number,value:0},voices:{type:Number,value:64},useReverb:{type:Number,value:1}},program:[],drummap:[],program1:[[{w:"sine",v:.4,d:.7,r:.1},{w:"triangle",v:3,d:.7,s:.1,g:1,a:.01,k:-1.2}],[{w:"triangle",v:.4,d:.7,r:.1},{w:"triangle",v:4,t:3,d:.4,s:.1,g:1,k:-1,a:.01}],[{w:"sine",d:.7,r:.1},{w:"triangle",v:4,f:2,d:.5,s:.5,g:1,k:-1}],[{w:"sine",d:.7,v:.2},{w:"triangle",v:4,t:3,f:2,d:.3,g:1,k:-1,a:.01,s:.5}],[{w:"sine",v:.35,d:.7},{w:"sine",v:3,t:7,f:1,d:1,s:1,g:1,k:-.7}],[{w:"sine",v:.35,d:.7},{w:"sine",v:8,t:7,f:1,d:.5,s:1,g:1,k:-.7}],[{w:"sawtooth",v:.34,d:2},{w:"sine",v:8,f:.1,d:2,s:1,r:2,g:1}],[{w:"triangle",v:.34,d:1.5},{w:"square",v:6,f:.1,d:1.5,s:.5,r:2,g:1}],[{w:"sine",d:.3,r:.3},{w:"sine",v:7,t:11,d:.03,g:1}],[{w:"sine",d:.3,r:.3},{w:"sine",v:11,t:6,d:.2,s:.4,g:1}],[{w:"sine",v:.2,d:.3,r:.3},{w:"sine",v:11,t:5,d:.1,s:.4,g:1}],[{w:"sine",v:.2,d:.6,r:.6},{w:"triangle",v:11,t:5,f:1,s:.5,g:1}],[{w:"sine",v:.3,d:.2,r:.2},{w:"sine",v:6,t:5,d:.02,g:1}],[{w:"sine",v:.3,d:.2,r:.2},{w:"sine",v:7,t:11,d:.03,g:1}],[{w:"sine",v:.2,d:1,r:1},{w:"sine",v:11,t:3.5,d:1,r:1,g:1}],[{w:"triangle",v:.2,d:.5,r:.2},{w:"sine",v:6,t:2.5,d:.2,s:.1,r:.2,g:1}],[{w:"w9999",v:.22,s:.9},{w:"w9999",v:.22,t:2,f:2,s:.9}],[{w:"w9999",v:.2,s:1},{w:"sine",v:11,t:6,f:2,s:.1,g:1,h:.006,r:.002,d:.002},{w:"w9999",v:.2,t:2,f:1,h:0,s:1}],[{w:"w9999",v:.2,d:.1,s:.9},{w:"w9999",v:.25,t:4,f:2,s:.5}],[{w:"w9999",v:.3,a:.04,s:.9},{w:"w9999",v:.2,t:8,f:2,a:.04,s:.9}],[{w:"sine",v:.2,a:.02,d:.05,s:1},{w:"sine",v:6,t:3,f:1,a:.02,d:.05,s:1,g:1}],[{w:"triangle",v:.2,a:.02,d:.05,s:.8},{w:"square",v:7,t:3,f:1,d:.05,s:1.5,g:1}],[{w:"square",v:.2,a:.02,d:.2,s:.5},{w:"square",v:1,d:.03,s:2,g:1}],[{w:"square",v:.2,a:.02,d:.1,s:.8},{w:"square",v:1,a:.3,d:.1,s:2,g:1}],[{w:"sine",v:.3,d:.5,f:1},{w:"triangle",v:5,t:3,f:-1,d:1,s:.1,g:1}],[{w:"sine",v:.4,d:.6,f:1},{w:"triangle",v:12,t:3,d:.6,s:.1,g:1,f:-1}],[{w:"triangle",v:.3,d:1,f:1},{w:"triangle",v:6,f:-1,d:.4,s:.5,g:1,t:3}],[{w:"sine",v:.3,d:1,f:-1},{w:"triangle",v:11,f:1,d:.4,s:.5,g:1,t:3}],[{w:"sine",v:.4,d:.1,r:.01},{w:"sine",v:7,g:1}],[{w:"triangle",v:.4,d:1,f:1},{w:"square",v:4,f:-1,d:1,s:.7,g:1}],[{w:"triangle",v:.35,d:1,f:1},{w:"square",v:7,f:-1,d:.3,s:.5,g:1}],[{w:"sine",v:.2,t:1.5,a:.005,h:.2,d:.6},{w:"sine",v:11,t:5,f:2,d:1,s:.5,g:1}],[{w:"sine",d:.3},{w:"sine",v:4,t:3,d:1,s:1,g:1}],[{w:"sine",d:.3},{w:"sine",v:4,t:3,d:1,s:1,g:1}],[{w:"w9999",d:.3,v:.7,s:.5},{w:"sawtooth",v:1.2,d:.02,s:.5,g:1,h:0,r:.02}],[{w:"sine",d:.3},{w:"sine",v:4,t:3,d:1,s:1,g:1}],[{w:"triangle",v:.3,t:2,d:1},{w:"triangle",v:15,t:2.5,d:.04,s:.1,g:1}],[{w:"triangle",v:.3,t:2,d:1},{w:"triangle",v:15,t:2.5,d:.04,s:.1,g:1}],[{w:"triangle",d:.7},{w:"square",v:.4,t:.5,f:1,d:.2,s:10,g:1}],[{w:"triangle",d:.7},{w:"square",v:.4,t:.5,f:1,d:.2,s:10,g:1}],[{w:"sawtooth",v:.4,a:.1,d:11},{w:"sine",v:5,d:11,s:.2,g:1}],[{w:"sawtooth",v:.4,a:.1,d:11},{w:"sine",v:5,d:11,s:.2,g:1}],[{w:"sawtooth",v:.4,a:.1,d:11},{w:"sine",v:5,t:.5,d:11,s:.2,g:1}],[{w:"sawtooth",v:.4,a:.1,d:11},{w:"sine",v:5,t:.5,d:11,s:.2,g:1}],[{w:"sine",v:.4,a:.1,d:11},{w:"sine",v:6,f:2.5,d:.05,s:1.1,g:1}],[{w:"sine",v:.3,d:.1,r:.1},{w:"square",v:4,t:3,d:1,s:.2,g:1}],[{w:"sine",v:.3,d:.5,r:.5},{w:"sine",v:7,t:2,f:2,d:1,r:1,g:1}],[{w:"triangle",v:.6,h:.03,d:.3,r:.3,t:.5},{w:"n0",v:8,t:1.5,d:.08,r:.08,g:1}],[{w:"sawtooth",v:.3,a:.03,s:.5},{w:"sawtooth",v:.2,t:2,f:2,d:1,s:2}],[{w:"sawtooth",v:.3,f:-2,a:.03,s:.5},{w:"sawtooth",v:.2,t:2,f:2,d:1,s:2}],[{w:"sawtooth",v:.2,a:.02,s:1},{w:"sawtooth",v:.2,t:2,f:2,a:1,d:1,s:1}],[{w:"sawtooth",v:.2,a:.02,s:1},{w:"sawtooth",v:.2,f:2,a:.02,d:1,s:1}],[{w:"triangle",v:.3,a:.03,s:1},{w:"sine",v:3,t:5,f:1,d:1,s:1,g:1}],[{w:"sine",v:.4,a:.03,s:.9},{w:"sine",v:1,t:2,f:3,d:.03,s:.2,g:1}],[{w:"triangle",v:.6,a:.05,s:.5},{w:"sine",v:1,f:.8,d:.2,s:.2,g:1}],[{w:"square",v:.15,a:.01,d:.2,r:.2,t:.5,h:.03},{w:"square",v:4,f:.5,d:.2,r:11,a:.01,g:1,h:.02},{w:"square",v:.15,t:4,f:1,a:.02,d:.15,r:.15,h:.03},{g:3,w:"square",v:4,f:-.5,a:.01,h:.02,d:.15,r:11}],[{w:"square",v:.2,a:.01,d:1,s:.6,r:.04},{w:"sine",v:1,d:.1,s:4,g:1}],[{w:"square",v:.2,a:.02,d:1,s:.5,r:.08},{w:"sine",v:1,d:.1,s:4,g:1}],[{w:"square",v:.2,a:.04,d:1,s:.4,r:.08},{w:"sine",v:1,d:.1,s:4,g:1}],[{w:"square",v:.15,a:.04,s:1},{w:"sine",v:2,d:.1,g:1}],[{w:"square",v:.2,a:.02,d:1,s:.5,r:.08},{w:"sine",v:1,d:.1,s:4,g:1}],[{w:"square",v:.2,a:.02,d:1,s:.6,r:.08},{w:"sine",v:1,f:.2,d:.1,s:4,g:1}],[{w:"square",v:.2,a:.02,d:.5,s:.7,r:.08},{w:"sine",v:1,d:.1,s:4,g:1}],[{w:"square",v:.2,a:.02,d:1,s:.5,r:.08},{w:"sine",v:1,d:.1,s:4,g:1}],[{w:"square",v:.2,a:.02,d:2,s:.6},{w:"sine",v:2,d:1,g:1}],[{w:"square",v:.2,a:.02,d:2,s:.6},{w:"sine",v:2,d:1,g:1}],[{w:"square",v:.2,a:.02,d:1,s:.6},{w:"sine",v:2,d:1,g:1}],[{w:"square",v:.2,a:.02,d:1,s:.6},{w:"sine",v:2,d:1,g:1}],[{w:"sine",v:.4,a:.02,d:.7,s:.5},{w:"square",v:5,t:2,d:.2,s:.5,g:1}],[{w:"sine",v:.3,a:.05,d:.2,s:.8},{w:"sawtooth",v:6,f:.1,d:.1,s:.3,g:1}],[{w:"sine",v:.3,a:.03,d:.2,s:.4},{w:"square",v:7,f:.2,d:1,s:.1,g:1}],[{w:"square",v:.2,a:.05,d:.1,s:.8},{w:"square",v:4,d:.1,s:1.1,g:1}],[{w:"sine",a:.02,d:2},{w:"sine",v:6,t:2,d:.04,g:1}],[{w:"sine",v:.7,a:.03,d:.4,s:.4},{w:"sine",v:4,t:2,f:.2,d:.4,g:1}],[{w:"sine",v:.7,a:.02,d:.4,s:.6},{w:"sine",v:3,t:2,d:0,s:1,g:1}],[{w:"sine",v:.4,a:.06,d:.3,s:.3},{w:"sine",v:7,t:2,d:.2,s:.2,g:1}],[{w:"sine",a:.02,d:.3,s:.3},{w:"sawtooth",v:3,t:2,d:.3,g:1}],[{w:"sine",v:.4,a:.02,d:2,s:.1},{w:"sawtooth",v:8,t:2,f:1,d:.5,g:1}],[{w:"sine",v:.7,a:.03,d:.5,s:.3},{w:"sine",v:.003,t:0,f:4,d:.1,s:.002,g:1}],[{w:"sine",v:.7,a:.02,d:2},{w:"sine",v:1,t:2,f:1,d:.02,g:1}],[{w:"square",v:.3,d:1,s:.5},{w:"square",v:1,f:.2,d:1,s:.5,g:1}],[{w:"sawtooth",v:.3,d:2,s:.5},{w:"square",v:2,f:.1,s:.5,g:1}],[{w:"triangle",v:.5,a:.05,d:2,s:.6},{w:"sine",v:4,t:2,g:1}],[{w:"triangle",v:.3,a:.01,d:2,s:.3},{w:"sine",v:22,t:2,f:1,d:.03,s:.2,g:1}],[{w:"sawtooth",v:.3,d:1,s:.5},{w:"sine",v:11,t:11,a:.2,d:.05,s:.3,g:1}],[{w:"sine",v:.3,a:.06,d:1,s:.5},{w:"sine",v:7,f:1,d:1,s:.2,g:1}],[{w:"sawtooth",v:.3,a:.03,d:.7,s:.3,r:.2},{w:"sawtooth",v:.3,t:.75,d:.7,a:.1,s:.3,r:.2}],[{w:"triangle",v:.3,a:.01,d:.7,s:.5},{w:"square",v:5,t:.5,d:.7,s:.5,g:1}],[{w:"triangle",v:.3,a:.02,d:.3,s:.3,r:.3},{w:"square",v:3,t:4,f:1,a:.02,d:.1,s:1,g:1},{w:"triangle",v:.08,t:.5,a:.1,h:0,d:.1,s:.5,r:.1,b:0,c:0}],[{w:"sine",v:.3,a:.05,d:1,s:.7,r:.3},{w:"sine",v:2,f:1,d:.3,s:1,g:1}],[{w:"square",v:.3,a:.03,d:.5,s:.3,r:.1},{w:"square",v:4,f:1,a:.03,d:.1,g:1}],[{w:"triangle",v:.3,a:.08,d:1,s:.3,r:.1},{w:"square",v:2,f:1,d:.3,s:.3,g:1,t:4,a:.08}],[{w:"sine",v:.3,a:.05,d:1,s:.3,r:.1},{w:"sine",v:.1,t:2.001,f:1,d:1,s:50,g:1}],[{w:"triangle",v:.3,a:.03,d:.7,s:.3,r:.2},{w:"sine",v:12,t:7,f:1,d:.5,s:1.7,g:1}],[{w:"sine",v:.3,a:.05,d:1,s:.3,r:.1},{w:"sawtooth",v:22,t:6,d:.06,s:.3,g:1}],[{w:"triangle",v:.3,a:.05,d:11,r:.3},{w:"triangle",v:1,d:1,s:8,g:1}],[{w:"sawtooth",v:.3,d:4,s:.8,r:.1},{w:"square",v:1,t:2,f:8,a:1,d:1,s:1,r:.1,g:1}],[{w:"triangle",v:.3,d:1,s:.5,t:.8,a:.2,p:1.25,q:.2},{w:"sawtooth",v:.2,a:.2,d:.3,s:1,t:1.2,p:1.25,q:.2}],[{w:"sine",v:.3,d:1,s:.3},{w:"square",v:22,t:11,d:.5,s:.1,g:1}],[{w:"sawtooth",v:.3,a:.04,d:1,s:.8,r:.1},{w:"square",v:1,t:.5,d:1,s:2,g:1}],[{w:"triangle",v:.3,d:1,s:.3},{w:"sine",v:22,t:6,d:.6,s:.05,g:1}],[{w:"sine",v:.6,a:.1,d:.05,s:.4},{w:"sine",v:5,t:5,f:1,d:.05,s:.3,g:1}],[{w:"sine",a:.1,d:.05,s:.4,v:.8},{w:"sine",v:5,t:5,f:1,d:.05,s:.3,g:1}],[{w:"square",v:.3,a:.1,d:.1,s:.4},{w:"square",v:1,f:1,d:.3,s:.1,g:1}],[{w:"sawtooth",v:.3,d:.5,r:.5},{w:"sawtooth",v:11,t:5,d:.05,g:1}],[{w:"square",v:.3,d:.2,r:.2},{w:"square",v:7,t:3,d:.05,g:1}],[{w:"triangle",d:.2,r:.2},{w:"square",v:9,t:3,d:.1,r:.1,g:1}],[{w:"triangle",d:.3,r:.3},{w:"square",v:6,t:3,d:1,r:1,g:1}],[{w:"triangle",v:.4,d:.2,r:.2},{w:"square",v:22,t:12,d:.1,r:.1,g:1}],[{w:"sine",v:.25,a:.02,d:.05,s:.8},{w:"square",v:1,t:2,d:.03,s:11,g:1}],[{w:"sine",v:.3,a:.05,d:11},{w:"square",v:7,t:3,f:1,s:.7,g:1}],[{w:"square",v:.3,a:.05,d:.1,s:.8},{w:"square",v:4,d:.1,s:1.1,g:1}],[{w:"sine",v:.4,d:.3,r:.3},{w:"sine",v:7,t:9,d:.1,r:.1,g:1}],[{w:"sine",v:.7,d:.1,r:.1},{w:"sine",v:22,t:7,d:.05,g:1}],[{w:"sine",v:.6,d:.15,r:.15},{w:"square",v:11,t:3.2,d:.1,r:.1,g:1}],[{w:"sine",v:.8,d:.07,r:.07},{w:"square",v:11,t:7,r:.01,g:1}],[{w:"triangle",v:.7,t:.5,d:.2,r:.2,p:.95},{w:"n0",v:9,g:1,d:.2,r:.2}],[{w:"sine",v:.7,d:.1,r:.1,p:.9},{w:"square",v:14,t:2,d:.005,r:.005,g:1}],[{w:"square",d:.15,r:.15,p:.5},{w:"square",v:4,t:5,d:.001,r:.001,g:1}],[{w:"n1",v:.3,a:1,s:1,d:.15,r:0,t:.5}],[{w:"sine",t:12.5,d:0,r:0,p:.5,v:.3,h:.2,q:.5},{g:1,w:"sine",v:1,t:2,d:0,r:0,s:1},{g:1,w:"n0",v:.2,t:2,a:.6,h:0,d:.1,r:.1,b:0,c:0}],[{w:"n0",v:.2,a:.05,h:.02,d:.02,r:.02}],[{w:"n0",v:.4,a:1,d:1,t:.25}],[{w:"sine",v:.3,a:.1,d:1,s:.5},{w:"sine",v:4,t:0,f:1.5,d:1,s:1,r:.1,g:1},{g:1,w:"sine",v:4,t:0,f:2,a:.6,h:0,d:.1,s:1,r:.1,b:0,c:0}],[{w:"square",v:.3,t:.25,d:11,s:1},{w:"square",v:12,t:0,f:8,d:1,s:1,r:11,g:1}],[{w:"n0",v:.4,t:.5,a:1,d:11,s:1,r:.5},{w:"square",v:1,t:0,f:14,d:1,s:1,r:11,g:1}],[{w:"sine",t:0,f:1221,a:.2,d:1,r:.25,s:1},{g:1,w:"n0",v:3,t:.5,d:1,s:1,r:1}],[{w:"sine",d:.4,r:.4,p:.1,t:2.5,v:1},{w:"n0",v:12,t:2,d:1,r:1,g:1}]],program0:[[{w:"triangle",v:.5,d:.7}],[{w:"triangle",v:.5,d:.7}],[{w:"triangle",v:.5,d:.7}],[{w:"triangle",v:.5,d:.7}],[{w:"triangle",v:.5,d:.7}],[{w:"triangle",v:.5,d:.7}],[{w:"sawtooth",v:.3,d:.7}],[{w:"sawtooth",v:.3,d:.7}],[{w:"sine",v:.5,d:.3,r:.3}],[{w:"triangle",v:.5,d:.3,r:.3}],[{w:"square",v:.2,d:.3,r:.3}],[{w:"square",v:.2,d:.3,r:.3}],[{w:"sine",v:.5,d:.1,r:.1}],[{w:"sine",v:.5,d:.1,r:.1}],[{w:"square",v:.2,d:1,r:1}],[{w:"sawtooth",v:.3,d:.7,r:.7}],[{w:"sine",v:.5,a:.01,s:1}],[{w:"sine",v:.7,d:.02,s:.7}],[{w:"square",v:.2,s:1}],[{w:"triangle",v:.5,a:.01,s:1}],[{w:"square",v:.2,a:.02,s:1}],[{w:"square",v:.2,a:.02,s:1}],[{w:"square",v:.2,a:.02,s:1}],[{w:"square",v:.2,a:.05,s:1}],[{w:"triangle",v:.5,d:.5}],[{w:"square",v:.2,d:.6}],[{w:"square",v:.2,d:.6}],[{w:"triangle",v:.8,d:.6}],[{w:"triangle",v:.4,d:.05}],[{w:"square",v:.2,d:1}],[{w:"square",v:.2,d:1}],[{w:"sine",v:.4,d:.6}],[{w:"triangle",v:.7,d:.4}],[{w:"triangle",v:.7,d:.7}],[{w:"triangle",v:.7,d:.7}],[{w:"triangle",v:.7,d:.7}],[{w:"square",v:.3,d:.2}],[{w:"square",v:.3,d:.2}],[{w:"square",v:.3,d:.1,s:.2}],[{w:"sawtooth",v:.4,d:.1,s:.2}],[{w:"sawtooth",v:.2,a:.02,s:1}],[{w:"sawtooth",v:.2,a:.02,s:1}],[{w:"sawtooth",v:.2,a:.02,s:1}],[{w:"sawtooth",v:.2,a:.02,s:1}],[{w:"sawtooth",v:.2,a:.02,s:1}],[{w:"sawtooth",v:.3,d:.1}],[{w:"sawtooth",v:.3,d:.5,r:.5}],[{w:"triangle",v:.6,d:.1,r:.1,h:.03,p:.8}],[{w:"sawtooth",v:.2,a:.02,s:1}],[{w:"sawtooth",v:.2,a:.02,s:1}],[{w:"sawtooth",v:.2,a:.02,s:1}],[{w:"sawtooth",v:.2,a:.02,s:1}],[{w:"triangle",v:.3,a:.03,s:1}],[{w:"sine",v:.3,a:.03,s:1}],[{w:"triangle",v:.3,a:.05,s:1}],[{w:"sawtooth",v:.5,a:.01,d:.1}],[{w:"square",v:.3,a:.05,d:.2,s:.6}],[{w:"square",v:.3,a:.05,d:.2,s:.6}],[{w:"square",v:.3,a:.05,d:.2,s:.6}],[{w:"square",v:.2,a:.05,d:.01,s:1}],[{w:"square",v:.3,a:.05,s:1}],[{w:"square",v:.3,s:.7}],[{w:"square",v:.3,s:.7}],[{w:"square",v:.3,s:.7}],[{w:"square",v:.3,a:.02,d:2}],[{w:"square",v:.3,a:.02,d:2}],[{w:"square",v:.3,a:.03,d:2}],[{w:"square",v:.3,a:.04,d:2}],[{w:"square",v:.3,a:.02,d:2}],[{w:"square",v:.3,a:.05,d:2}],[{w:"square",v:.3,a:.03,d:2}],[{w:"square",v:.3,a:.03,d:2}],[{w:"sine",v:.7,a:.02,d:2}],[{w:"sine",v:.7,a:.02,d:2}],[{w:"sine",v:.7,a:.02,d:2}],[{w:"sine",v:.7,a:.02,d:2}],[{w:"sine",v:.7,a:.02,d:2}],[{w:"sine",v:.7,a:.02,d:2}],[{w:"sine",v:.7,a:.02,d:2}],[{w:"sine",v:.7,a:.02,d:2}],[{w:"square",v:.3,s:.7}],[{w:"sawtooth",v:.4,s:.7}],[{w:"triangle",v:.5,s:.7}],[{w:"sawtooth",v:.4,s:.7}],[{w:"sawtooth",v:.4,d:12}],[{w:"sine",v:.4,a:.06,d:12}],[{w:"sawtooth",v:.4,d:12}],[{w:"sawtooth",v:.4,d:12}],[{w:"sawtooth",v:.3,d:12}],[{w:"triangle",v:.5,d:12}],[{w:"square",v:.3,d:12}],[{w:"triangle",v:.5,a:.08,d:11}],[{w:"sawtooth",v:.5,a:.05,d:11}],[{w:"sawtooth",v:.5,d:11}],[{w:"triangle",v:.5,d:11}],[{w:"triangle",v:.5,d:11}],[{w:"triangle",v:.5,d:11}],[{w:"triangle",v:.5,d:11}],[{w:"square",v:.3,d:11}],[{w:"sawtooth",v:.5,a:.04,d:11}],[{w:"sawtooth",v:.5,d:11}],[{w:"triangle",v:.5,a:.8,d:11}],[{w:"triangle",v:.5,d:11}],[{w:"square",v:.3,d:11}],[{w:"sawtooth",v:.3,d:1,r:1}],[{w:"sawtooth",v:.5,d:.3}],[{w:"sawtooth",v:.5,d:.3,r:.3}],[{w:"sawtooth",v:.5,d:.3,r:.3}],[{w:"square",v:.3,d:.2,r:.2}],[{w:"square",v:.3,a:.02,d:2}],[{w:"sawtooth",v:.2,a:.02,d:.7}],[{w:"triangle",v:.5,d:1}],[{w:"sawtooth",v:.3,d:.3,r:.3}],[{w:"sine",v:.8,d:.1,r:.1}],[{w:"square",v:.2,d:.1,r:.1,p:1.05}],[{w:"sine",v:.8,d:.05,r:.05}],[{w:"triangle",v:.5,d:.1,r:.1,p:.96}],[{w:"triangle",v:.5,d:.1,r:.1,p:.97}],[{w:"square",v:.3,d:.1,r:.1}],[{w:"n1",v:.3,a:1,s:1,d:.15,r:0,t:.5}],[{w:"triangle",v:.5,d:.03,t:0,f:1332,r:.001,p:1.1}],[{w:"n0",v:.2,t:.1,d:.02,a:.05,h:.02,r:.02}],[{w:"n0",v:.4,a:1,d:1,t:.25}],[{w:"sine",v:.3,a:.8,d:1,t:0,f:1832}],[{w:"triangle",d:.5,t:0,f:444,s:1}],[{w:"n0",v:.4,d:1,t:0,f:22,s:1}],[{w:"n0",v:.5,a:.2,d:11,t:0,f:44}],[{w:"n0",v:.5,t:.25,d:.4,r:.4}]],drummap1:[[{w:"triangle",t:0,f:70,v:1,d:.05,h:.03,p:.9,q:.1},{w:"n0",g:1,t:6,v:17,r:.01,h:0,p:0}],[{w:"triangle",t:0,f:88,v:1,d:.05,h:.03,p:.5,q:.1},{w:"n0",g:1,t:5,v:42,r:.01,h:0,p:0}],[{w:"n0",f:222,p:0,t:0,r:.01,h:0}],[{w:"triangle",v:.3,f:180,d:.05,t:0,h:.03,p:.9,q:.1},{w:"n0",v:.6,t:0,f:70,h:.02,r:.01,p:0},{g:1,w:"square",v:2,t:0,f:360,r:.01,b:0,c:0}],[{w:"square",f:1150,v:.34,t:0,r:.03,h:.025,d:.03},{g:1,w:"n0",t:0,f:13,h:.025,d:.1,s:1,r:.1,v:1}],[{w:"triangle",f:200,v:1,d:.06,t:0,r:.06},{w:"n0",g:1,t:0,f:400,v:12,r:.02,d:.02}],[{w:"triangle",f:100,v:.9,d:.12,h:.02,p:.5,t:0,r:.12},{g:1,w:"n0",v:5,t:.4,h:.015,d:.005,r:.005}],[{w:"n1",f:390,v:.25,r:.01,t:0}],[{w:"triangle",f:120,v:.9,d:.12,h:.02,p:.5,t:0,r:.12},{g:1,w:"n0",v:5,t:.5,h:.015,d:.005,r:.005}],[{w:"n1",v:.25,f:390,r:.03,t:0,h:.005,d:.03}],[{w:"triangle",f:140,v:.9,d:.12,h:.02,p:.5,t:0,r:.12},{g:1,w:"n0",v:5,t:.3,h:.015,d:.005,r:.005}],[{w:"n1",v:.25,f:390,t:0,d:.2,r:.2},{w:"n0",v:.3,t:0,c:0,f:440,h:.005,d:.05}],[{w:"triangle",f:155,v:.9,d:.12,h:.02,p:.5,t:0,r:.12},{g:1,w:"n0",v:5,t:.3,h:.015,d:.005,r:.005}],[{w:"triangle",f:180,v:.9,d:.12,h:.02,p:.5,t:0,r:.12},{g:1,w:"n0",v:5,t:.3,h:.015,d:.005,r:.005}],[{w:"n1",v:.3,f:1200,d:.2,r:.2,h:.05,t:0},{w:"n1",t:0,v:1,d:.1,r:.1,p:1.2,f:440}],[{w:"triangle",f:220,v:.9,d:.12,h:.02,p:.5,t:0,r:.12},{g:1,w:"n0",v:5,t:.3,h:.015,d:.005,r:.005}],[{w:"n1",f:500,v:.15,d:.4,r:.4,h:0,t:0},{w:"n0",v:.1,t:0,r:.01,f:440}],[{w:"n1",v:.3,f:800,d:.2,r:.2,h:.05,t:0},{w:"square",t:0,v:1,d:.1,r:.1,p:.1,f:220,g:1}],[{w:"sine",f:1651,v:.15,d:.2,r:.2,h:0,t:0},{w:"sawtooth",g:1,t:1.21,v:7.2,d:.1,r:11,h:1},{g:1,w:"n0",v:3.1,t:.152,d:.002,r:.002}],null,[{w:"n1",v:.3,f:1200,d:.2,r:.2,h:.05,t:0},{w:"n1",t:0,v:1,d:.1,r:.1,p:1.2,f:440}],null,[{w:"n1",v:.3,f:555,d:.25,r:.25,h:.05,t:0},{w:"n1",t:0,v:1,d:.1,r:.1,f:440,a:.005,h:.02}],[{w:"sawtooth",f:776,v:.2,d:.3,t:0,r:.3},{g:1,w:"n0",v:2,t:0,f:776,a:.005,h:.02,d:.1,s:1,r:.1,c:0},{g:11,w:"sine",v:.1,t:0,f:22,d:.3,r:.3,b:0,c:0}],[{w:"n1",f:440,v:.15,d:.4,r:.4,h:0,t:0},{w:"n0",v:.4,t:0,r:.01,f:440}],null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,[{w:"sine",f:1720,v:.3,d:.02,t:0,r:.02},{w:"square",g:1,t:0,f:2876,v:6,d:.2,s:1,r:.2}],[{w:"sine",f:1720,v:.3,d:.25,t:0,r:.25},{w:"square",g:1,t:0,f:2876,v:6,d:.2,s:1,r:.2}]],drummap0:[[{w:"triangle",t:0,f:110,v:1,d:.05,h:.02,p:.1}],[{w:"triangle",t:0,f:150,v:.8,d:.1,p:.1,h:.02,r:.01}],[{w:"n0",f:392,v:.5,d:.01,p:0,t:0,r:.05}],[{w:"n0",f:33,d:.05,t:0}],[{w:"n0",f:100,v:.7,d:.03,t:0,r:.03,h:.02}],[{w:"n0",f:44,v:.7,d:.02,p:.1,t:0,h:.02}],[{w:"triangle",f:240,v:.9,d:.1,h:.02,p:.1,t:0}],[{w:"n0",f:440,v:.2,r:.01,t:0}],[{w:"triangle",f:270,v:.9,d:.1,h:.02,p:.1,t:0}],[{w:"n0",f:440,v:.2,d:.04,r:.04,t:0}],[{w:"triangle",f:300,v:.9,d:.1,h:.02,p:.1,t:0}],[{w:"n0",f:440,v:.2,d:.1,r:.1,h:.02,t:0}],[{w:"triangle",f:320,v:.9,d:.1,h:.02,p:.1,t:0}],[{w:"triangle",f:360,v:.9,d:.1,h:.02,p:.1,t:0}],[{w:"n0",f:150,v:.2,d:.1,r:.1,h:.05,t:0,p:.1}],[{w:"triangle",f:400,v:.9,d:.1,h:.02,p:.1,t:0}],[{w:"n0",f:150,v:.2,d:.1,r:.01,h:.05,t:0,p:.1}],[{w:"n0",f:150,v:.2,d:.1,r:.01,h:.05,t:0,p:.1}],[{w:"n0",f:440,v:.3,d:.1,p:.9,t:0,r:.1}],[{w:"n0",f:200,v:.2,d:.05,p:.9,t:0}],[{w:"n0",f:440,v:.3,d:.12,p:.9,t:0}],[{w:"sine",f:800,v:.4,d:.06,t:0}],[{w:"n0",f:150,v:.2,d:.1,r:.01,h:.05,t:0,p:.1}],[{w:"n0",f:33,v:.3,d:.2,p:.9,t:0}],[{w:"n0",f:300,v:.3,d:.14,p:.9,t:0}],[{w:"sine",f:200,d:.06,t:0}],[{w:"sine",f:150,d:.06,t:0}],[{w:"sine",f:300,t:0}],[{w:"sine",f:300,d:.06,t:0}],[{w:"sine",f:250,d:.06,t:0}],[{w:"square",f:300,v:.3,d:.06,p:.8,t:0}],[{w:"square",f:260,v:.3,d:.06,p:.8,t:0}],[{w:"sine",f:850,v:.5,d:.07,t:0}],[{w:"sine",f:790,v:.5,d:.07,t:0}],[{w:"n0",f:440,v:.3,a:.05,t:0}],[{w:"n0",f:440,v:.3,a:.05,t:0}],[{w:"triangle",f:1800,v:.4,p:.9,t:0,h:.03}],[{w:"triangle",f:1800,v:.3,p:.9,t:0,h:.13}],[{w:"n0",f:330,v:.3,a:.02,t:0,r:.01}],[{w:"n0",f:330,v:.3,a:.02,t:0,h:.04,r:.01}],[{w:"n0",f:440,v:.3,t:0}],[{w:"sine",f:800,t:0}],[{w:"sine",f:700,t:0}],[{w:"n0",f:330,v:.3,t:0}],[{w:"n0",f:330,v:.3,t:0,h:.1,r:.01,p:.7}],[{w:"sine",t:0,f:1200,v:.3,r:.01}],[{w:"sine",t:0,f:1200,v:.3,d:.2,r:.2}]],ready:function(){var f;this.pg=[],this.vol=[],this.ex=[],this.bend=[],this.rpnidx=[],this.brange=[],this.sustain=[],this.notetab=[],this.rhythm=[],this.masterTuningC=0,this.masterTuningF=0,this.tuningC=[],this.tuningF=[],this.scaleTuning=[],this.maxTick=0,this.playTick=0,this.playing=0,this.releaseRatio=3.5;for(var f=0;f<16;++f)this.pg[f]=0,this.vol[f]=3*100*100/(127*127),this.bend[f]=0,this.brange[f]=256,this.tuningC[f]=0,this.tuningF[f]=0,this.scaleTuning[f]=[0,0,0,0,0,0,0,0,0,0,0,0],this.rhythm[f]=0;this.rhythm[9]=1,this.preroll=.2,this.relcnt=0,setInterval((function(){if(++this.relcnt>=3){this.relcnt=0;for(var w=this.notetab.length-1;w>=0;--w){var E=this.notetab[w];this.actx.currentTime>E.e&&(this._pruneNote(E),this.notetab.splice(w,1))}}if(this.playing&&this.song.ev.length>0)for(var O=this.song.ev[this.playIndex];this.actx.currentTime+this.preroll>this.playTime;)if(O.m[0]==65361?(this.song.tempo=O.m[1],this.tick2Time=4*60/this.song.tempo/this.song.timebase):this.send(O.m,this.playTime),++this.playIndex,this.playIndex>=this.song.ev.length)if(this.loop)O=this.song.ev[this.playIndex=0],this.playTick=O.t;else{this.playTick=this.maxTick,this.playing=0;break}else O=this.song.ev[this.playIndex],this.playTime+=(O.t-this.playTick)*this.tick2Time,this.playTick=O.t}).bind(this),60),this.isReady=1},setMasterVol:function(f){f!=null&&(this.masterVol=f),this.out&&(this.out.gain.value=this.masterVol)},setReverbLev:function(f){f!=null&&(this.reverbLev=f);var w=parseFloat(this.reverbLev);this.rev&&!isNaN(w)&&(this.rev.gain.value=w*8)},setLoop:function(f){this.loop=f},setVoices:function(f){this.voices=f},reset:function(){for(var f=0;f<16;++f)this.setProgram(f,0),this.setBendRange(f,256),this.setModulation(f,0),this.setChVol(f,100),this.setPan(f,64),this.resetAllControllers(f),this.allSoundOff(f),this.rhythm[f]=0,this.tuningC[f]=0,this.tuningF[f]=0,this.scaleTuning[f]=[0,0,0,0,0,0,0,0,0,0,0,0];this.masterTuningC=0,this.masterTuningF=0,this.rhythm[9]=1},setQuality:function(f){var w;for(f!=null&&(this.quality=f),w=0;w<128;++w)this.setTimbre(0,w,this.program0[w]);for(w=0;w<this.drummap0.length;++w)this.setTimbre(1,w+35,this.drummap0[w]);if(this.quality){for(w=0;w<this.program1.length;++w)this.setTimbre(0,w,this.program1[w]);for(w=0;w<this.drummap.length;++w)this.drummap1[w]&&this.setTimbre(1,w+35,this.drummap1[w])}},setTimbre:function(f,w,E){var O={g:0,w:"sine",t:1,f:0,v:.5,a:0,h:.01,d:.01,s:0,r:.05,p:1,q:1,k:0};function q(T){for(w=0;w<T.length;++w)for(M in O)(!T[w].hasOwnProperty(M)||typeof T[w][M]>"u")&&(T[w][M]=O[M]);return T}f&&w>=35&&w<=81&&(this.drummap[w-35]=q(E)),f==0&&w>=0&&w<=127&&(this.program[w]=q(E))},_pruneNote:function(f){for(var w=f.o.length-1;w>=0;--w){if(f.o[w].frequency?f.o[w].frequency.cancelScheduledValues(0):f.o[w].playbackRate.cancelScheduledValues(0),f.g[w].gain.cancelScheduledValues(0),f.o[w].stop(),f.o[w].detune)try{this.chmod[f.ch].disconnect(f.o[w].detune)}catch{}f.g[w].gain.value=0}},_limitVoices:function(f,w){this.notetab.sort(function(q,T){return q.f!=T.f?q.f-T.f:q.e!=T.e?T.e-q.e:T.t-q.t});for(var E=this.notetab.length-1;E>=0;--E){var O=this.notetab[E];(this.actx.currentTime>O.e||E>=this.voices-1)&&(this._pruneNote(O),this.notetab.splice(E,1))}},_note:function(f,w,E,O,q){var T,b,P,F=[],G=[],Z=[],J=[],$=[],V=440*Math.pow(2,(E-69+this.masterTuningC+this.tuningC[w]+(this.masterTuningF+this.tuningF[w]/8192+this.scaleTuning[w][E%12]))/12);this._limitVoices(w,E);for(var j=0;j<q.length;++j){P=q[j];var fe=f+P.a+P.h;switch(P.g==0?(T=this.chvol[w],b=O*O/16384,J[j]=V*P.t+P.f):P.g>10?(T=G[P.g-11].gain,b=1,J[j]=J[P.g-11]*P.t+P.f):F[P.g-1].frequency?(T=F[P.g-1].frequency,b=J[P.g-1],J[j]=J[P.g-1]*P.t+P.f):(T=F[P.g-1].playbackRate,b=J[P.g-1]/440,J[j]=J[P.g-1]*P.t+P.f),P.w[0]){case"n":F[j]=this.actx.createBufferSource(),F[j].buffer=this.noiseBuf[P.w],F[j].loop=!0,F[j].playbackRate.value=J[j]/440,P.p!=1&&this._setParamTarget(F[j].playbackRate,J[j]/440*P.p,f,P.q),F[j].detune&&(this.chmod[w].connect(F[j].detune),F[j].detune.value=this.bend[w]);break;default:F[j]=this.actx.createOscillator(),F[j].frequency.value=J[j],P.p!=1&&this._setParamTarget(F[j].frequency,J[j]*P.p,f,P.q),P.w[0]=="w"?F[j].setPeriodicWave(this.wave[P.w]):F[j].type=P.w,F[j].detune&&(this.chmod[w].connect(F[j].detune),F[j].detune.value=this.bend[w]);break}G[j]=this.actx.createGain(),$[j]=P.r,F[j].connect(G[j]),G[j].connect(T),Z[j]=b*P.v,P.k&&(Z[j]*=Math.pow(2,(E-60)/12*P.k)),P.a?(G[j].gain.value=0,G[j].gain.setValueAtTime(0,f),G[j].gain.linearRampToValueAtTime(Z[j],f+P.a)):G[j].gain.setValueAtTime(Z[j],f),this._setParamTarget(G[j].gain,P.s*Z[j],fe,P.d),F[j].start(f),this.rhythm[w]&&(F[j].onended=function(Ie,qe){return function(){qe&&Ie.disconnect(qe)}}(this.chmod[w],F[j].detune),F[j].stop(f+q[0].d*this.releaseRatio))}this.rhythm[w]||this.notetab.push({t:f,e:99999,ch:w,n:E,o:F,g:G,t2:f+P.a,v:Z,r:$,f:0})},_setParamTarget:function(f,w,E,O){O!=0?f.setTargetAtTime(w,E,O):f.setValueAtTime(w,E)},_releaseNote:function(f,w){if(f.ch!=9)for(var E=f.g.length-1;E>=0;--E)f.g[E].gain.cancelScheduledValues(w),w==f.t2?f.g[E].gain.setValueAtTime(f.v[E],w):w<f.t2&&f.g[E].gain.setValueAtTime(f.v[E]*(w-f.t)/(f.t2-f.t),w),this._setParamTarget(f.g[E].gain,0,w,f.r[E]);f.e=w+f.r[0]*this.releaseRatio,f.f=1},setModulation:function(f,w,E){this.chmod[f].gain.setValueAtTime(w*100/127,this._tsConv(E))},setChVol:function(f,w,E){this.vol[f]=3*w*w/(127*127),this.chvol[f].gain.setValueAtTime(this.vol[f]*this.ex[f],this._tsConv(E))},setPan:function(f,w,E){this.chpan[f]&&this.chpan[f].pan.setValueAtTime((w-64)/64,this._tsConv(E))},setExpression:function(f,w,E){this.ex[f]=w*w/(127*127),this.chvol[f].gain.setValueAtTime(this.vol[f]*this.ex[f],this._tsConv(E))},setSustain:function(f,w,E){if(this.sustain[f]=w,E=this._tsConv(E),w<64)for(var O=this.notetab.length-1;O>=0;--O){var q=this.notetab[O];E>=q.t&&q.ch==f&&q.f==1&&this._releaseNote(q,E)}},allSoundOff:function(f){for(var w=this.notetab.length-1;w>=0;--w){var E=this.notetab[w];E.ch==f&&(this._pruneNote(E),this.notetab.splice(w,1))}},resetAllControllers:function(f){this.bend[f]=0,this.ex[f]=1,this.rpnidx[f]=16383,this.sustain[f]=0,this.chvol[f]&&(this.chvol[f].gain.value=this.vol[f]*this.ex[f],this.chmod[f].gain.value=0)},setBendRange:function(f,w){this.brange[f]=w},setProgram:function(f,w){this.debug&&console.log("Pg("+f+")="+w),this.pg[f]=w},setBend:function(f,w,E){E=this._tsConv(E);var O=this.brange[f]*100/127;this.bend[f]=(w-8192)*O/8192;for(var q=this.notetab.length-1;q>=0;--q){var T=this.notetab[q];if(T.ch==f)for(var b=T.o.length-1;b>=0;--b)T.o[b].frequency&&T.o[b].detune&&T.o[b].detune.setValueAtTime(this.bend[f],E)}},noteOn:function(f,w,E,O){if(E==0){this.noteOff(f,w,O);return}if(O=this._tsConv(O),this.rhythm[f]){w>=35&&w<=81&&this._note(O,f,w,E,this.drummap[w-35]);return}this._note(O,f,w,E,this.program[this.pg[f]])},noteOff:function(f,w,E){if(!this.rhythm[f]){E=this._tsConv(E);for(var O=this.notetab.length-1;O>=0;--O){var q=this.notetab[O];E>=q.t&&q.ch==f&&q.n==w&&q.f==0&&(q.f=1,this.sustain[f]<64&&this._releaseNote(q,E))}}},_tsConv:function(f){return f==null||f<=0?(f=0,this.actx&&(f=this.actx.currentTime)):this.tsmode&&(f=f*.001-this.tsdiff),f},setTsMode:function(f){this.tsmode=f},send:function(f,w){var E=f[0]&15,O=f[0]&-16;if(!(O<128||O>=256))switch(this.audioContext.state=="suspended"&&this.audioContext.resume(),O){case 176:switch(f[1]){case 1:this.setModulation(E,f[2],w);break;case 7:this.setChVol(E,f[2],w);break;case 10:this.setPan(E,f[2],w);break;case 11:this.setExpression(E,f[2],w);break;case 64:this.setSustain(E,f[2],w);break;case 98:case 99:this.rpnidx[E]=16383;break;case 100:this.rpnidx[E]=this.rpnidx[E]&16256|f[2];break;case 101:this.rpnidx[E]=this.rpnidx[E]&127|f[2]<<7;break;case 6:switch(this.rpnidx[E]){case 0:this.brange[E]=(f[2]<<7)+(this.brange[E]&127);break;case 1:this.tuningF[E]=(f[2]<<7)+(this.tuningF[E]+8192&127)-8192;break;case 2:this.tuningC[E]=f[2]-64;break}break;case 38:switch(this.rpnidx[E]){case 0:this.brange[E]=this.brange[E]&16256|f[2];break;case 1:this.tuningF[E]=(this.tuningF[E]+8192&16256|f[2])-8192;break}break;case 120:case 123:case 124:case 125:case 126:case 127:this.allSoundOff(E);break;case 121:this.resetAllControllers(E);break}break;case 192:this.setProgram(E,f[1]);break;case 224:this.setBend(E,f[1]+(f[2]<<7),w);break;case 144:this.noteOn(E,f[1],f[2],w);break;case 128:this.noteOff(E,f[1],w);break;case 240:if(f[0]==255){this.reset();break}if(f[0]!=254&&this.debug)for(var q=[],T=0;T<f.length;++T)q.push(f[T].toString(16));if(f[0]==240&&(f[1]==127&&f[3]==4&&(f[4]==3&&f.length>=8&&(this.masterTuningF=(f[6]*128+f[5]-8192)/8192),f[4]==4&&f.length>=8&&(this.masterTuningC=f[6]-64)),f[1]==65&&f[3]==66&&f[4]==18&&f[5]==64))if((f[6]&240)==16&&f.length==11){var b=[9,0,1,2,3,4,5,6,7,8,10,11,12,13,14,15][f[6]&15];f[7]==21?this.rhythm[b]=f[8]:f[7]>=64&&f[7]<=75&&(this.scaleTuning[b][f[7]-64]=(f[8]-64)/100)}else f[6]==0&&(f[7]==0&&f.length==14?this.masterTuningF=(f[8]*4096+f[9]*256+f[10]*16+f[11]-1024)/1e3:f[7]==5&&f.length==11&&(this.masterTuningC=f[8]-64));break}},_createWave:function(f){for(var w=new Float32Array(f.length),E=new Float32Array(f.length),O=1;O<f.length;++O)w[O]=f[O];return this.actx.createPeriodicWave(E,w)},getAudioContext:function(){return this.actx},setAudioContext:function(f,w){this.audioContext=this.actx=f,this.dest=w,w||(this.dest=f.destination),this.tsdiff=performance.now()*.001-this.actx.currentTime,this.out=this.actx.createGain(),this.comp=this.actx.createDynamicsCompressor();var E=this.actx.sampleRate*.5|0;this.convBuf=this.actx.createBuffer(2,E,this.actx.sampleRate),this.noiseBuf={},this.noiseBuf.n0=this.actx.createBuffer(1,E,this.actx.sampleRate),this.noiseBuf.n1=this.actx.createBuffer(1,E,this.actx.sampleRate);for(var O=this.convBuf.getChannelData(0),q=this.convBuf.getChannelData(1),T=this.noiseBuf.n0.getChannelData(0),b=this.noiseBuf.n1.getChannelData(0),P=0;P<E;++P)P/E<Math.random()&&(O[P]=Math.exp(-3*P/E)*(Math.random()-.5)*.5,q[P]=Math.exp(-3*P/E)*(Math.random()-.5)*.5),T[P]=Math.random()*2-1;for(var F=0;F<64;++F){var G=Math.random()*10+1,Z=Math.random()*10+1;for(P=0;P<E;++P){var J=Math.sin(P/E*2*Math.PI*440*G)*Math.sin(P/E*2*Math.PI*440*Z);b[P]+=J/8}}for(this.useReverb&&(this.conv=this.actx.createConvolver(),this.conv.buffer=this.convBuf,this.rev=this.actx.createGain(),this.rev.gain.value=this.reverbLev,this.out.connect(this.conv),this.conv.connect(this.rev),this.rev.connect(this.comp)),this.setMasterVol(),this.out.connect(this.comp),this.comp.connect(this.dest),this.chvol=[],this.chmod=[],this.chpan=[],this.wave={w9999:this._createWave("w9999")},this.lfo=this.actx.createOscillator(),this.lfo.frequency.value=5,this.lfo.start(0),P=0;P<16;++P)this.chvol[P]=this.actx.createGain(),this.actx.createStereoPanner?(this.chpan[P]=this.actx.createStereoPanner(),this.chvol[P].connect(this.chpan[P]),this.chpan[P].connect(this.out)):(this.chpan[P]=null,this.chvol[P].connect(this.out)),this.chmod[P]=this.actx.createGain(),this.lfo.connect(this.chmod[P]),this.pg[P]=0,this.resetAllControllers(P);this.setReverbLev(),this.reset()}};for(var M in this.sy.properties)this[M]=this.sy.properties[M].value;this.setQuality(1),S&&(S.useReverb!=null&&(this.useReverb=S.useReverb),S.quality!=null&&this.setQuality(S.quality),S.voices!=null&&this.setVoices(S.voices)),this.ready()}function u(S,M,f){if(typeof M>"u")return u(S,[],[]);if(S instanceof Object){for(var w=0;w<M.length;w++)if(M[w]===S)return f[w];var E;S instanceof Array?E=[]:E={},M.push(S),f.push(E);for(var O in S)S.hasOwnProperty(O)&&(E[O]=u(S[O],M,f));return E}return S}var c;function g(){return c||(c=r.lib.getAudioContext()),!!c}var m={},C={};C._info=function(S){return S||(S="JZZ.synth.Tiny"),{type:"Web Audio",name:S,manufacturer:"virtual",version:i}},C._openOut=function(S,M){if(g(),!c){S._crash("AudioContext not supported");return}var f;typeof M<"u"?(M=""+M,m[M]||(m[M]=new a),f=m[M]):f=new a,f.setAudioContext(c),S.plug=function(w){w&&(w.context instanceof AudioContext||w.context instanceof webkitAudioContext)&&f.setAudioContext(w.context,w)},S.setSynth=function(w,E,O){f.setTimbre(!!O,w,u(E))},S.getSynth=function(w,E){return u(E?f.drummap[w-35]:f.program[w])},S._info=C._info(M),S._receive=function(w){f.send(w)},S._resume()},r.synth.Tiny=function(S){return r.lib.openMidiOut(S,C)},r.synth.Tiny.register=function(S){return g()?r.lib.registerMidiOut(S,C):!1},r.synth.Tiny.version=function(){return i}})}(su)),su.exports}(function(e,t){(function(r,i){e.exports=i()})(Tr,function(){var r,i;typeof React<"u"?(r=React,i=JZZ):(r=Gt,i=Ry(),Oy()(i),Ny()(i),Dy()(i)),i.synth.Tiny&&i.synth.Tiny.register("Web Audio");function a(){}function u(c){const g=r.useRef(null);var m,C,S;function M(O){if(C!=O&&(C=O,!!C))try{m.load(new i.MIDI.SMF(C)),c.autoplay&&m.play()}catch(q){console.log("Cannot load data:",q.message)}}function f(O){if(S!=O&&(S=O,!!S))try{var q=new XMLHttpRequest;q.onreadystatechange=function(){if(this.readyState==4)if(this.status==200)try{m.load(new i.MIDI.SMF(q.response)),c.autoplay&&m.play()}catch(T){console.log('Cannot load "'+S+'":',T.message)}else console.log('Cannot load "'+S+'": XMLHttpRequest error')};try{q.responseType="arraybuffer"}catch{}q.overrideMimeType("text/plain; charset=x-user-defined"),q.open("GET",S,!0),q.send()}catch(T){console.log("XMLHttpRequest error",T)}}function w(O){m.loop(O||0)}function E(O){O&&m.play()}return r.useEffect(()=>(m=i.gui.Player(g.current),f(c.src),M(c.data),w(c.loop),E(c.autoplay),()=>{g.current&&(g.current.innerHTML="")})),r.useEffect(()=>{f(c.src),E(c.autoplay)},[c.src]),r.useEffect(()=>{M(c.data),E(c.autoplay)},[c.data]),r.useEffect(()=>{w(c.loop)},[c.loop]),r.useEffect(()=>{E(c.autoplay)},[c.autoplay]),r.useEffect(()=>{m.onPlay=c.onPlay||a},[c.onPlay]),r.useEffect(()=>{m.onStop=c.onStop||a},[c.onStop]),r.useEffect(()=>{m.onPause=c.onPause||a},[c.onPause]),r.useEffect(()=>{m.onResume=c.onResume||a},[c.onResume]),r.useEffect(()=>{m.onEnd=c.onEnd||a},[c.onEnd]),r.createElement("span",{ref:g})}return u})})(fp);var zy=fp.exports;const Fy=Bo(zy);function Ly(e,t,r,i){return new(r||(r=Promise))(function(a,u){function c(C){try{m(i.next(C))}catch(S){u(S)}}function g(C){try{m(i.throw(C))}catch(S){u(S)}}function m(C){var S;C.done?a(C.value):(S=C.value,S instanceof r?S:new r(function(M){M(S)})).then(c,g)}m((i=i.apply(e,t||[])).next())})}const Oh=(e,t,r,i)=>{e.style.transition=`${t} ${r}ms ${i}`},Xn=(e,t,r)=>Math.min(Math.max(e,t),r);class Uy{constructor(t,r){this.glareAngle=0,this.glareOpacity=0,this.calculateGlareSize=c=>{const{width:g,height:m}=c,C=Math.sqrt(Math.pow(g,2)+Math.pow(m,2));return{width:C,height:C}},this.setSize=c=>{const g=this.calculateGlareSize(c);this.glareEl.style.width=`${g.width}px`,this.glareEl.style.height=`${g.height}px`},this.update=(c,g,m,C)=>{this.updateAngle(c,g.glareReverse),this.updateOpacity(c,g,m,C)},this.updateAngle=(c,g)=>{const{xPercentage:m,yPercentage:C}=c,S=180/Math.PI,M=m?Math.atan2(C,-m)*S:0;this.glareAngle=M-(g?180:0)},this.updateOpacity=(c,g,m,C)=>{const{xPercentage:S,yPercentage:M}=c,{glarePosition:f,glareReverse:w,glareMaxOpacity:E}=g,O=m?-1:1,q=C?-1:1,T=w?-1:1;let b=0;switch(f){case"top":b=-S*O*T;break;case"right":b=M*q*T;break;case"bottom":case void 0:b=S*O*T;break;case"left":b=-M*q*T;break;case"all":b=Math.hypot(S,M)}const P=Xn(b,0,100);this.glareOpacity=P*E/100},this.render=c=>{const{glareColor:g}=c;this.glareEl.style.transform=`rotate(${this.glareAngle}deg) translate(-50%, -50%)`,this.glareEl.style.opacity=this.glareOpacity.toString(),this.glareEl.style.background=`linear-gradient(0deg, rgba(255,255,255,0) 0%, ${g} 100%)`},this.glareWrapperEl=document.createElement("div"),this.glareEl=document.createElement("div"),this.glareWrapperEl.appendChild(this.glareEl),this.glareWrapperEl.className="glare-wrapper",this.glareEl.className="glare";const i={position:"absolute",top:"0",left:"0",width:"100%",height:"100%",overflow:"hidden",borderRadius:r,WebkitMaskImage:"-webkit-radial-gradient(white, black)",pointerEvents:"none"},a=this.calculateGlareSize(t),u={position:"absolute",top:"50%",left:"50%",transformOrigin:"0% 0%",pointerEvents:"none",width:`${a.width}px`,height:`${a.height}px`};Object.assign(this.glareWrapperEl.style,i),Object.assign(this.glareEl.style,u)}}class Vy{constructor(){this.glareAngle=0,this.glareOpacity=0,this.tiltAngleX=0,this.tiltAngleY=0,this.tiltAngleXPercentage=0,this.tiltAngleYPercentage=0,this.update=(t,r)=>{this.updateTilt(t,r),this.updateTiltManualInput(t,r),this.updateTiltReverse(r),this.updateTiltLimits(r)},this.updateTilt=(t,r)=>{const{xPercentage:i,yPercentage:a}=t,{tiltMaxAngleX:u,tiltMaxAngleY:c}=r;this.tiltAngleX=i*u/100,this.tiltAngleY=a*c/100*-1},this.updateTiltManualInput=(t,r)=>{const{tiltAngleXManual:i,tiltAngleYManual:a,tiltMaxAngleX:u,tiltMaxAngleY:c}=r;(i!==null||a!==null)&&(this.tiltAngleX=i!==null?i:0,this.tiltAngleY=a!==null?a:0,t.xPercentage=100*this.tiltAngleX/u,t.yPercentage=100*this.tiltAngleY/c)},this.updateTiltReverse=t=>{const r=t.tiltReverse?-1:1;this.tiltAngleX=r*this.tiltAngleX,this.tiltAngleY=r*this.tiltAngleY},this.updateTiltLimits=t=>{const{tiltAxis:r}=t;this.tiltAngleX=Xn(this.tiltAngleX,-90,90),this.tiltAngleY=Xn(this.tiltAngleY,-90,90),r&&(this.tiltAngleX=r==="x"?this.tiltAngleX:0,this.tiltAngleY=r==="y"?this.tiltAngleY:0)},this.updateTiltAnglesPercentage=t=>{const{tiltMaxAngleX:r,tiltMaxAngleY:i}=t;this.tiltAngleXPercentage=this.tiltAngleX/r*100,this.tiltAngleYPercentage=this.tiltAngleY/i*100},this.render=t=>{t.style.transform+=`rotateX(${this.tiltAngleX}deg) rotateY(${this.tiltAngleY}deg) `}}}const jy=Object.assign(Object.assign({scale:1,perspective:1e3,flipVertically:!1,flipHorizontally:!1,reset:!0,transitionEasing:"cubic-bezier(.03,.98,.52,.99)",transitionSpeed:400,trackOnWindow:!1,gyroscope:!1},{tiltEnable:!0,tiltReverse:!1,tiltAngleXInitial:0,tiltAngleYInitial:0,tiltMaxAngleX:20,tiltMaxAngleY:20,tiltAxis:void 0,tiltAngleXManual:null,tiltAngleYManual:null}),{glareEnable:!1,glareMaxOpacity:.7,glareColor:"#ffffff",glarePosition:"bottom",glareReverse:!1,glareBorderRadius:"0"});class Hy extends Gt.PureComponent{constructor(){super(...arguments),this.wrapperEl={node:null,size:{width:0,height:0,left:0,top:0},clientPosition:{x:null,y:null,xPercentage:0,yPercentage:0},updateAnimationId:null,scale:1},this.tilt=null,this.glare=null,this.addDeviceOrientationEventListener=()=>Ly(this,void 0,void 0,function*(){if(!window.DeviceOrientationEvent)return;const t=DeviceOrientationEvent.requestPermission;typeof t=="function"?(yield t())==="granted"&&window.addEventListener("deviceorientation",this.onMove):window.addEventListener("deviceorientation",this.onMove)}),this.setSize=()=>{this.setWrapperElSize(),this.glare&&this.glare.setSize(this.wrapperEl.size)},this.mainLoop=t=>{this.wrapperEl.updateAnimationId!==null&&cancelAnimationFrame(this.wrapperEl.updateAnimationId),this.processInput(t),this.update(t.type),this.wrapperEl.updateAnimationId=requestAnimationFrame(this.renderFrame)},this.onEnter=t=>{const{onEnter:r}=this.props;this.setSize(),this.wrapperEl.node.style.willChange="transform",this.setTransitions(),r&&r(t.type)},this.onMove=t=>{this.mainLoop(t),this.emitOnMove(t)},this.onLeave=t=>{const{onLeave:r}=this.props;if(this.setTransitions(),r&&r(t.type),this.props.reset){const i=new CustomEvent("autoreset");this.onMove(i)}},this.processInput=t=>{const{scale:r}=this.props;switch(t.type){case"mousemove":this.wrapperEl.clientPosition.x=t.pageX,this.wrapperEl.clientPosition.y=t.pageY,this.wrapperEl.scale=r;break;case"touchmove":this.wrapperEl.clientPosition.x=t.touches[0].pageX,this.wrapperEl.clientPosition.y=t.touches[0].pageY,this.wrapperEl.scale=r;break;case"deviceorientation":this.processInputDeviceOrientation(t),this.wrapperEl.scale=r;break;case"autoreset":const{tiltAngleXInitial:i,tiltAngleYInitial:a,tiltMaxAngleX:u,tiltMaxAngleY:c}=this.props,g=a/c*100;this.wrapperEl.clientPosition.xPercentage=Xn(i/u*100,-100,100),this.wrapperEl.clientPosition.yPercentage=Xn(g,-100,100),this.wrapperEl.scale=1}},this.processInputDeviceOrientation=t=>{if(!t.gamma||!t.beta||!this.props.gyroscope)return;const{tiltMaxAngleX:r,tiltMaxAngleY:i}=this.props,a=t.gamma;this.wrapperEl.clientPosition.xPercentage=t.beta/r*100,this.wrapperEl.clientPosition.yPercentage=a/i*100,this.wrapperEl.clientPosition.xPercentage=Xn(this.wrapperEl.clientPosition.xPercentage,-100,100),this.wrapperEl.clientPosition.yPercentage=Xn(this.wrapperEl.clientPosition.yPercentage,-100,100)},this.update=t=>{const{tiltEnable:r,flipVertically:i,flipHorizontally:a}=this.props;t!=="autoreset"&&t!=="deviceorientation"&&t!=="propChange"&&this.updateClientInput(),r&&this.tilt.update(this.wrapperEl.clientPosition,this.props),this.updateFlip(),this.tilt.updateTiltAnglesPercentage(this.props),this.glare&&this.glare.update(this.wrapperEl.clientPosition,this.props,i,a)},this.updateClientInput=()=>{const{trackOnWindow:t}=this.props;let r,i;if(t){const{x:a,y:u}=this.wrapperEl.clientPosition;r=u/window.innerHeight*200-100,i=a/window.innerWidth*200-100}else{const{size:{width:a,height:u,left:c,top:g},clientPosition:{x:m,y:C}}=this.wrapperEl;r=(C-g)/u*200-100,i=(m-c)/a*200-100}this.wrapperEl.clientPosition.xPercentage=Xn(r,-100,100),this.wrapperEl.clientPosition.yPercentage=Xn(i,-100,100)},this.updateFlip=()=>{const{flipVertically:t,flipHorizontally:r}=this.props;t&&(this.tilt.tiltAngleX+=180,this.tilt.tiltAngleY*=-1),r&&(this.tilt.tiltAngleY+=180)},this.renderFrame=()=>{this.resetWrapperElTransform(),this.renderPerspective(),this.tilt.render(this.wrapperEl.node),this.renderScale(),this.glare&&this.glare.render(this.props)}}componentDidMount(){if(this.tilt=new Vy,this.initGlare(),this.addEventListeners(),typeof CustomEvent>"u")return;const t=new CustomEvent("autoreset");this.mainLoop(t);const r=new CustomEvent("initial");this.emitOnMove(r)}componentWillUnmount(){this.wrapperEl.updateAnimationId!==null&&cancelAnimationFrame(this.wrapperEl.updateAnimationId),this.removeEventListeners()}componentDidUpdate(){const t=new CustomEvent("propChange");this.mainLoop(t),this.emitOnMove(t)}addEventListeners(){const{trackOnWindow:t,gyroscope:r}=this.props;window.addEventListener("resize",this.setSize),t&&(window.addEventListener("mouseenter",this.onEnter),window.addEventListener("mousemove",this.onMove),window.addEventListener("mouseout",this.onLeave),window.addEventListener("touchstart",this.onEnter),window.addEventListener("touchmove",this.onMove),window.addEventListener("touchend",this.onLeave)),r&&this.addDeviceOrientationEventListener()}removeEventListeners(){const{trackOnWindow:t,gyroscope:r}=this.props;window.removeEventListener("resize",this.setSize),t&&(window.removeEventListener("mouseenter",this.onEnter),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseout",this.onLeave),window.removeEventListener("touchstart",this.onEnter),window.removeEventListener("touchmove",this.onMove),window.removeEventListener("touchend",this.onLeave)),r&&window.DeviceOrientationEvent&&window.removeEventListener("deviceorientation",this.onMove)}setWrapperElSize(){const t=this.wrapperEl.node.getBoundingClientRect();this.wrapperEl.size.width=this.wrapperEl.node.offsetWidth,this.wrapperEl.size.height=this.wrapperEl.node.offsetHeight,this.wrapperEl.size.left=t.left+window.scrollX,this.wrapperEl.size.top=t.top+window.scrollY}initGlare(){const{glareEnable:t,glareBorderRadius:r}=this.props;t&&(this.glare=new Uy(this.wrapperEl.size,r),this.wrapperEl.node.appendChild(this.glare.glareWrapperEl))}emitOnMove(t){const{onMove:r}=this.props;if(!r)return;let i=0,a=0;this.glare&&(i=this.glare.glareAngle,a=this.glare.glareOpacity),r({tiltAngleX:this.tilt.tiltAngleX,tiltAngleY:this.tilt.tiltAngleY,tiltAngleXPercentage:this.tilt.tiltAngleXPercentage,tiltAngleYPercentage:this.tilt.tiltAngleYPercentage,glareAngle:i,glareOpacity:a,eventType:t.type})}resetWrapperElTransform(){this.wrapperEl.node.style.transform=""}renderPerspective(){const{perspective:t}=this.props;this.wrapperEl.node.style.transform+=`perspective(${t}px) `}renderScale(){const{scale:t}=this.wrapperEl;this.wrapperEl.node.style.transform+=`scale3d(${t},${t},${t})`}setTransitions(){const{transitionSpeed:t,transitionEasing:r}=this.props;Oh(this.wrapperEl.node,"all",t,r),this.glare&&Oh(this.glare.glareEl,"opacity",t,r)}render(){const{children:t,className:r,style:i}=this.props;return pe.createElement("div",{ref:a=>this.wrapperEl.node=a,onMouseEnter:this.onEnter,onMouseMove:this.onMove,onMouseLeave:this.onLeave,onTouchStart:this.onEnter,onTouchMove:this.onMove,onTouchEnd:this.onLeave,className:r,style:i},t)}}Hy.defaultProps=jy;function qy(){const[e,t]=Gt.useState("home"),[r,i]=Gt.useState(""),[a,u]=Gt.useState(""),[c,g]=Gt.useState(2),[m,C]=Gt.useState(3),[S,M]=Gt.useState(4),[f,w]=Gt.useState(9);function E(b){t(b)}function O(){document.getElementsByClassName("menu")[0].classList.toggle("showmenu")}function q(){let b=document.getElementById("inputx").value,P=document.getElementById("inputy").value,F=document.getElementById("inputz").value,G=document.getElementById("inputk").value;g(b),C(P),M(F),w(G)}function T(){fetch("https://cal-muse-api.onrender.com/plot",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({x:c,y:m,z:S,k:f})}).then(G=>G.json()).then(G=>{console.log(G)});const b=new Ji.Track;b.addEvent([new Ji.NoteEvent({wait:"8",pitch:["F#4","D#4","F4","F4","D#4","D4"],duration:"8"}),new Ji.NoteEvent({pitch:["D4","D4","D4"],duration:"4"}),new Ji.NoteEvent({pitch:["D4","D#4","F4","F4","D#4","F#4"],duration:"8"})],function(G,Z){return{sequential:!0}});const P=new Ji.Writer(b);var F=atob(P.base64());u(F),i(P.dataUri())}return e=="home"?ne.jsxs("div",{className:"",children:[ne.jsx("div",{className:"flex justify-center items-center h-screen",children:ne.jsxs("div",{className:"bg-[#0009] grider grid p-2 rounded-2xl w-[70vw] h-[80vh]",children:[ne.jsx("h1",{className:"text-[40px]",children:"Cal-Muse"}),ne.jsx("div",{className:"w-full p-2",children:"home"}),ne.jsx("div",{className:"navbar overflow-hidden",children:ne.jsxs("div",{className:"menu",children:[ne.jsx("div",{onClick:O,className:"flex justify-end col-span-2",children:ne.jsx("div",{className:"menubtn rounded-2xl",children:ne.jsx("button",{className:"bg-white custom-box-shadow p-2 rounded-[100px] mr-[20px] text-black",children:ne.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-menu",children:[ne.jsx("line",{x1:"4",x2:"20",y1:"12",y2:"12"}),ne.jsx("line",{x1:"4",x2:"20",y1:"6",y2:"6"}),ne.jsx("line",{x1:"4",x2:"20",y1:"18",y2:"18"})]})})})}),ne.jsx("div",{className:"btn1",children:ne.jsx("button",{className:"bg-blue-500 custom-box-shadow p-1 m-2 rounded-md",onClick:()=>E("theory"),children:"THEORY"})}),ne.jsx("div",{className:"btn2",children:ne.jsx("button",{className:"bg-blue-500 custom-box-shadow p-1 m-2 rounded-md",onClick:()=>E("application"),children:"APPLICATION"})})]})})]})}),ne.jsx(ds,{type:"square",bg:!0})]}):e=="theory"?ne.jsxs("div",{className:"flex justify-center items-center h-screen",children:[ne.jsxs("div",{className:"bg-[#0009] grider grid p-2 rounded-2xl w-[70vw] h-[80vh]",children:[ne.jsx("h1",{className:"text-[40px]",children:"Cal-Muse"}),ne.jsx("div",{className:"w-full p-2 overflow-y-auto",children:"theory"}),ne.jsx("div",{className:"navbar overflow-hidden",children:ne.jsxs("div",{className:"menu",children:[ne.jsx("div",{onClick:O,className:"flex justify-end col-span-2",children:ne.jsx("div",{className:"menubtn",children:ne.jsx("button",{className:"bg-white custom-box-shadow p-2 rounded-[100px] mr-[20px] text-black",children:ne.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-menu",children:[ne.jsx("line",{x1:"4",x2:"20",y1:"12",y2:"12"}),ne.jsx("line",{x1:"4",x2:"20",y1:"6",y2:"6"}),ne.jsx("line",{x1:"4",x2:"20",y1:"18",y2:"18"})]})})})}),ne.jsx("div",{className:"btn1",children:ne.jsx("button",{className:"bg-blue-500 custom-box-shadow p-1 m-2 rounded-md",onClick:()=>E("home"),children:"HOME"})}),ne.jsx("div",{className:"btn2",children:ne.jsx("button",{className:"bg-blue-500 custom-box-shadow p-1 m-2 rounded-md",onClick:()=>E("application"),children:"APPLICATION"})})]})})]}),ne.jsx(ds,{color:"#ffffff",type:"cobweb",bg:!0})]}):e=="application"?ne.jsxs("div",{className:"",children:[ne.jsx("div",{className:"flex justify-center items-center h-screen",children:ne.jsxs("div",{className:"bg-[#0009] overflow-y-auto overflow-x-hidden grider grid p-2 rounded-2xl w-[70vw] h-[80vh]",children:[ne.jsx("h1",{className:" text-[40px]",children:"Cal-Muse"}),ne.jsxs("div",{className:"w-full p-2",children:[ne.jsx("div",{className:"w-full p-2",children:ne.jsx("input",{onChange:q,id:"inputx",className:"p-1 text-center rounded-2xl",type:"number",placeholder:"Enter x"})}),ne.jsx("div",{className:"w-full p-2",children:ne.jsx("input",{onChange:q,id:"inputy",className:"p-1 text-center rounded-2xl",type:"number",placeholder:"Enter y"})}),ne.jsx("div",{className:"w-full p-2",children:ne.jsx("input",{onChange:q,id:"inputz",className:"p-1 text-center rounded-2xl",type:"number",placeholder:"Enter z"})}),ne.jsx("div",{className:"w-full p-2",children:ne.jsx("input",{onChange:q,id:"inputk",className:"p-1 text-center rounded-2xl",type:"number",placeholder:"Enter k"})}),ne.jsx("button",{className:" bg-blue-500 custom-box-shadow p-1 m-3 rounded-md",onClick:T,children:"GENERATE"}),ne.jsx("div",{class:"hor",children:ne.jsx("div",{class:"horm"})}),ne.jsxs("div",{className:"m-8 flex flex-wrap justify-center",children:[ne.jsx("div",{className:"text-[25px] mr-8",children:"MIDI Song :"}),a==""?ne.jsx("div",{}):ne.jsx(Fy,{autoplay:"true",data:a})]}),ne.jsx("div",{class:"hor",children:ne.jsx("div",{class:"horm"})}),ne.jsx("div",{className:"m-6",children:r==""?ne.jsx("div",{}):ne.jsx("a",{className:" bg-blue-500 custom-box-shadow p-1 m-2 rounded-md",href:r,children:"DOWNLOAD"})})]}),ne.jsx("div",{className:"navbar overflow-hidden",children:ne.jsxs("div",{className:"menu",children:[ne.jsx("div",{onClick:O,className:"flex justify-end col-span-2",children:ne.jsx("div",{className:"menubtn",children:ne.jsx("button",{className:"bg-white custom-box-shadow p-2 rounded-[100px] mr-[20px] text-black",children:ne.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-menu",children:[ne.jsx("line",{x1:"4",x2:"20",y1:"12",y2:"12"}),ne.jsx("line",{x1:"4",x2:"20",y1:"6",y2:"6"}),ne.jsx("line",{x1:"4",x2:"20",y1:"18",y2:"18"})]})})})}),ne.jsx("div",{className:"btn1",children:ne.jsx("button",{className:"text-white custom-box-shadow bg-blue-500 p-1 m-2 rounded-md",onClick:()=>E("home"),children:"HOME"})}),ne.jsx("div",{className:"btn2",children:ne.jsx("button",{className:"text-white custom-box-shadow bg-blue-500 p-1 m-2 rounded-md",onClick:()=>E("theory"),children:"THEORY"})})]})})]})}),ne.jsx(ds,{color:"#ffffff",type:"cobweb",bg:!0})]}):ne.jsxs("div",{className:"flex justify-center items-center h-screen",children:[ne.jsxs("div",{className:"bg-[#0009] p-2 rounded-2xl w-[70vw] h-[80vh]",children:[ne.jsx("h1",{className:"text-[40px]",children:"Cal-Muse"}),ne.jsxs("div",{className:"navbar",children:[ne.jsx("button",{className:"bg-blue-500 p-1 m-2 rounded-md",onClick:()=>E("home"),children:"HOME"}),ne.jsx("button",{className:"bg-blue-500 p-1 m-2 rounded-md",onClick:()=>E("theory"),children:"THEORY"}),ne.jsx("button",{className:"bg-blue-500 p-1 m-2 rounded-md",onClick:()=>E("application"),children:"APPLICATION"})]})]}),ne.jsx(ds,{type:"square",bg:!0})]})}au.createRoot(document.getElementById("root")).render(ne.jsx(pe.StrictMode,{children:ne.jsx(qy,{})}));
